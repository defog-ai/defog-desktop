(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{58736:function(l){"use strict";var u=Object.prototype.hasOwnProperty,p=Object.prototype.toString,h=Object.defineProperty,g=Object.getOwnPropertyDescriptor,isArray=function(l){return"function"==typeof Array.isArray?Array.isArray(l):"[object Array]"===p.call(l)},isPlainObject=function(l){if(!l||"[object Object]"!==p.call(l))return!1;var h,g=u.call(l,"constructor"),T=l.constructor&&l.constructor.prototype&&u.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!g&&!T)return!1;for(h in l);return void 0===h||u.call(l,h)},setProperty=function(l,u){h&&"__proto__"===u.name?h(l,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):l[u.name]=u.newValue},getProperty=function(l,p){if("__proto__"===p){if(!u.call(l,p))return;if(g)return g(l,p).value}return l[p]};l.exports=function extend(){var l,u,p,h,g,T,E=arguments[0],v=1,C=arguments.length,x=!1;for("boolean"==typeof E&&(x=E,E=arguments[1]||{},v=2),(null==E||"object"!=typeof E&&"function"!=typeof E)&&(E={});v<C;++v)if(l=arguments[v],null!=l)for(u in l)p=getProperty(E,u),E!==(h=getProperty(l,u))&&(x&&h&&(isPlainObject(h)||(g=isArray(h)))?(g?(g=!1,T=p&&isArray(p)?p:[]):T=p&&isPlainObject(p)?p:{},setProperty(E,{name:u,newValue:extend(x,T,h)})):void 0!==h&&setProperty(E,{name:u,newValue:h}));return E}},163:function(l){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */l.exports=function(l){return null!=l&&null!=l.constructor&&"function"==typeof l.constructor.isBuffer&&l.constructor.isBuffer(l)}},34621:function(l,u,p){"use strict";let{DOCUMENT_MODE:h}=p(56105),g="html",T=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],E=T.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),v=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],C=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],x=C.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function enquoteDoctypeId(l){let u=-1!==l.indexOf('"')?"'":'"';return u+l+u}function hasPrefix(l,u){for(let p=0;p<u.length;p++)if(0===l.indexOf(u[p]))return!0;return!1}u.isConforming=function(l){return l.name===g&&null===l.publicId&&(null===l.systemId||"about:legacy-compat"===l.systemId)},u.getDocumentMode=function(l){if(l.name!==g)return h.QUIRKS;let u=l.systemId;if(u&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===u.toLowerCase())return h.QUIRKS;let p=l.publicId;if(null!==p){if(p=p.toLowerCase(),v.indexOf(p)>-1)return h.QUIRKS;let l=null===u?E:T;if(hasPrefix(p,l))return h.QUIRKS;if(hasPrefix(p,l=null===u?C:x))return h.LIMITED_QUIRKS}return h.NO_QUIRKS},u.serializeContent=function(l,u,p){let h="!DOCTYPE ";return l&&(h+=l),u?h+=" PUBLIC "+enquoteDoctypeId(u):p&&(h+=" SYSTEM"),null!==p&&(h+=" "+enquoteDoctypeId(p)),h}},4422:function(l){"use strict";l.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},52842:function(l,u,p){"use strict";let h=p(67574),g=p(56105),T=g.TAG_NAMES,E=g.NAMESPACES,v=g.ATTRS,C={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},x={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},M={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:E.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:E.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:E.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:E.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:E.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:E.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:E.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:E.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:E.XML},"xml:space":{prefix:"xml",name:"space",namespace:E.XML},xmlns:{prefix:"",name:"xmlns",namespace:E.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:E.XMLNS}},O=u.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},R={[T.B]:!0,[T.BIG]:!0,[T.BLOCKQUOTE]:!0,[T.BODY]:!0,[T.BR]:!0,[T.CENTER]:!0,[T.CODE]:!0,[T.DD]:!0,[T.DIV]:!0,[T.DL]:!0,[T.DT]:!0,[T.EM]:!0,[T.EMBED]:!0,[T.H1]:!0,[T.H2]:!0,[T.H3]:!0,[T.H4]:!0,[T.H5]:!0,[T.H6]:!0,[T.HEAD]:!0,[T.HR]:!0,[T.I]:!0,[T.IMG]:!0,[T.LI]:!0,[T.LISTING]:!0,[T.MENU]:!0,[T.META]:!0,[T.NOBR]:!0,[T.OL]:!0,[T.P]:!0,[T.PRE]:!0,[T.RUBY]:!0,[T.S]:!0,[T.SMALL]:!0,[T.SPAN]:!0,[T.STRONG]:!0,[T.STRIKE]:!0,[T.SUB]:!0,[T.SUP]:!0,[T.TABLE]:!0,[T.TT]:!0,[T.U]:!0,[T.UL]:!0,[T.VAR]:!0};u.causesExit=function(l){let u=l.tagName,p=u===T.FONT&&(null!==h.getTokenAttr(l,v.COLOR)||null!==h.getTokenAttr(l,v.SIZE)||null!==h.getTokenAttr(l,v.FACE));return!!p||R[u]},u.adjustTokenMathMLAttrs=function(l){for(let u=0;u<l.attrs.length;u++)if("definitionurl"===l.attrs[u].name){l.attrs[u].name="definitionURL";break}},u.adjustTokenSVGAttrs=function(l){for(let u=0;u<l.attrs.length;u++){let p=x[l.attrs[u].name];p&&(l.attrs[u].name=p)}},u.adjustTokenXMLAttrs=function(l){for(let u=0;u<l.attrs.length;u++){let p=M[l.attrs[u].name];p&&(l.attrs[u].prefix=p.prefix,l.attrs[u].name=p.name,l.attrs[u].namespace=p.namespace)}},u.adjustTokenSVGTagName=function(l){let u=O[l.tagName];u&&(l.tagName=u)},u.isIntegrationPoint=function(l,u,p,h){return!!((!h||h===E.HTML)&&function(l,u,p){if(u===E.MATHML&&l===T.ANNOTATION_XML){for(let l=0;l<p.length;l++)if(p[l].name===v.ENCODING){let u=p[l].value.toLowerCase();return u===C.TEXT_HTML||u===C.APPLICATION_XML}}return u===E.SVG&&(l===T.FOREIGN_OBJECT||l===T.DESC||l===T.TITLE)}(l,u,p))||(!h||h===E.MATHML)&&u===E.MATHML&&(l===T.MI||l===T.MO||l===T.MN||l===T.MS||l===T.MTEXT)}},56105:function(l,u){"use strict";let p=u.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};u.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},u.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};let h=u.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};u.SPECIAL_ELEMENTS={[p.HTML]:{[h.ADDRESS]:!0,[h.APPLET]:!0,[h.AREA]:!0,[h.ARTICLE]:!0,[h.ASIDE]:!0,[h.BASE]:!0,[h.BASEFONT]:!0,[h.BGSOUND]:!0,[h.BLOCKQUOTE]:!0,[h.BODY]:!0,[h.BR]:!0,[h.BUTTON]:!0,[h.CAPTION]:!0,[h.CENTER]:!0,[h.COL]:!0,[h.COLGROUP]:!0,[h.DD]:!0,[h.DETAILS]:!0,[h.DIR]:!0,[h.DIV]:!0,[h.DL]:!0,[h.DT]:!0,[h.EMBED]:!0,[h.FIELDSET]:!0,[h.FIGCAPTION]:!0,[h.FIGURE]:!0,[h.FOOTER]:!0,[h.FORM]:!0,[h.FRAME]:!0,[h.FRAMESET]:!0,[h.H1]:!0,[h.H2]:!0,[h.H3]:!0,[h.H4]:!0,[h.H5]:!0,[h.H6]:!0,[h.HEAD]:!0,[h.HEADER]:!0,[h.HGROUP]:!0,[h.HR]:!0,[h.HTML]:!0,[h.IFRAME]:!0,[h.IMG]:!0,[h.INPUT]:!0,[h.LI]:!0,[h.LINK]:!0,[h.LISTING]:!0,[h.MAIN]:!0,[h.MARQUEE]:!0,[h.MENU]:!0,[h.META]:!0,[h.NAV]:!0,[h.NOEMBED]:!0,[h.NOFRAMES]:!0,[h.NOSCRIPT]:!0,[h.OBJECT]:!0,[h.OL]:!0,[h.P]:!0,[h.PARAM]:!0,[h.PLAINTEXT]:!0,[h.PRE]:!0,[h.SCRIPT]:!0,[h.SECTION]:!0,[h.SELECT]:!0,[h.SOURCE]:!0,[h.STYLE]:!0,[h.SUMMARY]:!0,[h.TABLE]:!0,[h.TBODY]:!0,[h.TD]:!0,[h.TEMPLATE]:!0,[h.TEXTAREA]:!0,[h.TFOOT]:!0,[h.TH]:!0,[h.THEAD]:!0,[h.TITLE]:!0,[h.TR]:!0,[h.TRACK]:!0,[h.UL]:!0,[h.WBR]:!0,[h.XMP]:!0},[p.MATHML]:{[h.MI]:!0,[h.MO]:!0,[h.MN]:!0,[h.MS]:!0,[h.MTEXT]:!0,[h.ANNOTATION_XML]:!0},[p.SVG]:{[h.TITLE]:!0,[h.FOREIGN_OBJECT]:!0,[h.DESC]:!0}}},47682:function(l,u){"use strict";let p=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];u.REPLACEMENT_CHARACTER="�",u.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},u.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},u.isSurrogate=function(l){return l>=55296&&l<=57343},u.isSurrogatePair=function(l){return l>=56320&&l<=57343},u.getSurrogatePairCodePoint=function(l,u){return(l-55296)*1024+9216+u},u.isControlCodePoint=function(l){return 32!==l&&10!==l&&13!==l&&9!==l&&12!==l&&l>=1&&l<=31||l>=127&&l<=159},u.isUndefinedCodePoint=function(l){return l>=64976&&l<=65007||p.indexOf(l)>-1}},55607:function(l,u,p){"use strict";let h=p(79848);l.exports=class extends h{constructor(l,u){super(l),this.posTracker=null,this.onParseError=u.onParseError}_setErrorLocation(l){l.startLine=l.endLine=this.posTracker.line,l.startCol=l.endCol=this.posTracker.col,l.startOffset=l.endOffset=this.posTracker.offset}_reportError(l){let u={code:l,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(u),this.onParseError(u)}_getOverriddenMethods(l){return{_err(u){l._reportError(u)}}}}},83938:function(l,u,p){"use strict";let h=p(55607),g=p(60992),T=p(38523),E=p(79848);l.exports=class extends h{constructor(l,u){super(l,u),this.opts=u,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(l){this.ctLoc&&(l.startLine=this.ctLoc.startLine,l.startCol=this.ctLoc.startCol,l.startOffset=this.ctLoc.startOffset,l.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,l.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,l.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(l,u){return{_bootstrap(p,h){u._bootstrap.call(this,p,h),E.install(this.tokenizer,g,l.opts),E.install(this.tokenizer,T)},_processInputToken(p){l.ctLoc=p.location,u._processInputToken.call(this,p)},_err(u,p){l.locBeforeToken=p&&p.beforeToken,l._reportError(u)}}}}},70904:function(l,u,p){"use strict";let h=p(55607),g=p(51986),T=p(79848);l.exports=class extends h{constructor(l,u){super(l,u),this.posTracker=T.install(l,g),this.lastErrOffset=-1}_reportError(l){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(l))}}},60992:function(l,u,p){"use strict";let h=p(55607),g=p(70904),T=p(79848);l.exports=class extends h{constructor(l,u){super(l,u);let p=T.install(l.preprocessor,g,u);this.posTracker=p.posTracker}}},94057:function(l,u,p){"use strict";let h=p(79848);l.exports=class extends h{constructor(l,u){super(l),this.onItemPop=u.onItemPop}_getOverriddenMethods(l,u){return{pop(){l.onItemPop(this.current),u.pop.call(this)},popAllUpToHtmlElement(){for(let u=this.stackTop;u>0;u--)l.onItemPop(this.items[u]);u.popAllUpToHtmlElement.call(this)},remove(p){l.onItemPop(this.current),u.remove.call(this,p)}}}}},47451:function(l,u,p){"use strict";let h=p(79848),g=p(67574),T=p(38523),E=p(94057),v=p(56105),C=v.TAG_NAMES;l.exports=class extends h{constructor(l){super(l),this.parser=l,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(l){let u=null;this.lastStartTagToken&&((u=Object.assign({},this.lastStartTagToken.location)).startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(l,u)}_setEndLocation(l,u){let p=this.treeAdapter.getNodeSourceCodeLocation(l);if(p&&u.location){let p=u.location,h=this.treeAdapter.getTagName(l),T=u.type===g.END_TAG_TOKEN&&h===u.tagName,E={};T?(E.endTag=Object.assign({},p),E.endLine=p.endLine,E.endCol=p.endCol,E.endOffset=p.endOffset):(E.endLine=p.startLine,E.endCol=p.startCol,E.endOffset=p.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(l,E)}}_getOverriddenMethods(l,u){return{_bootstrap(p,g){u._bootstrap.call(this,p,g),l.lastStartTagToken=null,l.lastFosterParentingLocation=null,l.currentToken=null;let v=h.install(this.tokenizer,T);l.posTracker=v.posTracker,h.install(this.openElements,E,{onItemPop:function(u){l._setEndLocation(u,l.currentToken)}})},_runParsingLoop(p){u._runParsingLoop.call(this,p);for(let u=this.openElements.stackTop;u>=0;u--)l._setEndLocation(this.openElements.items[u],l.currentToken)},_processTokenInForeignContent(p){l.currentToken=p,u._processTokenInForeignContent.call(this,p)},_processToken(p){l.currentToken=p,u._processToken.call(this,p);let h=p.type===g.END_TAG_TOKEN&&(p.tagName===C.HTML||p.tagName===C.BODY&&this.openElements.hasInScope(C.BODY));if(h)for(let u=this.openElements.stackTop;u>=0;u--){let h=this.openElements.items[u];if(this.treeAdapter.getTagName(h)===p.tagName){l._setEndLocation(h,p);break}}},_setDocumentType(l){u._setDocumentType.call(this,l);let p=this.treeAdapter.getChildNodes(this.document),h=p.length;for(let u=0;u<h;u++){let h=p[u];if(this.treeAdapter.isDocumentTypeNode(h)){this.treeAdapter.setNodeSourceCodeLocation(h,l.location);break}}},_attachElementToTree(p){l._setStartLocation(p),l.lastStartTagToken=null,u._attachElementToTree.call(this,p)},_appendElement(p,h){l.lastStartTagToken=p,u._appendElement.call(this,p,h)},_insertElement(p,h){l.lastStartTagToken=p,u._insertElement.call(this,p,h)},_insertTemplate(p){l.lastStartTagToken=p,u._insertTemplate.call(this,p);let h=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(h,null)},_insertFakeRootElement(){u._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(l,p){u._appendCommentNode.call(this,l,p);let h=this.treeAdapter.getChildNodes(p),g=h[h.length-1];this.treeAdapter.setNodeSourceCodeLocation(g,l.location)},_findFosterParentingLocation(){return l.lastFosterParentingLocation=u._findFosterParentingLocation.call(this),l.lastFosterParentingLocation},_insertCharacters(p){u._insertCharacters.call(this,p);let h=this._shouldFosterParentOnInsertion(),g=h&&l.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,T=this.treeAdapter.getChildNodes(g),E=h&&l.lastFosterParentingLocation.beforeElement?T.indexOf(l.lastFosterParentingLocation.beforeElement)-1:T.length-1,v=T[E],C=this.treeAdapter.getNodeSourceCodeLocation(v);if(C){let{endLine:l,endCol:u,endOffset:h}=p.location;this.treeAdapter.updateNodeSourceCodeLocation(v,{endLine:l,endCol:u,endOffset:h})}else this.treeAdapter.setNodeSourceCodeLocation(v,p.location)}}}}},38523:function(l,u,p){"use strict";let h=p(79848),g=p(67574),T=p(51986);l.exports=class extends h{constructor(l){super(l),this.tokenizer=l,this.posTracker=h.install(l.preprocessor,T),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;let l=this.tokenizer.currentToken,u=this.tokenizer.currentAttr;l.location.attrs||(l.location.attrs=Object.create(null)),l.location.attrs[u.name]=this.currentAttrLocation}_getOverriddenMethods(l,u){let p={_createStartTagToken(){u._createStartTagToken.call(this),this.currentToken.location=l.ctLoc},_createEndTagToken(){u._createEndTagToken.call(this),this.currentToken.location=l.ctLoc},_createCommentToken(){u._createCommentToken.call(this),this.currentToken.location=l.ctLoc},_createDoctypeToken(p){u._createDoctypeToken.call(this,p),this.currentToken.location=l.ctLoc},_createCharacterToken(p,h){u._createCharacterToken.call(this,p,h),this.currentCharacterToken.location=l.ctLoc},_createEOFToken(){u._createEOFToken.call(this),this.currentToken.location=l._getCurrentLocation()},_createAttr(p){u._createAttr.call(this,p),l.currentAttrLocation=l._getCurrentLocation()},_leaveAttrName(p){u._leaveAttrName.call(this,p),l._attachCurrentAttrLocationInfo()},_leaveAttrValue(p){u._leaveAttrValue.call(this,p),l._attachCurrentAttrLocationInfo()},_emitCurrentToken(){let p=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=p.startLine,this.currentCharacterToken.location.endCol=p.startCol,this.currentCharacterToken.location.endOffset=p.startOffset),this.currentToken.type===g.EOF_TOKEN?(p.endLine=p.startLine,p.endCol=p.startCol,p.endOffset=p.startOffset):(p.endLine=l.posTracker.line,p.endCol=l.posTracker.col+1,p.endOffset=l.posTracker.offset+1),u._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){let p=this.currentCharacterToken&&this.currentCharacterToken.location;p&&-1===p.endOffset&&(p.endLine=l.posTracker.line,p.endCol=l.posTracker.col,p.endOffset=l.posTracker.offset),u._emitCurrentCharacterToken.call(this)}};return Object.keys(g.MODE).forEach(h=>{let T=g.MODE[h];p[T]=function(p){l.ctLoc=l._getCurrentLocation(),u[T].call(this,p)}}),p}}},51986:function(l,u,p){"use strict";let h=p(79848);l.exports=class extends h{constructor(l){super(l),this.preprocessor=l,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(l,u){return{advance(){let p=this.pos+1,h=this.html[p];return l.isEol&&(l.isEol=!1,l.line++,l.lineStartPos=p),("\n"===h||"\r"===h&&"\n"!==this.html[p+1])&&(l.isEol=!0),l.col=p-l.lineStartPos+1,l.offset=l.droppedBufferSize+p,u.advance.call(this)},retreat(){u.retreat.call(this),l.isEol=!1,l.col=this.pos-l.lineStartPos+1},dropParsedChunk(){let p=this.pos;u.dropParsedChunk.call(this);let h=p-this.pos;l.lineStartPos-=h,l.droppedBufferSize+=h,l.offset=l.droppedBufferSize+this.pos}}}}},58218:function(l){"use strict";let FormattingElementList=class FormattingElementList{constructor(l){this.length=0,this.entries=[],this.treeAdapter=l,this.bookmark=null}_getNoahArkConditionCandidates(l){let u=[];if(this.length>=3){let p=this.treeAdapter.getAttrList(l).length,h=this.treeAdapter.getTagName(l),g=this.treeAdapter.getNamespaceURI(l);for(let l=this.length-1;l>=0;l--){let T=this.entries[l];if(T.type===FormattingElementList.MARKER_ENTRY)break;let E=T.element,v=this.treeAdapter.getAttrList(E),C=this.treeAdapter.getTagName(E)===h&&this.treeAdapter.getNamespaceURI(E)===g&&v.length===p;C&&u.push({idx:l,attrs:v})}}return u.length<3?[]:u}_ensureNoahArkCondition(l){let u=this._getNoahArkConditionCandidates(l),p=u.length;if(p){let h=this.treeAdapter.getAttrList(l),g=h.length,T=Object.create(null);for(let l=0;l<g;l++){let u=h[l];T[u.name]=u.value}for(let l=0;l<g;l++)for(let h=0;h<p;h++){let g=u[h].attrs[l];if(T[g.name]!==g.value&&(u.splice(h,1),p--),u.length<3)return}for(let l=p-1;l>=2;l--)this.entries.splice(u[l].idx,1),this.length--}}insertMarker(){this.entries.push({type:FormattingElementList.MARKER_ENTRY}),this.length++}pushElement(l,u){this._ensureNoahArkCondition(l),this.entries.push({type:FormattingElementList.ELEMENT_ENTRY,element:l,token:u}),this.length++}insertElementAfterBookmark(l,u){let p=this.length-1;for(;p>=0&&this.entries[p]!==this.bookmark;p--);this.entries.splice(p+1,0,{type:FormattingElementList.ELEMENT_ENTRY,element:l,token:u}),this.length++}removeEntry(l){for(let u=this.length-1;u>=0;u--)if(this.entries[u]===l){this.entries.splice(u,1),this.length--;break}}clearToLastMarker(){for(;this.length;){let l=this.entries.pop();if(this.length--,l.type===FormattingElementList.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(l){for(let u=this.length-1;u>=0;u--){let p=this.entries[u];if(p.type===FormattingElementList.MARKER_ENTRY)break;if(this.treeAdapter.getTagName(p.element)===l)return p}return null}getElementEntry(l){for(let u=this.length-1;u>=0;u--){let p=this.entries[u];if(p.type===FormattingElementList.ELEMENT_ENTRY&&p.element===l)return p}return null}};FormattingElementList.MARKER_ENTRY="MARKER_ENTRY",FormattingElementList.ELEMENT_ENTRY="ELEMENT_ENTRY",l.exports=FormattingElementList},19212:function(l,u,p){"use strict";let h=p(67574),g=p(3895),T=p(58218),E=p(47451),v=p(83938),C=p(79848),x=p(25624),M=p(20530),O=p(34621),R=p(52842),L=p(4422),H=p(47682),U=p(56105),j=U.TAG_NAMES,G=U.NAMESPACES,W=U.ATTRS,q={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:x},Y="hidden",X="INITIAL_MODE",Z="BEFORE_HTML_MODE",er="BEFORE_HEAD_MODE",ea="IN_HEAD_MODE",es="IN_HEAD_NO_SCRIPT_MODE",el="AFTER_HEAD_MODE",ec="IN_BODY_MODE",eu="TEXT_MODE",ed="IN_TABLE_MODE",ep="IN_TABLE_TEXT_MODE",eh="IN_CAPTION_MODE",ef="IN_COLUMN_GROUP_MODE",eg="IN_TABLE_BODY_MODE",ey="IN_ROW_MODE",eb="IN_CELL_MODE",eT="IN_SELECT_MODE",eE="IN_SELECT_IN_TABLE_MODE",ev="IN_TEMPLATE_MODE",ek="AFTER_BODY_MODE",eS="IN_FRAMESET_MODE",eC="AFTER_FRAMESET_MODE",ew="AFTER_AFTER_BODY_MODE",ex="AFTER_AFTER_FRAMESET_MODE",eA={[j.TR]:ey,[j.TBODY]:eg,[j.THEAD]:eg,[j.TFOOT]:eg,[j.CAPTION]:eh,[j.COLGROUP]:ef,[j.TABLE]:ed,[j.BODY]:ec,[j.FRAMESET]:eS},e_={[j.CAPTION]:ed,[j.COLGROUP]:ed,[j.TBODY]:ed,[j.TFOOT]:ed,[j.THEAD]:ed,[j.COL]:ef,[j.TR]:eg,[j.TD]:ey,[j.TH]:ey},eN={[X]:{[h.CHARACTER_TOKEN]:tokenInInitialMode,[h.NULL_CHARACTER_TOKEN]:tokenInInitialMode,[h.WHITESPACE_CHARACTER_TOKEN]:ignoreToken,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:function(l,u){l._setDocumentType(u);let p=u.forceQuirks?U.DOCUMENT_MODE.QUIRKS:O.getDocumentMode(u);O.isConforming(u)||l._err(L.nonConformingDoctype),l.treeAdapter.setDocumentMode(l.document,p),l.insertionMode=Z},[h.START_TAG_TOKEN]:tokenInInitialMode,[h.END_TAG_TOKEN]:tokenInInitialMode,[h.EOF_TOKEN]:tokenInInitialMode},[Z]:{[h.CHARACTER_TOKEN]:tokenBeforeHtml,[h.NULL_CHARACTER_TOKEN]:tokenBeforeHtml,[h.WHITESPACE_CHARACTER_TOKEN]:ignoreToken,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){u.tagName===j.HTML?(l._insertElement(u,G.HTML),l.insertionMode=er):tokenBeforeHtml(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;(p===j.HTML||p===j.HEAD||p===j.BODY||p===j.BR)&&tokenBeforeHtml(l,u)},[h.EOF_TOKEN]:tokenBeforeHtml},[er]:{[h.CHARACTER_TOKEN]:tokenBeforeHead,[h.NULL_CHARACTER_TOKEN]:tokenBeforeHead,[h.WHITESPACE_CHARACTER_TOKEN]:ignoreToken,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:misplacedDoctype,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.HEAD?(l._insertElement(u,G.HTML),l.headElement=l.openElements.current,l.insertionMode=ea):tokenBeforeHead(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HEAD||p===j.BODY||p===j.HTML||p===j.BR?tokenBeforeHead(l,u):l._err(L.endTagWithoutMatchingOpenElement)},[h.EOF_TOKEN]:tokenBeforeHead},[ea]:{[h.CHARACTER_TOKEN]:tokenInHead,[h.NULL_CHARACTER_TOKEN]:tokenInHead,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:misplacedDoctype,[h.START_TAG_TOKEN]:startTagInHead,[h.END_TAG_TOKEN]:endTagInHead,[h.EOF_TOKEN]:tokenInHead},[es]:{[h.CHARACTER_TOKEN]:tokenInHeadNoScript,[h.NULL_CHARACTER_TOKEN]:tokenInHeadNoScript,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:misplacedDoctype,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.BASEFONT||p===j.BGSOUND||p===j.HEAD||p===j.LINK||p===j.META||p===j.NOFRAMES||p===j.STYLE?startTagInHead(l,u):p===j.NOSCRIPT?l._err(L.nestedNoscriptInHead):tokenInHeadNoScript(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.NOSCRIPT?(l.openElements.pop(),l.insertionMode=ea):p===j.BR?tokenInHeadNoScript(l,u):l._err(L.endTagWithoutMatchingOpenElement)},[h.EOF_TOKEN]:tokenInHeadNoScript},[el]:{[h.CHARACTER_TOKEN]:tokenAfterHead,[h.NULL_CHARACTER_TOKEN]:tokenAfterHead,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:misplacedDoctype,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.BODY?(l._insertElement(u,G.HTML),l.framesetOk=!1,l.insertionMode=ec):p===j.FRAMESET?(l._insertElement(u,G.HTML),l.insertionMode=eS):p===j.BASE||p===j.BASEFONT||p===j.BGSOUND||p===j.LINK||p===j.META||p===j.NOFRAMES||p===j.SCRIPT||p===j.STYLE||p===j.TEMPLATE||p===j.TITLE?(l._err(L.abandonedHeadElementChild),l.openElements.push(l.headElement),startTagInHead(l,u),l.openElements.remove(l.headElement)):p===j.HEAD?l._err(L.misplacedStartTagForHeadElement):tokenAfterHead(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.BODY||p===j.HTML||p===j.BR?tokenAfterHead(l,u):p===j.TEMPLATE?endTagInHead(l,u):l._err(L.endTagWithoutMatchingOpenElement)},[h.EOF_TOKEN]:tokenAfterHead},[ec]:{[h.CHARACTER_TOKEN]:characterInBody,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:startTagInBody,[h.END_TAG_TOKEN]:endTagInBody,[h.EOF_TOKEN]:eofInBody},[eu]:{[h.CHARACTER_TOKEN]:insertCharacters,[h.NULL_CHARACTER_TOKEN]:insertCharacters,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:ignoreToken,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:ignoreToken,[h.END_TAG_TOKEN]:function(l,u){u.tagName===j.SCRIPT&&(l.pendingScript=l.openElements.current),l.openElements.pop(),l.insertionMode=l.originalInsertionMode},[h.EOF_TOKEN]:function(l,u){l._err(L.eofInElementThatCanContainOnlyText),l.openElements.pop(),l.insertionMode=l.originalInsertionMode,l._processToken(u)}},[ed]:{[h.CHARACTER_TOKEN]:characterInTable,[h.NULL_CHARACTER_TOKEN]:characterInTable,[h.WHITESPACE_CHARACTER_TOKEN]:characterInTable,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:startTagInTable,[h.END_TAG_TOKEN]:endTagInTable,[h.EOF_TOKEN]:eofInBody},[ep]:{[h.CHARACTER_TOKEN]:function(l,u){l.pendingCharacterTokens.push(u),l.hasNonWhitespacePendingCharacterToken=!0},[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:function(l,u){l.pendingCharacterTokens.push(u)},[h.COMMENT_TOKEN]:tokenInTableText,[h.DOCTYPE_TOKEN]:tokenInTableText,[h.START_TAG_TOKEN]:tokenInTableText,[h.END_TAG_TOKEN]:tokenInTableText,[h.EOF_TOKEN]:tokenInTableText},[eh]:{[h.CHARACTER_TOKEN]:characterInBody,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.CAPTION||p===j.COL||p===j.COLGROUP||p===j.TBODY||p===j.TD||p===j.TFOOT||p===j.TH||p===j.THEAD||p===j.TR?l.openElements.hasInTableScope(j.CAPTION)&&(l.openElements.generateImpliedEndTags(),l.openElements.popUntilTagNamePopped(j.CAPTION),l.activeFormattingElements.clearToLastMarker(),l.insertionMode=ed,l._processToken(u)):startTagInBody(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.CAPTION||p===j.TABLE?l.openElements.hasInTableScope(j.CAPTION)&&(l.openElements.generateImpliedEndTags(),l.openElements.popUntilTagNamePopped(j.CAPTION),l.activeFormattingElements.clearToLastMarker(),l.insertionMode=ed,p===j.TABLE&&l._processToken(u)):p!==j.BODY&&p!==j.COL&&p!==j.COLGROUP&&p!==j.HTML&&p!==j.TBODY&&p!==j.TD&&p!==j.TFOOT&&p!==j.TH&&p!==j.THEAD&&p!==j.TR&&endTagInBody(l,u)},[h.EOF_TOKEN]:eofInBody},[ef]:{[h.CHARACTER_TOKEN]:tokenInColumnGroup,[h.NULL_CHARACTER_TOKEN]:tokenInColumnGroup,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.COL?(l._appendElement(u,G.HTML),u.ackSelfClosing=!0):p===j.TEMPLATE?startTagInHead(l,u):tokenInColumnGroup(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.COLGROUP?l.openElements.currentTagName===j.COLGROUP&&(l.openElements.pop(),l.insertionMode=ed):p===j.TEMPLATE?endTagInHead(l,u):p!==j.COL&&tokenInColumnGroup(l,u)},[h.EOF_TOKEN]:eofInBody},[eg]:{[h.CHARACTER_TOKEN]:characterInTable,[h.NULL_CHARACTER_TOKEN]:characterInTable,[h.WHITESPACE_CHARACTER_TOKEN]:characterInTable,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.TR?(l.openElements.clearBackToTableBodyContext(),l._insertElement(u,G.HTML),l.insertionMode=ey):p===j.TH||p===j.TD?(l.openElements.clearBackToTableBodyContext(),l._insertFakeElement(j.TR),l.insertionMode=ey,l._processToken(u)):p===j.CAPTION||p===j.COL||p===j.COLGROUP||p===j.TBODY||p===j.TFOOT||p===j.THEAD?l.openElements.hasTableBodyContextInTableScope()&&(l.openElements.clearBackToTableBodyContext(),l.openElements.pop(),l.insertionMode=ed,l._processToken(u)):startTagInTable(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.TBODY||p===j.TFOOT||p===j.THEAD?l.openElements.hasInTableScope(p)&&(l.openElements.clearBackToTableBodyContext(),l.openElements.pop(),l.insertionMode=ed):p===j.TABLE?l.openElements.hasTableBodyContextInTableScope()&&(l.openElements.clearBackToTableBodyContext(),l.openElements.pop(),l.insertionMode=ed,l._processToken(u)):(p!==j.BODY&&p!==j.CAPTION&&p!==j.COL&&p!==j.COLGROUP||p!==j.HTML&&p!==j.TD&&p!==j.TH&&p!==j.TR)&&endTagInTable(l,u)},[h.EOF_TOKEN]:eofInBody},[ey]:{[h.CHARACTER_TOKEN]:characterInTable,[h.NULL_CHARACTER_TOKEN]:characterInTable,[h.WHITESPACE_CHARACTER_TOKEN]:characterInTable,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.TH||p===j.TD?(l.openElements.clearBackToTableRowContext(),l._insertElement(u,G.HTML),l.insertionMode=eb,l.activeFormattingElements.insertMarker()):p===j.CAPTION||p===j.COL||p===j.COLGROUP||p===j.TBODY||p===j.TFOOT||p===j.THEAD||p===j.TR?l.openElements.hasInTableScope(j.TR)&&(l.openElements.clearBackToTableRowContext(),l.openElements.pop(),l.insertionMode=eg,l._processToken(u)):startTagInTable(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.TR?l.openElements.hasInTableScope(j.TR)&&(l.openElements.clearBackToTableRowContext(),l.openElements.pop(),l.insertionMode=eg):p===j.TABLE?l.openElements.hasInTableScope(j.TR)&&(l.openElements.clearBackToTableRowContext(),l.openElements.pop(),l.insertionMode=eg,l._processToken(u)):p===j.TBODY||p===j.TFOOT||p===j.THEAD?(l.openElements.hasInTableScope(p)||l.openElements.hasInTableScope(j.TR))&&(l.openElements.clearBackToTableRowContext(),l.openElements.pop(),l.insertionMode=eg,l._processToken(u)):(p!==j.BODY&&p!==j.CAPTION&&p!==j.COL&&p!==j.COLGROUP||p!==j.HTML&&p!==j.TD&&p!==j.TH)&&endTagInTable(l,u)},[h.EOF_TOKEN]:eofInBody},[eb]:{[h.CHARACTER_TOKEN]:characterInBody,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.CAPTION||p===j.COL||p===j.COLGROUP||p===j.TBODY||p===j.TD||p===j.TFOOT||p===j.TH||p===j.THEAD||p===j.TR?(l.openElements.hasInTableScope(j.TD)||l.openElements.hasInTableScope(j.TH))&&(l._closeTableCell(),l._processToken(u)):startTagInBody(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.TD||p===j.TH?l.openElements.hasInTableScope(p)&&(l.openElements.generateImpliedEndTags(),l.openElements.popUntilTagNamePopped(p),l.activeFormattingElements.clearToLastMarker(),l.insertionMode=ey):p===j.TABLE||p===j.TBODY||p===j.TFOOT||p===j.THEAD||p===j.TR?l.openElements.hasInTableScope(p)&&(l._closeTableCell(),l._processToken(u)):p!==j.BODY&&p!==j.CAPTION&&p!==j.COL&&p!==j.COLGROUP&&p!==j.HTML&&endTagInBody(l,u)},[h.EOF_TOKEN]:eofInBody},[eT]:{[h.CHARACTER_TOKEN]:insertCharacters,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:startTagInSelect,[h.END_TAG_TOKEN]:endTagInSelect,[h.EOF_TOKEN]:eofInBody},[eE]:{[h.CHARACTER_TOKEN]:insertCharacters,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.CAPTION||p===j.TABLE||p===j.TBODY||p===j.TFOOT||p===j.THEAD||p===j.TR||p===j.TD||p===j.TH?(l.openElements.popUntilTagNamePopped(j.SELECT),l._resetInsertionMode(),l._processToken(u)):startTagInSelect(l,u)},[h.END_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.CAPTION||p===j.TABLE||p===j.TBODY||p===j.TFOOT||p===j.THEAD||p===j.TR||p===j.TD||p===j.TH?l.openElements.hasInTableScope(p)&&(l.openElements.popUntilTagNamePopped(j.SELECT),l._resetInsertionMode(),l._processToken(u)):endTagInSelect(l,u)},[h.EOF_TOKEN]:eofInBody},[ev]:{[h.CHARACTER_TOKEN]:characterInBody,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;if(p===j.BASE||p===j.BASEFONT||p===j.BGSOUND||p===j.LINK||p===j.META||p===j.NOFRAMES||p===j.SCRIPT||p===j.STYLE||p===j.TEMPLATE||p===j.TITLE)startTagInHead(l,u);else{let h=e_[p]||ec;l._popTmplInsertionMode(),l._pushTmplInsertionMode(h),l.insertionMode=h,l._processToken(u)}},[h.END_TAG_TOKEN]:function(l,u){u.tagName===j.TEMPLATE&&endTagInHead(l,u)},[h.EOF_TOKEN]:eofInTemplate},[ek]:{[h.CHARACTER_TOKEN]:tokenAfterBody,[h.NULL_CHARACTER_TOKEN]:tokenAfterBody,[h.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[h.COMMENT_TOKEN]:function(l,u){l._appendCommentNode(u,l.openElements.items[0])},[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){u.tagName===j.HTML?startTagInBody(l,u):tokenAfterBody(l,u)},[h.END_TAG_TOKEN]:function(l,u){u.tagName===j.HTML?l.fragmentContext||(l.insertionMode=ew):tokenAfterBody(l,u)},[h.EOF_TOKEN]:stopParsing},[eS]:{[h.CHARACTER_TOKEN]:ignoreToken,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.FRAMESET?l._insertElement(u,G.HTML):p===j.FRAME?(l._appendElement(u,G.HTML),u.ackSelfClosing=!0):p===j.NOFRAMES&&startTagInHead(l,u)},[h.END_TAG_TOKEN]:function(l,u){u.tagName!==j.FRAMESET||l.openElements.isRootHtmlElementCurrent()||(l.openElements.pop(),l.fragmentContext||l.openElements.currentTagName===j.FRAMESET||(l.insertionMode=eC))},[h.EOF_TOKEN]:stopParsing},[eC]:{[h.CHARACTER_TOKEN]:ignoreToken,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[h.COMMENT_TOKEN]:appendComment,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.NOFRAMES&&startTagInHead(l,u)},[h.END_TAG_TOKEN]:function(l,u){u.tagName===j.HTML&&(l.insertionMode=ex)},[h.EOF_TOKEN]:stopParsing},[ew]:{[h.CHARACTER_TOKEN]:tokenAfterAfterBody,[h.NULL_CHARACTER_TOKEN]:tokenAfterAfterBody,[h.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[h.COMMENT_TOKEN]:appendCommentToDocument,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){u.tagName===j.HTML?startTagInBody(l,u):tokenAfterAfterBody(l,u)},[h.END_TAG_TOKEN]:tokenAfterAfterBody,[h.EOF_TOKEN]:stopParsing},[ex]:{[h.CHARACTER_TOKEN]:ignoreToken,[h.NULL_CHARACTER_TOKEN]:ignoreToken,[h.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[h.COMMENT_TOKEN]:appendCommentToDocument,[h.DOCTYPE_TOKEN]:ignoreToken,[h.START_TAG_TOKEN]:function(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.NOFRAMES&&startTagInHead(l,u)},[h.END_TAG_TOKEN]:ignoreToken,[h.EOF_TOKEN]:stopParsing}};function callAdoptionAgency(l,u){let p,h;for(let g=0;g<8&&((h=l.activeFormattingElements.getElementEntryInScopeWithTagName(u.tagName))?l.openElements.contains(h.element)?l.openElements.hasInScope(u.tagName)||(h=null):(l.activeFormattingElements.removeEntry(h),h=null):genericEndTagInBody(l,u),p=h);g++){let u=function(l,u){let p=null;for(let h=l.openElements.stackTop;h>=0;h--){let g=l.openElements.items[h];if(g===u.element)break;l._isSpecialElement(g)&&(p=g)}return p||(l.openElements.popUntilElementPopped(u.element),l.activeFormattingElements.removeEntry(u)),p}(l,p);if(!u)break;l.activeFormattingElements.bookmark=p;let h=function(l,u,p){let h=u,g=l.openElements.getCommonAncestor(u);for(let T=0,E=g;E!==p;T++,E=g){g=l.openElements.getCommonAncestor(E);let p=l.activeFormattingElements.getElementEntry(E),v=p&&T>=3,C=!p||v;C?(v&&l.activeFormattingElements.removeEntry(p),l.openElements.remove(E)):(E=function(l,u){let p=l.treeAdapter.getNamespaceURI(u.element),h=l.treeAdapter.createElement(u.token.tagName,p,u.token.attrs);return l.openElements.replace(u.element,h),u.element=h,h}(l,p),h===u&&(l.activeFormattingElements.bookmark=p),l.treeAdapter.detachNode(h),l.treeAdapter.appendChild(E,h),h=E)}return h}(l,u,p.element),g=l.openElements.getCommonAncestor(p.element);l.treeAdapter.detachNode(h),function(l,u,p){if(l._isElementCausesFosterParenting(u))l._fosterParentElement(p);else{let h=l.treeAdapter.getTagName(u),g=l.treeAdapter.getNamespaceURI(u);h===j.TEMPLATE&&g===G.HTML&&(u=l.treeAdapter.getTemplateContent(u)),l.treeAdapter.appendChild(u,p)}}(l,g,h),function(l,u,p){let h=l.treeAdapter.getNamespaceURI(p.element),g=p.token,T=l.treeAdapter.createElement(g.tagName,h,g.attrs);l._adoptNodes(u,T),l.treeAdapter.appendChild(u,T),l.activeFormattingElements.insertElementAfterBookmark(T,p.token),l.activeFormattingElements.removeEntry(p),l.openElements.remove(p.element),l.openElements.insertAfter(u,T)}(l,u,p)}}function ignoreToken(){}function misplacedDoctype(l){l._err(L.misplacedDoctype)}function appendComment(l,u){l._appendCommentNode(u,l.openElements.currentTmplContent||l.openElements.current)}function appendCommentToDocument(l,u){l._appendCommentNode(u,l.document)}function insertCharacters(l,u){l._insertCharacters(u)}function stopParsing(l){l.stopped=!0}function tokenInInitialMode(l,u){l._err(L.missingDoctype,{beforeToken:!0}),l.treeAdapter.setDocumentMode(l.document,U.DOCUMENT_MODE.QUIRKS),l.insertionMode=Z,l._processToken(u)}function tokenBeforeHtml(l,u){l._insertFakeRootElement(),l.insertionMode=er,l._processToken(u)}function tokenBeforeHead(l,u){l._insertFakeElement(j.HEAD),l.headElement=l.openElements.current,l.insertionMode=ea,l._processToken(u)}function startTagInHead(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.BASE||p===j.BASEFONT||p===j.BGSOUND||p===j.LINK||p===j.META?(l._appendElement(u,G.HTML),u.ackSelfClosing=!0):p===j.TITLE?l._switchToTextParsing(u,h.MODE.RCDATA):p===j.NOSCRIPT?l.options.scriptingEnabled?l._switchToTextParsing(u,h.MODE.RAWTEXT):(l._insertElement(u,G.HTML),l.insertionMode=es):p===j.NOFRAMES||p===j.STYLE?l._switchToTextParsing(u,h.MODE.RAWTEXT):p===j.SCRIPT?l._switchToTextParsing(u,h.MODE.SCRIPT_DATA):p===j.TEMPLATE?(l._insertTemplate(u,G.HTML),l.activeFormattingElements.insertMarker(),l.framesetOk=!1,l.insertionMode=ev,l._pushTmplInsertionMode(ev)):p===j.HEAD?l._err(L.misplacedStartTagForHeadElement):tokenInHead(l,u)}function endTagInHead(l,u){let p=u.tagName;p===j.HEAD?(l.openElements.pop(),l.insertionMode=el):p===j.BODY||p===j.BR||p===j.HTML?tokenInHead(l,u):p===j.TEMPLATE&&l.openElements.tmplCount>0?(l.openElements.generateImpliedEndTagsThoroughly(),l.openElements.currentTagName!==j.TEMPLATE&&l._err(L.closingOfElementWithOpenChildElements),l.openElements.popUntilTagNamePopped(j.TEMPLATE),l.activeFormattingElements.clearToLastMarker(),l._popTmplInsertionMode(),l._resetInsertionMode()):l._err(L.endTagWithoutMatchingOpenElement)}function tokenInHead(l,u){l.openElements.pop(),l.insertionMode=el,l._processToken(u)}function tokenInHeadNoScript(l,u){let p=u.type===h.EOF_TOKEN?L.openElementsLeftAfterEof:L.disallowedContentInNoscriptInHead;l._err(p),l.openElements.pop(),l.insertionMode=ea,l._processToken(u)}function tokenAfterHead(l,u){l._insertFakeElement(j.BODY),l.insertionMode=ec,l._processToken(u)}function whitespaceCharacterInBody(l,u){l._reconstructActiveFormattingElements(),l._insertCharacters(u)}function characterInBody(l,u){l._reconstructActiveFormattingElements(),l._insertCharacters(u),l.framesetOk=!1}function addressStartTagInBody(l,u){l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._insertElement(u,G.HTML)}function preStartTagInBody(l,u){l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._insertElement(u,G.HTML),l.skipNextNewLine=!0,l.framesetOk=!1}function bStartTagInBody(l,u){l._reconstructActiveFormattingElements(),l._insertElement(u,G.HTML),l.activeFormattingElements.pushElement(l.openElements.current,u)}function appletStartTagInBody(l,u){l._reconstructActiveFormattingElements(),l._insertElement(u,G.HTML),l.activeFormattingElements.insertMarker(),l.framesetOk=!1}function areaStartTagInBody(l,u){l._reconstructActiveFormattingElements(),l._appendElement(u,G.HTML),l.framesetOk=!1,u.ackSelfClosing=!0}function paramStartTagInBody(l,u){l._appendElement(u,G.HTML),u.ackSelfClosing=!0}function noembedStartTagInBody(l,u){l._switchToTextParsing(u,h.MODE.RAWTEXT)}function optgroupStartTagInBody(l,u){l.openElements.currentTagName===j.OPTION&&l.openElements.pop(),l._reconstructActiveFormattingElements(),l._insertElement(u,G.HTML)}function rbStartTagInBody(l,u){l.openElements.hasInScope(j.RUBY)&&l.openElements.generateImpliedEndTags(),l._insertElement(u,G.HTML)}function genericStartTagInBody(l,u){l._reconstructActiveFormattingElements(),l._insertElement(u,G.HTML)}function startTagInBody(l,u){let p=u.tagName;switch(p.length){case 1:p===j.I||p===j.S||p===j.B||p===j.U?bStartTagInBody(l,u):p===j.P?addressStartTagInBody(l,u):p===j.A?function(l,u){let p=l.activeFormattingElements.getElementEntryInScopeWithTagName(j.A);p&&(callAdoptionAgency(l,u),l.openElements.remove(p.element),l.activeFormattingElements.removeEntry(p)),l._reconstructActiveFormattingElements(),l._insertElement(u,G.HTML),l.activeFormattingElements.pushElement(l.openElements.current,u)}(l,u):genericStartTagInBody(l,u);break;case 2:p===j.DL||p===j.OL||p===j.UL?addressStartTagInBody(l,u):p===j.H1||p===j.H2||p===j.H3||p===j.H4||p===j.H5||p===j.H6?function(l,u){l.openElements.hasInButtonScope(j.P)&&l._closePElement();let p=l.openElements.currentTagName;(p===j.H1||p===j.H2||p===j.H3||p===j.H4||p===j.H5||p===j.H6)&&l.openElements.pop(),l._insertElement(u,G.HTML)}(l,u):p===j.LI||p===j.DD||p===j.DT?function(l,u){l.framesetOk=!1;let p=u.tagName;for(let u=l.openElements.stackTop;u>=0;u--){let h=l.openElements.items[u],g=l.treeAdapter.getTagName(h),T=null;if(p===j.LI&&g===j.LI?T=j.LI:(p===j.DD||p===j.DT)&&(g===j.DD||g===j.DT)&&(T=g),T){l.openElements.generateImpliedEndTagsWithExclusion(T),l.openElements.popUntilTagNamePopped(T);break}if(g!==j.ADDRESS&&g!==j.DIV&&g!==j.P&&l._isSpecialElement(h))break}l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._insertElement(u,G.HTML)}(l,u):p===j.EM||p===j.TT?bStartTagInBody(l,u):p===j.BR?areaStartTagInBody(l,u):p===j.HR?(l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._appendElement(u,G.HTML),l.framesetOk=!1,u.ackSelfClosing=!0):p===j.RB?rbStartTagInBody(l,u):p===j.RT||p===j.RP?(l.openElements.hasInScope(j.RUBY)&&l.openElements.generateImpliedEndTagsWithExclusion(j.RTC),l._insertElement(u,G.HTML)):p!==j.TH&&p!==j.TD&&p!==j.TR&&genericStartTagInBody(l,u);break;case 3:p===j.DIV||p===j.DIR||p===j.NAV?addressStartTagInBody(l,u):p===j.PRE?preStartTagInBody(l,u):p===j.BIG?bStartTagInBody(l,u):p===j.IMG||p===j.WBR?areaStartTagInBody(l,u):p===j.XMP?(l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._reconstructActiveFormattingElements(),l.framesetOk=!1,l._switchToTextParsing(u,h.MODE.RAWTEXT)):p===j.SVG?(l._reconstructActiveFormattingElements(),R.adjustTokenSVGAttrs(u),R.adjustTokenXMLAttrs(u),u.selfClosing?l._appendElement(u,G.SVG):l._insertElement(u,G.SVG),u.ackSelfClosing=!0):p===j.RTC?rbStartTagInBody(l,u):p!==j.COL&&genericStartTagInBody(l,u);break;case 4:p===j.HTML?0===l.openElements.tmplCount&&l.treeAdapter.adoptAttributes(l.openElements.items[0],u.attrs):p===j.BASE||p===j.LINK||p===j.META?startTagInHead(l,u):p===j.BODY?function(l,u){let p=l.openElements.tryPeekProperlyNestedBodyElement();p&&0===l.openElements.tmplCount&&(l.framesetOk=!1,l.treeAdapter.adoptAttributes(p,u.attrs))}(l,u):p===j.MAIN||p===j.MENU?addressStartTagInBody(l,u):p===j.FORM?function(l,u){let p=l.openElements.tmplCount>0;l.formElement&&!p||(l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._insertElement(u,G.HTML),p||(l.formElement=l.openElements.current))}(l,u):p===j.CODE||p===j.FONT?bStartTagInBody(l,u):p===j.NOBR?(l._reconstructActiveFormattingElements(),l.openElements.hasInScope(j.NOBR)&&(callAdoptionAgency(l,u),l._reconstructActiveFormattingElements()),l._insertElement(u,G.HTML),l.activeFormattingElements.pushElement(l.openElements.current,u)):p===j.AREA?areaStartTagInBody(l,u):p===j.MATH?(l._reconstructActiveFormattingElements(),R.adjustTokenMathMLAttrs(u),R.adjustTokenXMLAttrs(u),u.selfClosing?l._appendElement(u,G.MATHML):l._insertElement(u,G.MATHML),u.ackSelfClosing=!0):p===j.MENU?(l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._insertElement(u,G.HTML)):p!==j.HEAD&&genericStartTagInBody(l,u);break;case 5:p===j.STYLE||p===j.TITLE?startTagInHead(l,u):p===j.ASIDE?addressStartTagInBody(l,u):p===j.SMALL?bStartTagInBody(l,u):p===j.TABLE?(l.treeAdapter.getDocumentMode(l.document)!==U.DOCUMENT_MODE.QUIRKS&&l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._insertElement(u,G.HTML),l.framesetOk=!1,l.insertionMode=ed):p===j.EMBED?areaStartTagInBody(l,u):p===j.INPUT?function(l,u){l._reconstructActiveFormattingElements(),l._appendElement(u,G.HTML);let p=h.getTokenAttr(u,W.TYPE);p&&p.toLowerCase()===Y||(l.framesetOk=!1),u.ackSelfClosing=!0}(l,u):p===j.PARAM||p===j.TRACK?paramStartTagInBody(l,u):p===j.IMAGE?(u.tagName=j.IMG,areaStartTagInBody(l,u)):p!==j.FRAME&&p!==j.TBODY&&p!==j.TFOOT&&p!==j.THEAD&&genericStartTagInBody(l,u);break;case 6:p===j.SCRIPT?startTagInHead(l,u):p===j.CENTER||p===j.FIGURE||p===j.FOOTER||p===j.HEADER||p===j.HGROUP||p===j.DIALOG?addressStartTagInBody(l,u):p===j.BUTTON?(l.openElements.hasInScope(j.BUTTON)&&(l.openElements.generateImpliedEndTags(),l.openElements.popUntilTagNamePopped(j.BUTTON)),l._reconstructActiveFormattingElements(),l._insertElement(u,G.HTML),l.framesetOk=!1):p===j.STRIKE||p===j.STRONG?bStartTagInBody(l,u):p===j.APPLET||p===j.OBJECT?appletStartTagInBody(l,u):p===j.KEYGEN?areaStartTagInBody(l,u):p===j.SOURCE?paramStartTagInBody(l,u):p===j.IFRAME?(l.framesetOk=!1,l._switchToTextParsing(u,h.MODE.RAWTEXT)):p===j.SELECT?(l._reconstructActiveFormattingElements(),l._insertElement(u,G.HTML),l.framesetOk=!1,l.insertionMode===ed||l.insertionMode===eh||l.insertionMode===eg||l.insertionMode===ey||l.insertionMode===eb?l.insertionMode=eE:l.insertionMode=eT):p===j.OPTION?optgroupStartTagInBody(l,u):genericStartTagInBody(l,u);break;case 7:p===j.BGSOUND?startTagInHead(l,u):p===j.DETAILS||p===j.ADDRESS||p===j.ARTICLE||p===j.SECTION||p===j.SUMMARY?addressStartTagInBody(l,u):p===j.LISTING?preStartTagInBody(l,u):p===j.MARQUEE?appletStartTagInBody(l,u):p===j.NOEMBED?noembedStartTagInBody(l,u):p!==j.CAPTION&&genericStartTagInBody(l,u);break;case 8:p===j.BASEFONT?startTagInHead(l,u):p===j.FRAMESET?function(l,u){let p=l.openElements.tryPeekProperlyNestedBodyElement();l.framesetOk&&p&&(l.treeAdapter.detachNode(p),l.openElements.popAllUpToHtmlElement(),l._insertElement(u,G.HTML),l.insertionMode=eS)}(l,u):p===j.FIELDSET?addressStartTagInBody(l,u):p===j.TEXTAREA?(l._insertElement(u,G.HTML),l.skipNextNewLine=!0,l.tokenizer.state=h.MODE.RCDATA,l.originalInsertionMode=l.insertionMode,l.framesetOk=!1,l.insertionMode=eu):p===j.TEMPLATE?startTagInHead(l,u):p===j.NOSCRIPT?l.options.scriptingEnabled?noembedStartTagInBody(l,u):genericStartTagInBody(l,u):p===j.OPTGROUP?optgroupStartTagInBody(l,u):p!==j.COLGROUP&&genericStartTagInBody(l,u);break;case 9:p===j.PLAINTEXT?(l.openElements.hasInButtonScope(j.P)&&l._closePElement(),l._insertElement(u,G.HTML),l.tokenizer.state=h.MODE.PLAINTEXT):genericStartTagInBody(l,u);break;case 10:p===j.BLOCKQUOTE||p===j.FIGCAPTION?addressStartTagInBody(l,u):genericStartTagInBody(l,u);break;default:genericStartTagInBody(l,u)}}function addressEndTagInBody(l,u){let p=u.tagName;l.openElements.hasInScope(p)&&(l.openElements.generateImpliedEndTags(),l.openElements.popUntilTagNamePopped(p))}function appletEndTagInBody(l,u){let p=u.tagName;l.openElements.hasInScope(p)&&(l.openElements.generateImpliedEndTags(),l.openElements.popUntilTagNamePopped(p),l.activeFormattingElements.clearToLastMarker())}function genericEndTagInBody(l,u){let p=u.tagName;for(let u=l.openElements.stackTop;u>0;u--){let h=l.openElements.items[u];if(l.treeAdapter.getTagName(h)===p){l.openElements.generateImpliedEndTagsWithExclusion(p),l.openElements.popUntilElementPopped(h);break}if(l._isSpecialElement(h))break}}function endTagInBody(l,u){let p=u.tagName;switch(p.length){case 1:p===j.A||p===j.B||p===j.I||p===j.S||p===j.U?callAdoptionAgency(l,u):p===j.P?(l.openElements.hasInButtonScope(j.P)||l._insertFakeElement(j.P),l._closePElement()):genericEndTagInBody(l,u);break;case 2:p===j.DL||p===j.UL||p===j.OL?addressEndTagInBody(l,u):p===j.LI?l.openElements.hasInListItemScope(j.LI)&&(l.openElements.generateImpliedEndTagsWithExclusion(j.LI),l.openElements.popUntilTagNamePopped(j.LI)):p===j.DD||p===j.DT?function(l,u){let p=u.tagName;l.openElements.hasInScope(p)&&(l.openElements.generateImpliedEndTagsWithExclusion(p),l.openElements.popUntilTagNamePopped(p))}(l,u):p===j.H1||p===j.H2||p===j.H3||p===j.H4||p===j.H5||p===j.H6?l.openElements.hasNumberedHeaderInScope()&&(l.openElements.generateImpliedEndTags(),l.openElements.popUntilNumberedHeaderPopped()):p===j.BR?(l._reconstructActiveFormattingElements(),l._insertFakeElement(j.BR),l.openElements.pop(),l.framesetOk=!1):p===j.EM||p===j.TT?callAdoptionAgency(l,u):genericEndTagInBody(l,u);break;case 3:p===j.BIG?callAdoptionAgency(l,u):p===j.DIR||p===j.DIV||p===j.NAV||p===j.PRE?addressEndTagInBody(l,u):genericEndTagInBody(l,u);break;case 4:p===j.BODY?l.openElements.hasInScope(j.BODY)&&(l.insertionMode=ek):p===j.HTML?l.openElements.hasInScope(j.BODY)&&(l.insertionMode=ek,l._processToken(u)):p===j.FORM?function(l){let u=l.openElements.tmplCount>0,p=l.formElement;u||(l.formElement=null),(p||u)&&l.openElements.hasInScope(j.FORM)&&(l.openElements.generateImpliedEndTags(),u?l.openElements.popUntilTagNamePopped(j.FORM):l.openElements.remove(p))}(l,u):p===j.CODE||p===j.FONT||p===j.NOBR?callAdoptionAgency(l,u):p===j.MAIN||p===j.MENU?addressEndTagInBody(l,u):genericEndTagInBody(l,u);break;case 5:p===j.ASIDE?addressEndTagInBody(l,u):p===j.SMALL?callAdoptionAgency(l,u):genericEndTagInBody(l,u);break;case 6:p===j.CENTER||p===j.FIGURE||p===j.FOOTER||p===j.HEADER||p===j.HGROUP||p===j.DIALOG?addressEndTagInBody(l,u):p===j.APPLET||p===j.OBJECT?appletEndTagInBody(l,u):p===j.STRIKE||p===j.STRONG?callAdoptionAgency(l,u):genericEndTagInBody(l,u);break;case 7:p===j.ADDRESS||p===j.ARTICLE||p===j.DETAILS||p===j.SECTION||p===j.SUMMARY||p===j.LISTING?addressEndTagInBody(l,u):p===j.MARQUEE?appletEndTagInBody(l,u):genericEndTagInBody(l,u);break;case 8:p===j.FIELDSET?addressEndTagInBody(l,u):p===j.TEMPLATE?endTagInHead(l,u):genericEndTagInBody(l,u);break;case 10:p===j.BLOCKQUOTE||p===j.FIGCAPTION?addressEndTagInBody(l,u):genericEndTagInBody(l,u);break;default:genericEndTagInBody(l,u)}}function eofInBody(l,u){l.tmplInsertionModeStackTop>-1?eofInTemplate(l,u):l.stopped=!0}function characterInTable(l,u){let p=l.openElements.currentTagName;p===j.TABLE||p===j.TBODY||p===j.TFOOT||p===j.THEAD||p===j.TR?(l.pendingCharacterTokens=[],l.hasNonWhitespacePendingCharacterToken=!1,l.originalInsertionMode=l.insertionMode,l.insertionMode=ep,l._processToken(u)):tokenInTable(l,u)}function startTagInTable(l,u){let p=u.tagName;switch(p.length){case 2:p===j.TD||p===j.TH||p===j.TR?(l.openElements.clearBackToTableContext(),l._insertFakeElement(j.TBODY),l.insertionMode=eg,l._processToken(u)):tokenInTable(l,u);break;case 3:p===j.COL?(l.openElements.clearBackToTableContext(),l._insertFakeElement(j.COLGROUP),l.insertionMode=ef,l._processToken(u)):tokenInTable(l,u);break;case 4:p===j.FORM?l.formElement||0!==l.openElements.tmplCount||(l._insertElement(u,G.HTML),l.formElement=l.openElements.current,l.openElements.pop()):tokenInTable(l,u);break;case 5:p===j.TABLE?l.openElements.hasInTableScope(j.TABLE)&&(l.openElements.popUntilTagNamePopped(j.TABLE),l._resetInsertionMode(),l._processToken(u)):p===j.STYLE?startTagInHead(l,u):p===j.TBODY||p===j.TFOOT||p===j.THEAD?(l.openElements.clearBackToTableContext(),l._insertElement(u,G.HTML),l.insertionMode=eg):p===j.INPUT?function(l,u){let p=h.getTokenAttr(u,W.TYPE);p&&p.toLowerCase()===Y?l._appendElement(u,G.HTML):tokenInTable(l,u),u.ackSelfClosing=!0}(l,u):tokenInTable(l,u);break;case 6:p===j.SCRIPT?startTagInHead(l,u):tokenInTable(l,u);break;case 7:p===j.CAPTION?(l.openElements.clearBackToTableContext(),l.activeFormattingElements.insertMarker(),l._insertElement(u,G.HTML),l.insertionMode=eh):tokenInTable(l,u);break;case 8:p===j.COLGROUP?(l.openElements.clearBackToTableContext(),l._insertElement(u,G.HTML),l.insertionMode=ef):p===j.TEMPLATE?startTagInHead(l,u):tokenInTable(l,u);break;default:tokenInTable(l,u)}}function endTagInTable(l,u){let p=u.tagName;p===j.TABLE?l.openElements.hasInTableScope(j.TABLE)&&(l.openElements.popUntilTagNamePopped(j.TABLE),l._resetInsertionMode()):p===j.TEMPLATE?endTagInHead(l,u):p!==j.BODY&&p!==j.CAPTION&&p!==j.COL&&p!==j.COLGROUP&&p!==j.HTML&&p!==j.TBODY&&p!==j.TD&&p!==j.TFOOT&&p!==j.TH&&p!==j.THEAD&&p!==j.TR&&tokenInTable(l,u)}function tokenInTable(l,u){let p=l.fosterParentingEnabled;l.fosterParentingEnabled=!0,l._processTokenInBodyMode(u),l.fosterParentingEnabled=p}function tokenInTableText(l,u){let p=0;if(l.hasNonWhitespacePendingCharacterToken)for(;p<l.pendingCharacterTokens.length;p++)tokenInTable(l,l.pendingCharacterTokens[p]);else for(;p<l.pendingCharacterTokens.length;p++)l._insertCharacters(l.pendingCharacterTokens[p]);l.insertionMode=l.originalInsertionMode,l._processToken(u)}function tokenInColumnGroup(l,u){l.openElements.currentTagName===j.COLGROUP&&(l.openElements.pop(),l.insertionMode=ed,l._processToken(u))}function startTagInSelect(l,u){let p=u.tagName;p===j.HTML?startTagInBody(l,u):p===j.OPTION?(l.openElements.currentTagName===j.OPTION&&l.openElements.pop(),l._insertElement(u,G.HTML)):p===j.OPTGROUP?(l.openElements.currentTagName===j.OPTION&&l.openElements.pop(),l.openElements.currentTagName===j.OPTGROUP&&l.openElements.pop(),l._insertElement(u,G.HTML)):p===j.INPUT||p===j.KEYGEN||p===j.TEXTAREA||p===j.SELECT?l.openElements.hasInSelectScope(j.SELECT)&&(l.openElements.popUntilTagNamePopped(j.SELECT),l._resetInsertionMode(),p!==j.SELECT&&l._processToken(u)):(p===j.SCRIPT||p===j.TEMPLATE)&&startTagInHead(l,u)}function endTagInSelect(l,u){let p=u.tagName;if(p===j.OPTGROUP){let u=l.openElements.items[l.openElements.stackTop-1],p=u&&l.treeAdapter.getTagName(u);l.openElements.currentTagName===j.OPTION&&p===j.OPTGROUP&&l.openElements.pop(),l.openElements.currentTagName===j.OPTGROUP&&l.openElements.pop()}else p===j.OPTION?l.openElements.currentTagName===j.OPTION&&l.openElements.pop():p===j.SELECT&&l.openElements.hasInSelectScope(j.SELECT)?(l.openElements.popUntilTagNamePopped(j.SELECT),l._resetInsertionMode()):p===j.TEMPLATE&&endTagInHead(l,u)}function eofInTemplate(l,u){l.openElements.tmplCount>0?(l.openElements.popUntilTagNamePopped(j.TEMPLATE),l.activeFormattingElements.clearToLastMarker(),l._popTmplInsertionMode(),l._resetInsertionMode(),l._processToken(u)):l.stopped=!0}function tokenAfterBody(l,u){l.insertionMode=ec,l._processToken(u)}function tokenAfterAfterBody(l,u){l.insertionMode=ec,l._processToken(u)}l.exports=class{constructor(l){this.options=M(q,l),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&C.install(this,E),this.options.onParseError&&C.install(this,v,{onParseError:this.options.onParseError})}parse(l){let u=this.treeAdapter.createDocument();return this._bootstrap(u,null),this.tokenizer.write(l,!0),this._runParsingLoop(null),u}parseFragment(l,u){u||(u=this.treeAdapter.createElement(j.TEMPLATE,G.HTML,[]));let p=this.treeAdapter.createElement("documentmock",G.HTML,[]);this._bootstrap(p,u),this.treeAdapter.getTagName(u)===j.TEMPLATE&&this._pushTmplInsertionMode(ev),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(l,!0),this._runParsingLoop(null);let h=this.treeAdapter.getFirstChild(p),g=this.treeAdapter.createDocumentFragment();return this._adoptNodes(h,g),g}_bootstrap(l,u){this.tokenizer=new h(this.options),this.stopped=!1,this.insertionMode=X,this.originalInsertionMode="",this.document=l,this.fragmentContext=u,this.headElement=null,this.formElement=null,this.openElements=new g(this.document,this.treeAdapter),this.activeFormattingElements=new T(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(l){for(;!this.stopped;){this._setupTokenizerCDATAMode();let u=this.tokenizer.getNextToken();if(u.type===h.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,u.type===h.WHITESPACE_CHARACTER_TOKEN&&"\n"===u.chars[0])){if(1===u.chars.length)continue;u.chars=u.chars.substr(1)}if(this._processInputToken(u),l&&this.pendingScript)break}}runParsingLoopForCurrentChunk(l,u){if(this._runParsingLoop(u),u&&this.pendingScript){let l=this.pendingScript;this.pendingScript=null,u(l);return}l&&l()}_setupTokenizerCDATAMode(){let l=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=l&&l!==this.document&&this.treeAdapter.getNamespaceURI(l)!==G.HTML&&!this._isIntegrationPoint(l)}_switchToTextParsing(l,u){this._insertElement(l,G.HTML),this.tokenizer.state=u,this.originalInsertionMode=this.insertionMode,this.insertionMode=eu}switchToPlaintextParsing(){this.insertionMode=eu,this.originalInsertionMode=ec,this.tokenizer.state=h.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let l=this.fragmentContext;do{if(this.treeAdapter.getTagName(l)===j.FORM){this.formElement=l;break}l=this.treeAdapter.getParentNode(l)}while(l)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===G.HTML){let l=this.treeAdapter.getTagName(this.fragmentContext);l===j.TITLE||l===j.TEXTAREA?this.tokenizer.state=h.MODE.RCDATA:l===j.STYLE||l===j.XMP||l===j.IFRAME||l===j.NOEMBED||l===j.NOFRAMES||l===j.NOSCRIPT?this.tokenizer.state=h.MODE.RAWTEXT:l===j.SCRIPT?this.tokenizer.state=h.MODE.SCRIPT_DATA:l===j.PLAINTEXT&&(this.tokenizer.state=h.MODE.PLAINTEXT)}}_setDocumentType(l){let u=l.name||"",p=l.publicId||"",h=l.systemId||"";this.treeAdapter.setDocumentType(this.document,u,p,h)}_attachElementToTree(l){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(l);else{let u=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(u,l)}}_appendElement(l,u){let p=this.treeAdapter.createElement(l.tagName,u,l.attrs);this._attachElementToTree(p)}_insertElement(l,u){let p=this.treeAdapter.createElement(l.tagName,u,l.attrs);this._attachElementToTree(p),this.openElements.push(p)}_insertFakeElement(l){let u=this.treeAdapter.createElement(l,G.HTML,[]);this._attachElementToTree(u),this.openElements.push(u)}_insertTemplate(l){let u=this.treeAdapter.createElement(l.tagName,G.HTML,l.attrs),p=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(u,p),this._attachElementToTree(u),this.openElements.push(u)}_insertFakeRootElement(){let l=this.treeAdapter.createElement(j.HTML,G.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,l),this.openElements.push(l)}_appendCommentNode(l,u){let p=this.treeAdapter.createCommentNode(l.data);this.treeAdapter.appendChild(u,p)}_insertCharacters(l){if(this._shouldFosterParentOnInsertion())this._fosterParentText(l.chars);else{let u=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(u,l.chars)}}_adoptNodes(l,u){for(let p=this.treeAdapter.getFirstChild(l);p;p=this.treeAdapter.getFirstChild(l))this.treeAdapter.detachNode(p),this.treeAdapter.appendChild(u,p)}_shouldProcessTokenInForeignContent(l){let u=this._getAdjustedCurrentElement();if(!u||u===this.document)return!1;let p=this.treeAdapter.getNamespaceURI(u);if(p===G.HTML||this.treeAdapter.getTagName(u)===j.ANNOTATION_XML&&p===G.MATHML&&l.type===h.START_TAG_TOKEN&&l.tagName===j.SVG)return!1;let g=l.type===h.CHARACTER_TOKEN||l.type===h.NULL_CHARACTER_TOKEN||l.type===h.WHITESPACE_CHARACTER_TOKEN,T=l.type===h.START_TAG_TOKEN&&l.tagName!==j.MGLYPH&&l.tagName!==j.MALIGNMARK;return!((T||g)&&this._isIntegrationPoint(u,G.MATHML)||(l.type===h.START_TAG_TOKEN||g)&&this._isIntegrationPoint(u,G.HTML))&&l.type!==h.EOF_TOKEN}_processToken(l){eN[this.insertionMode][l.type](this,l)}_processTokenInBodyMode(l){eN[ec][l.type](this,l)}_processTokenInForeignContent(l){l.type===h.CHARACTER_TOKEN?(this._insertCharacters(l),this.framesetOk=!1):l.type===h.NULL_CHARACTER_TOKEN?(l.chars=H.REPLACEMENT_CHARACTER,this._insertCharacters(l)):l.type===h.WHITESPACE_CHARACTER_TOKEN?insertCharacters(this,l):l.type===h.COMMENT_TOKEN?appendComment(this,l):l.type===h.START_TAG_TOKEN?function(l,u){if(R.causesExit(u)&&!l.fragmentContext){for(;l.treeAdapter.getNamespaceURI(l.openElements.current)!==G.HTML&&!l._isIntegrationPoint(l.openElements.current);)l.openElements.pop();l._processToken(u)}else{let p=l._getAdjustedCurrentElement(),h=l.treeAdapter.getNamespaceURI(p);h===G.MATHML?R.adjustTokenMathMLAttrs(u):h===G.SVG&&(R.adjustTokenSVGTagName(u),R.adjustTokenSVGAttrs(u)),R.adjustTokenXMLAttrs(u),u.selfClosing?l._appendElement(u,h):l._insertElement(u,h),u.ackSelfClosing=!0}}(this,l):l.type===h.END_TAG_TOKEN&&function(l,u){for(let p=l.openElements.stackTop;p>0;p--){let h=l.openElements.items[p];if(l.treeAdapter.getNamespaceURI(h)===G.HTML){l._processToken(u);break}if(l.treeAdapter.getTagName(h).toLowerCase()===u.tagName){l.openElements.popUntilElementPopped(h);break}}}(this,l)}_processInputToken(l){this._shouldProcessTokenInForeignContent(l)?this._processTokenInForeignContent(l):this._processToken(l),l.type===h.START_TAG_TOKEN&&l.selfClosing&&!l.ackSelfClosing&&this._err(L.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(l,u){let p=this.treeAdapter.getTagName(l),h=this.treeAdapter.getNamespaceURI(l),g=this.treeAdapter.getAttrList(l);return R.isIntegrationPoint(p,h,g,u)}_reconstructActiveFormattingElements(){let l=this.activeFormattingElements.length;if(l){let u=l,p=null;do if(u--,(p=this.activeFormattingElements.entries[u]).type===T.MARKER_ENTRY||this.openElements.contains(p.element)){u++;break}while(u>0);for(let h=u;h<l;h++)p=this.activeFormattingElements.entries[h],this._insertElement(p.token,this.treeAdapter.getNamespaceURI(p.element)),p.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ey}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(j.P),this.openElements.popUntilTagNamePopped(j.P)}_resetInsertionMode(){for(let l=this.openElements.stackTop,u=!1;l>=0;l--){let p=this.openElements.items[l];0===l&&(u=!0,this.fragmentContext&&(p=this.fragmentContext));let h=this.treeAdapter.getTagName(p),g=eA[h];if(g){this.insertionMode=g;break}if(u||h!==j.TD&&h!==j.TH){if(u||h!==j.HEAD){if(h===j.SELECT){this._resetInsertionModeForSelect(l);break}if(h===j.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(h===j.HTML){this.insertionMode=this.headElement?el:er;break}else if(u){this.insertionMode=ec;break}}else{this.insertionMode=ea;break}}else{this.insertionMode=eb;break}}}_resetInsertionModeForSelect(l){if(l>0)for(let u=l-1;u>0;u--){let l=this.openElements.items[u],p=this.treeAdapter.getTagName(l);if(p===j.TEMPLATE)break;if(p===j.TABLE){this.insertionMode=eE;return}}this.insertionMode=eT}_pushTmplInsertionMode(l){this.tmplInsertionModeStack.push(l),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=l}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(l){let u=this.treeAdapter.getTagName(l);return u===j.TABLE||u===j.TBODY||u===j.TFOOT||u===j.THEAD||u===j.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){let l={parent:null,beforeElement:null};for(let u=this.openElements.stackTop;u>=0;u--){let p=this.openElements.items[u],h=this.treeAdapter.getTagName(p),g=this.treeAdapter.getNamespaceURI(p);if(h===j.TEMPLATE&&g===G.HTML){l.parent=this.treeAdapter.getTemplateContent(p);break}if(h===j.TABLE){l.parent=this.treeAdapter.getParentNode(p),l.parent?l.beforeElement=p:l.parent=this.openElements.items[u-1];break}}return l.parent||(l.parent=this.openElements.items[0]),l}_fosterParentElement(l){let u=this._findFosterParentingLocation();u.beforeElement?this.treeAdapter.insertBefore(u.parent,l,u.beforeElement):this.treeAdapter.appendChild(u.parent,l)}_fosterParentText(l){let u=this._findFosterParentingLocation();u.beforeElement?this.treeAdapter.insertTextBefore(u.parent,l,u.beforeElement):this.treeAdapter.insertText(u.parent,l)}_isSpecialElement(l){let u=this.treeAdapter.getTagName(l),p=this.treeAdapter.getNamespaceURI(l);return U.SPECIAL_ELEMENTS[p][u]}}},3895:function(l,u,p){"use strict";let h=p(56105),g=h.TAG_NAMES,T=h.NAMESPACES;function isImpliedEndTagRequired(l){switch(l.length){case 1:return l===g.P;case 2:return l===g.RB||l===g.RP||l===g.RT||l===g.DD||l===g.DT||l===g.LI;case 3:return l===g.RTC;case 6:return l===g.OPTION;case 8:return l===g.OPTGROUP}return!1}function isScopingElement(l,u){switch(l.length){case 2:if(l===g.TD||l===g.TH)return u===T.HTML;if(l===g.MI||l===g.MO||l===g.MN||l===g.MS)return u===T.MATHML;break;case 4:if(l===g.HTML)return u===T.HTML;if(l===g.DESC)return u===T.SVG;break;case 5:if(l===g.TABLE)return u===T.HTML;if(l===g.MTEXT)return u===T.MATHML;if(l===g.TITLE)return u===T.SVG;break;case 6:return(l===g.APPLET||l===g.OBJECT)&&u===T.HTML;case 7:return(l===g.CAPTION||l===g.MARQUEE)&&u===T.HTML;case 8:return l===g.TEMPLATE&&u===T.HTML;case 13:return l===g.FOREIGN_OBJECT&&u===T.SVG;case 14:return l===g.ANNOTATION_XML&&u===T.MATHML}return!1}l.exports=class{constructor(l,u){this.stackTop=-1,this.items=[],this.current=l,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=u}_indexOf(l){let u=-1;for(let p=this.stackTop;p>=0;p--)if(this.items[p]===l){u=p;break}return u}_isInTemplate(){return this.currentTagName===g.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===T.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(l){this.items[++this.stackTop]=l,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(l,u){let p=this._indexOf(l);this.items[p]=u,p===this.stackTop&&this._updateCurrentElement()}insertAfter(l,u){let p=this._indexOf(l)+1;this.items.splice(p,0,u),p===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(l){for(;this.stackTop>-1;){let u=this.currentTagName,p=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),u===l&&p===T.HTML)break}}popUntilElementPopped(l){for(;this.stackTop>-1;){let u=this.current;if(this.pop(),u===l)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){let l=this.currentTagName,u=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),l===g.H1||l===g.H2||l===g.H3||l===g.H4||l===g.H5||l===g.H6&&u===T.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){let l=this.currentTagName,u=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),l===g.TD||l===g.TH&&u===T.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==g.TABLE&&this.currentTagName!==g.TEMPLATE&&this.currentTagName!==g.HTML||this.treeAdapter.getNamespaceURI(this.current)!==T.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==g.TBODY&&this.currentTagName!==g.TFOOT&&this.currentTagName!==g.THEAD&&this.currentTagName!==g.TEMPLATE&&this.currentTagName!==g.HTML||this.treeAdapter.getNamespaceURI(this.current)!==T.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==g.TR&&this.currentTagName!==g.TEMPLATE&&this.currentTagName!==g.HTML||this.treeAdapter.getNamespaceURI(this.current)!==T.HTML;)this.pop()}remove(l){for(let u=this.stackTop;u>=0;u--)if(this.items[u]===l){this.items.splice(u,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){let l=this.items[1];return l&&this.treeAdapter.getTagName(l)===g.BODY?l:null}contains(l){return this._indexOf(l)>-1}getCommonAncestor(l){let u=this._indexOf(l);return--u>=0?this.items[u]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.currentTagName===g.HTML}hasInScope(l){for(let u=this.stackTop;u>=0;u--){let p=this.treeAdapter.getTagName(this.items[u]),h=this.treeAdapter.getNamespaceURI(this.items[u]);if(p===l&&h===T.HTML)break;if(isScopingElement(p,h))return!1}return!0}hasNumberedHeaderInScope(){for(let l=this.stackTop;l>=0;l--){let u=this.treeAdapter.getTagName(this.items[l]),p=this.treeAdapter.getNamespaceURI(this.items[l]);if((u===g.H1||u===g.H2||u===g.H3||u===g.H4||u===g.H5||u===g.H6)&&p===T.HTML)break;if(isScopingElement(u,p))return!1}return!0}hasInListItemScope(l){for(let u=this.stackTop;u>=0;u--){let p=this.treeAdapter.getTagName(this.items[u]),h=this.treeAdapter.getNamespaceURI(this.items[u]);if(p===l&&h===T.HTML)break;if((p===g.UL||p===g.OL)&&h===T.HTML||isScopingElement(p,h))return!1}return!0}hasInButtonScope(l){for(let u=this.stackTop;u>=0;u--){let p=this.treeAdapter.getTagName(this.items[u]),h=this.treeAdapter.getNamespaceURI(this.items[u]);if(p===l&&h===T.HTML)break;if(p===g.BUTTON&&h===T.HTML||isScopingElement(p,h))return!1}return!0}hasInTableScope(l){for(let u=this.stackTop;u>=0;u--){let p=this.treeAdapter.getTagName(this.items[u]),h=this.treeAdapter.getNamespaceURI(this.items[u]);if(h===T.HTML){if(p===l)break;if(p===g.TABLE||p===g.TEMPLATE||p===g.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let l=this.stackTop;l>=0;l--){let u=this.treeAdapter.getTagName(this.items[l]),p=this.treeAdapter.getNamespaceURI(this.items[l]);if(p===T.HTML){if(u===g.TBODY||u===g.THEAD||u===g.TFOOT)break;if(u===g.TABLE||u===g.HTML)return!1}}return!0}hasInSelectScope(l){for(let u=this.stackTop;u>=0;u--){let p=this.treeAdapter.getTagName(this.items[u]),h=this.treeAdapter.getNamespaceURI(this.items[u]);if(h===T.HTML){if(p===l)break;if(p!==g.OPTION&&p!==g.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;isImpliedEndTagRequired(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;function(l){switch(l.length){case 1:return l===g.P;case 2:return l===g.RB||l===g.RP||l===g.RT||l===g.DD||l===g.DT||l===g.LI||l===g.TD||l===g.TH||l===g.TR;case 3:return l===g.RTC;case 5:return l===g.TBODY||l===g.TFOOT||l===g.THEAD;case 6:return l===g.OPTION;case 7:return l===g.CAPTION;case 8:return l===g.OPTGROUP||l===g.COLGROUP}return!1}(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(l){for(;isImpliedEndTagRequired(this.currentTagName)&&this.currentTagName!==l;)this.pop()}}},67574:function(l,u,p){"use strict";let h=p(9092),g=p(47682),T=p(53775),E=p(4422),v=g.CODE_POINTS,C=g.CODE_POINT_SEQUENCES,x={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},M="DATA_STATE",O="RCDATA_STATE",R="RAWTEXT_STATE",L="SCRIPT_DATA_STATE",H="PLAINTEXT_STATE",U="TAG_OPEN_STATE",j="END_TAG_OPEN_STATE",G="TAG_NAME_STATE",W="RCDATA_LESS_THAN_SIGN_STATE",q="RCDATA_END_TAG_OPEN_STATE",Y="RCDATA_END_TAG_NAME_STATE",X="RAWTEXT_LESS_THAN_SIGN_STATE",Z="RAWTEXT_END_TAG_OPEN_STATE",er="RAWTEXT_END_TAG_NAME_STATE",ea="SCRIPT_DATA_LESS_THAN_SIGN_STATE",es="SCRIPT_DATA_END_TAG_OPEN_STATE",el="SCRIPT_DATA_END_TAG_NAME_STATE",ec="SCRIPT_DATA_ESCAPE_START_STATE",eu="SCRIPT_DATA_ESCAPE_START_DASH_STATE",ed="SCRIPT_DATA_ESCAPED_STATE",ep="SCRIPT_DATA_ESCAPED_DASH_STATE",eh="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",ef="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",eg="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",ey="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",eb="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",eT="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",eE="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",ev="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",ek="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",eS="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",eC="BEFORE_ATTRIBUTE_NAME_STATE",ew="ATTRIBUTE_NAME_STATE",ex="AFTER_ATTRIBUTE_NAME_STATE",eA="BEFORE_ATTRIBUTE_VALUE_STATE",e_="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",eN="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",eM="ATTRIBUTE_VALUE_UNQUOTED_STATE",eO="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",eI="SELF_CLOSING_START_TAG_STATE",eR="BOGUS_COMMENT_STATE",eL="MARKUP_DECLARATION_OPEN_STATE",eP="COMMENT_START_STATE",eD="COMMENT_START_DASH_STATE",eB="COMMENT_STATE",eH="COMMENT_LESS_THAN_SIGN_STATE",eF="COMMENT_LESS_THAN_SIGN_BANG_STATE",eU="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",ej="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ez="COMMENT_END_DASH_STATE",eV="COMMENT_END_STATE",e$="COMMENT_END_BANG_STATE",eG="DOCTYPE_STATE",eK="BEFORE_DOCTYPE_NAME_STATE",eW="DOCTYPE_NAME_STATE",eq="AFTER_DOCTYPE_NAME_STATE",eY="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",eQ="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",eJ="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",eX="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",eZ="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",e1="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",e0="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",e9="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",e5="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",e4="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",e2="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",e8="BOGUS_DOCTYPE_STATE",e6="CDATA_SECTION_STATE",e3="CDATA_SECTION_BRACKET_STATE",e7="CDATA_SECTION_END_STATE",tn="CHARACTER_REFERENCE_STATE",tr="NAMED_CHARACTER_REFERENCE_STATE",ti="AMBIGUOS_AMPERSAND_STATE",tl="NUMERIC_CHARACTER_REFERENCE_STATE",tc="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",tu="DECIMAL_CHARACTER_REFERENCE_START_STATE",td="HEXADEMICAL_CHARACTER_REFERENCE_STATE",tp="DECIMAL_CHARACTER_REFERENCE_STATE",th="NUMERIC_CHARACTER_REFERENCE_END_STATE";function isWhitespace(l){return l===v.SPACE||l===v.LINE_FEED||l===v.TABULATION||l===v.FORM_FEED}function isAsciiDigit(l){return l>=v.DIGIT_0&&l<=v.DIGIT_9}function isAsciiUpper(l){return l>=v.LATIN_CAPITAL_A&&l<=v.LATIN_CAPITAL_Z}function isAsciiLower(l){return l>=v.LATIN_SMALL_A&&l<=v.LATIN_SMALL_Z}function isAsciiLetter(l){return isAsciiLower(l)||isAsciiUpper(l)}function isAsciiAlphaNumeric(l){return isAsciiLetter(l)||isAsciiDigit(l)}function isAsciiUpperHexDigit(l){return l>=v.LATIN_CAPITAL_A&&l<=v.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(l){return l>=v.LATIN_SMALL_A&&l<=v.LATIN_SMALL_F}function toChar(l){return l<=65535?String.fromCharCode(l):String.fromCharCode((l-=65536)>>>10&1023|55296)+String.fromCharCode(56320|1023&l)}function toAsciiLowerChar(l){return String.fromCharCode(l+32)}function findNamedEntityTreeBranch(l,u){let p=T[++l],h=++l,g=h+p-1;for(;h<=g;){let l=h+g>>>1,E=T[l];if(E<u)h=l+1;else{if(!(E>u))return T[l+p];g=l-1}}return -1}let Tokenizer=class Tokenizer{constructor(){this.preprocessor=new h,this.tokenQueue=[],this.allowCDATA=!1,this.state=M,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(l){this._consume(),this._err(l),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;let l=this._consume();this._ensureHibernation()||this[this.state](l)}return this.tokenQueue.shift()}write(l,u){this.active=!0,this.preprocessor.write(l,u)}insertHtmlAtCurrentPos(l){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(l)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Tokenizer.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(l){this.state=l,this._unconsume()}_consumeSequenceIfMatch(l,u,p){let h,g=0,T=!0,E=l.length,C=0,x=u;for(;C<E;C++)if(C>0&&(x=this._consume(),g++),x===v.EOF||x!==(h=l[C])&&(p||x!==h+32)){T=!1;break}if(!T)for(;g--;)this._unconsume();return T}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==C.SCRIPT_STRING.length)return!1;for(let l=0;l<this.tempBuff.length;l++)if(this.tempBuff[l]!==C.SCRIPT_STRING[l])return!1;return!0}_createStartTagToken(){this.currentToken={type:Tokenizer.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Tokenizer.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Tokenizer.COMMENT_TOKEN,data:""}}_createDoctypeToken(l){this.currentToken={type:Tokenizer.DOCTYPE_TOKEN,name:l,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(l,u){this.currentCharacterToken={type:l,chars:u}}_createEOFToken(){this.currentToken={type:Tokenizer.EOF_TOKEN}}_createAttr(l){this.currentAttr={name:l,value:""}}_leaveAttrName(l){null===Tokenizer.getTokenAttr(this.currentToken,this.currentAttr.name)?this.currentToken.attrs.push(this.currentAttr):this._err(E.duplicateAttribute),this.state=l}_leaveAttrValue(l){this.state=l}_emitCurrentToken(){this._emitCurrentCharacterToken();let l=this.currentToken;this.currentToken=null,l.type===Tokenizer.START_TAG_TOKEN?this.lastStartTagName=l.tagName:l.type===Tokenizer.END_TAG_TOKEN&&(l.attrs.length>0&&this._err(E.endTagWithAttributes),l.selfClosing&&this._err(E.endTagWithTrailingSolidus)),this.tokenQueue.push(l)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(l,u){this.currentCharacterToken&&this.currentCharacterToken.type!==l&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=u:this._createCharacterToken(l,u)}_emitCodePoint(l){let u=Tokenizer.CHARACTER_TOKEN;isWhitespace(l)?u=Tokenizer.WHITESPACE_CHARACTER_TOKEN:l===v.NULL&&(u=Tokenizer.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(u,toChar(l))}_emitSeveralCodePoints(l){for(let u=0;u<l.length;u++)this._emitCodePoint(l[u])}_emitChars(l){this._appendCharToCurrentCharacterToken(Tokenizer.CHARACTER_TOKEN,l)}_matchNamedCharacterReference(l){let u=null,p=1,h=findNamedEntityTreeBranch(0,l);for(this.tempBuff.push(l);h>-1;){let l=T[h],g=l<7,E=g&&1&l;E&&(u=2&l?[T[++h],T[++h]]:[T[++h]],p=0);let C=this._consume();if(this.tempBuff.push(C),p++,C===v.EOF)break;h=g?4&l?findNamedEntityTreeBranch(h,C):-1:C===l?++h:-1}for(;p--;)this.tempBuff.pop(),this._unconsume();return u}_isCharacterReferenceInAttribute(){return this.returnState===e_||this.returnState===eN||this.returnState===eM}_isCharacterReferenceAttributeQuirk(l){if(!l&&this._isCharacterReferenceInAttribute()){let l=this._consume();return this._unconsume(),l===v.EQUALS_SIGN||isAsciiAlphaNumeric(l)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let l=0;l<this.tempBuff.length;l++)this.currentAttr.value+=toChar(this.tempBuff[l]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[M](l){this.preprocessor.dropParsedChunk(),l===v.LESS_THAN_SIGN?this.state=U:l===v.AMPERSAND?(this.returnState=M,this.state=tn):l===v.NULL?(this._err(E.unexpectedNullCharacter),this._emitCodePoint(l)):l===v.EOF?this._emitEOFToken():this._emitCodePoint(l)}[O](l){this.preprocessor.dropParsedChunk(),l===v.AMPERSAND?(this.returnState=O,this.state=tn):l===v.LESS_THAN_SIGN?this.state=W:l===v.NULL?(this._err(E.unexpectedNullCharacter),this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?this._emitEOFToken():this._emitCodePoint(l)}[R](l){this.preprocessor.dropParsedChunk(),l===v.LESS_THAN_SIGN?this.state=X:l===v.NULL?(this._err(E.unexpectedNullCharacter),this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?this._emitEOFToken():this._emitCodePoint(l)}[L](l){this.preprocessor.dropParsedChunk(),l===v.LESS_THAN_SIGN?this.state=ea:l===v.NULL?(this._err(E.unexpectedNullCharacter),this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?this._emitEOFToken():this._emitCodePoint(l)}[H](l){this.preprocessor.dropParsedChunk(),l===v.NULL?(this._err(E.unexpectedNullCharacter),this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?this._emitEOFToken():this._emitCodePoint(l)}[U](l){l===v.EXCLAMATION_MARK?this.state=eL:l===v.SOLIDUS?this.state=j:isAsciiLetter(l)?(this._createStartTagToken(),this._reconsumeInState(G)):l===v.QUESTION_MARK?(this._err(E.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(eR)):l===v.EOF?(this._err(E.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(E.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(M))}[j](l){isAsciiLetter(l)?(this._createEndTagToken(),this._reconsumeInState(G)):l===v.GREATER_THAN_SIGN?(this._err(E.missingEndTagName),this.state=M):l===v.EOF?(this._err(E.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(E.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(eR))}[G](l){isWhitespace(l)?this.state=eC:l===v.SOLIDUS?this.state=eI:l===v.GREATER_THAN_SIGN?(this.state=M,this._emitCurrentToken()):isAsciiUpper(l)?this.currentToken.tagName+=toAsciiLowerChar(l):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.tagName+=g.REPLACEMENT_CHARACTER):l===v.EOF?(this._err(E.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=toChar(l)}[W](l){l===v.SOLIDUS?(this.tempBuff=[],this.state=q):(this._emitChars("<"),this._reconsumeInState(O))}[q](l){isAsciiLetter(l)?(this._createEndTagToken(),this._reconsumeInState(Y)):(this._emitChars("</"),this._reconsumeInState(O))}[Y](l){if(isAsciiUpper(l))this.currentToken.tagName+=toAsciiLowerChar(l),this.tempBuff.push(l);else if(isAsciiLower(l))this.currentToken.tagName+=toChar(l),this.tempBuff.push(l);else{if(this.lastStartTagName===this.currentToken.tagName){if(isWhitespace(l)){this.state=eC;return}if(l===v.SOLIDUS){this.state=eI;return}if(l===v.GREATER_THAN_SIGN){this.state=M,this._emitCurrentToken();return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(O)}}[X](l){l===v.SOLIDUS?(this.tempBuff=[],this.state=Z):(this._emitChars("<"),this._reconsumeInState(R))}[Z](l){isAsciiLetter(l)?(this._createEndTagToken(),this._reconsumeInState(er)):(this._emitChars("</"),this._reconsumeInState(R))}[er](l){if(isAsciiUpper(l))this.currentToken.tagName+=toAsciiLowerChar(l),this.tempBuff.push(l);else if(isAsciiLower(l))this.currentToken.tagName+=toChar(l),this.tempBuff.push(l);else{if(this.lastStartTagName===this.currentToken.tagName){if(isWhitespace(l)){this.state=eC;return}if(l===v.SOLIDUS){this.state=eI;return}if(l===v.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=M;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(R)}}[ea](l){l===v.SOLIDUS?(this.tempBuff=[],this.state=es):l===v.EXCLAMATION_MARK?(this.state=ec,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(L))}[es](l){isAsciiLetter(l)?(this._createEndTagToken(),this._reconsumeInState(el)):(this._emitChars("</"),this._reconsumeInState(L))}[el](l){if(isAsciiUpper(l))this.currentToken.tagName+=toAsciiLowerChar(l),this.tempBuff.push(l);else if(isAsciiLower(l))this.currentToken.tagName+=toChar(l),this.tempBuff.push(l);else{if(this.lastStartTagName===this.currentToken.tagName){if(isWhitespace(l)){this.state=eC;return}if(l===v.SOLIDUS){this.state=eI;return}if(l===v.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=M;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(L)}}[ec](l){l===v.HYPHEN_MINUS?(this.state=eu,this._emitChars("-")):this._reconsumeInState(L)}[eu](l){l===v.HYPHEN_MINUS?(this.state=eh,this._emitChars("-")):this._reconsumeInState(L)}[ed](l){l===v.HYPHEN_MINUS?(this.state=ep,this._emitChars("-")):l===v.LESS_THAN_SIGN?this.state=ef:l===v.NULL?(this._err(E.unexpectedNullCharacter),this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?(this._err(E.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(l)}[ep](l){l===v.HYPHEN_MINUS?(this.state=eh,this._emitChars("-")):l===v.LESS_THAN_SIGN?this.state=ef:l===v.NULL?(this._err(E.unexpectedNullCharacter),this.state=ed,this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?(this._err(E.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=ed,this._emitCodePoint(l))}[eh](l){l===v.HYPHEN_MINUS?this._emitChars("-"):l===v.LESS_THAN_SIGN?this.state=ef:l===v.GREATER_THAN_SIGN?(this.state=L,this._emitChars(">")):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.state=ed,this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?(this._err(E.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=ed,this._emitCodePoint(l))}[ef](l){l===v.SOLIDUS?(this.tempBuff=[],this.state=eg):isAsciiLetter(l)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(eb)):(this._emitChars("<"),this._reconsumeInState(ed))}[eg](l){isAsciiLetter(l)?(this._createEndTagToken(),this._reconsumeInState(ey)):(this._emitChars("</"),this._reconsumeInState(ed))}[ey](l){if(isAsciiUpper(l))this.currentToken.tagName+=toAsciiLowerChar(l),this.tempBuff.push(l);else if(isAsciiLower(l))this.currentToken.tagName+=toChar(l),this.tempBuff.push(l);else{if(this.lastStartTagName===this.currentToken.tagName){if(isWhitespace(l)){this.state=eC;return}if(l===v.SOLIDUS){this.state=eI;return}if(l===v.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=M;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(ed)}}[eb](l){isWhitespace(l)||l===v.SOLIDUS||l===v.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?eT:ed,this._emitCodePoint(l)):isAsciiUpper(l)?(this.tempBuff.push(l+32),this._emitCodePoint(l)):isAsciiLower(l)?(this.tempBuff.push(l),this._emitCodePoint(l)):this._reconsumeInState(ed)}[eT](l){l===v.HYPHEN_MINUS?(this.state=eE,this._emitChars("-")):l===v.LESS_THAN_SIGN?(this.state=ek,this._emitChars("<")):l===v.NULL?(this._err(E.unexpectedNullCharacter),this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?(this._err(E.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(l)}[eE](l){l===v.HYPHEN_MINUS?(this.state=ev,this._emitChars("-")):l===v.LESS_THAN_SIGN?(this.state=ek,this._emitChars("<")):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.state=eT,this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?(this._err(E.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=eT,this._emitCodePoint(l))}[ev](l){l===v.HYPHEN_MINUS?this._emitChars("-"):l===v.LESS_THAN_SIGN?(this.state=ek,this._emitChars("<")):l===v.GREATER_THAN_SIGN?(this.state=L,this._emitChars(">")):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.state=eT,this._emitChars(g.REPLACEMENT_CHARACTER)):l===v.EOF?(this._err(E.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=eT,this._emitCodePoint(l))}[ek](l){l===v.SOLIDUS?(this.tempBuff=[],this.state=eS,this._emitChars("/")):this._reconsumeInState(eT)}[eS](l){isWhitespace(l)||l===v.SOLIDUS||l===v.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?ed:eT,this._emitCodePoint(l)):isAsciiUpper(l)?(this.tempBuff.push(l+32),this._emitCodePoint(l)):isAsciiLower(l)?(this.tempBuff.push(l),this._emitCodePoint(l)):this._reconsumeInState(eT)}[eC](l){isWhitespace(l)||(l===v.SOLIDUS||l===v.GREATER_THAN_SIGN||l===v.EOF?this._reconsumeInState(ex):l===v.EQUALS_SIGN?(this._err(E.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ew):(this._createAttr(""),this._reconsumeInState(ew)))}[ew](l){isWhitespace(l)||l===v.SOLIDUS||l===v.GREATER_THAN_SIGN||l===v.EOF?(this._leaveAttrName(ex),this._unconsume()):l===v.EQUALS_SIGN?this._leaveAttrName(eA):isAsciiUpper(l)?this.currentAttr.name+=toAsciiLowerChar(l):l===v.QUOTATION_MARK||l===v.APOSTROPHE||l===v.LESS_THAN_SIGN?(this._err(E.unexpectedCharacterInAttributeName),this.currentAttr.name+=toChar(l)):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentAttr.name+=g.REPLACEMENT_CHARACTER):this.currentAttr.name+=toChar(l)}[ex](l){isWhitespace(l)||(l===v.SOLIDUS?this.state=eI:l===v.EQUALS_SIGN?this.state=eA:l===v.GREATER_THAN_SIGN?(this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(ew)))}[eA](l){isWhitespace(l)||(l===v.QUOTATION_MARK?this.state=e_:l===v.APOSTROPHE?this.state=eN:l===v.GREATER_THAN_SIGN?(this._err(E.missingAttributeValue),this.state=M,this._emitCurrentToken()):this._reconsumeInState(eM))}[e_](l){l===v.QUOTATION_MARK?this.state=eO:l===v.AMPERSAND?(this.returnState=e_,this.state=tn):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentAttr.value+=g.REPLACEMENT_CHARACTER):l===v.EOF?(this._err(E.eofInTag),this._emitEOFToken()):this.currentAttr.value+=toChar(l)}[eN](l){l===v.APOSTROPHE?this.state=eO:l===v.AMPERSAND?(this.returnState=eN,this.state=tn):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentAttr.value+=g.REPLACEMENT_CHARACTER):l===v.EOF?(this._err(E.eofInTag),this._emitEOFToken()):this.currentAttr.value+=toChar(l)}[eM](l){isWhitespace(l)?this._leaveAttrValue(eC):l===v.AMPERSAND?(this.returnState=eM,this.state=tn):l===v.GREATER_THAN_SIGN?(this._leaveAttrValue(M),this._emitCurrentToken()):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentAttr.value+=g.REPLACEMENT_CHARACTER):l===v.QUOTATION_MARK||l===v.APOSTROPHE||l===v.LESS_THAN_SIGN||l===v.EQUALS_SIGN||l===v.GRAVE_ACCENT?(this._err(E.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=toChar(l)):l===v.EOF?(this._err(E.eofInTag),this._emitEOFToken()):this.currentAttr.value+=toChar(l)}[eO](l){isWhitespace(l)?this._leaveAttrValue(eC):l===v.SOLIDUS?this._leaveAttrValue(eI):l===v.GREATER_THAN_SIGN?(this._leaveAttrValue(M),this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInTag),this._emitEOFToken()):(this._err(E.missingWhitespaceBetweenAttributes),this._reconsumeInState(eC))}[eI](l){l===v.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInTag),this._emitEOFToken()):(this._err(E.unexpectedSolidusInTag),this._reconsumeInState(eC))}[eR](l){l===v.GREATER_THAN_SIGN?(this.state=M,this._emitCurrentToken()):l===v.EOF?(this._emitCurrentToken(),this._emitEOFToken()):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.data+=g.REPLACEMENT_CHARACTER):this.currentToken.data+=toChar(l)}[eL](l){this._consumeSequenceIfMatch(C.DASH_DASH_STRING,l,!0)?(this._createCommentToken(),this.state=eP):this._consumeSequenceIfMatch(C.DOCTYPE_STRING,l,!1)?this.state=eG:this._consumeSequenceIfMatch(C.CDATA_START_STRING,l,!0)?this.allowCDATA?this.state=e6:(this._err(E.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=eR):this._ensureHibernation()||(this._err(E.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(eR))}[eP](l){l===v.HYPHEN_MINUS?this.state=eD:l===v.GREATER_THAN_SIGN?(this._err(E.abruptClosingOfEmptyComment),this.state=M,this._emitCurrentToken()):this._reconsumeInState(eB)}[eD](l){l===v.HYPHEN_MINUS?this.state=eV:l===v.GREATER_THAN_SIGN?(this._err(E.abruptClosingOfEmptyComment),this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(eB))}[eB](l){l===v.HYPHEN_MINUS?this.state=ez:l===v.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=eH):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.data+=g.REPLACEMENT_CHARACTER):l===v.EOF?(this._err(E.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=toChar(l)}[eH](l){l===v.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=eF):l===v.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(eB)}[eF](l){l===v.HYPHEN_MINUS?this.state=eU:this._reconsumeInState(eB)}[eU](l){l===v.HYPHEN_MINUS?this.state=ej:this._reconsumeInState(ez)}[ej](l){l!==v.GREATER_THAN_SIGN&&l!==v.EOF&&this._err(E.nestedComment),this._reconsumeInState(eV)}[ez](l){l===v.HYPHEN_MINUS?this.state=eV:l===v.EOF?(this._err(E.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(eB))}[eV](l){l===v.GREATER_THAN_SIGN?(this.state=M,this._emitCurrentToken()):l===v.EXCLAMATION_MARK?this.state=e$:l===v.HYPHEN_MINUS?this.currentToken.data+="-":l===v.EOF?(this._err(E.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(eB))}[e$](l){l===v.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ez):l===v.GREATER_THAN_SIGN?(this._err(E.incorrectlyClosedComment),this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(eB))}[eG](l){isWhitespace(l)?this.state=eK:l===v.GREATER_THAN_SIGN?this._reconsumeInState(eK):l===v.EOF?(this._err(E.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(eK))}[eK](l){isWhitespace(l)||(isAsciiUpper(l)?(this._createDoctypeToken(toAsciiLowerChar(l)),this.state=eW):l===v.NULL?(this._err(E.unexpectedNullCharacter),this._createDoctypeToken(g.REPLACEMENT_CHARACTER),this.state=eW):l===v.GREATER_THAN_SIGN?(this._err(E.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=M):l===v.EOF?(this._err(E.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(toChar(l)),this.state=eW))}[eW](l){isWhitespace(l)?this.state=eq:l===v.GREATER_THAN_SIGN?(this.state=M,this._emitCurrentToken()):isAsciiUpper(l)?this.currentToken.name+=toAsciiLowerChar(l):l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.name+=g.REPLACEMENT_CHARACTER):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=toChar(l)}[eq](l){!isWhitespace(l)&&(l===v.GREATER_THAN_SIGN?(this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(C.PUBLIC_STRING,l,!1)?this.state=eY:this._consumeSequenceIfMatch(C.SYSTEM_STRING,l,!1)?this.state=e0:this._ensureHibernation()||(this._err(E.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(e8)))}[eY](l){isWhitespace(l)?this.state=eQ:l===v.QUOTATION_MARK?(this._err(E.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=eJ):l===v.APOSTROPHE?(this._err(E.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=eX):l===v.GREATER_THAN_SIGN?(this._err(E.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(e8))}[eQ](l){isWhitespace(l)||(l===v.QUOTATION_MARK?(this.currentToken.publicId="",this.state=eJ):l===v.APOSTROPHE?(this.currentToken.publicId="",this.state=eX):l===v.GREATER_THAN_SIGN?(this._err(E.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(e8)))}[eJ](l){l===v.QUOTATION_MARK?this.state=eZ:l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.publicId+=g.REPLACEMENT_CHARACTER):l===v.GREATER_THAN_SIGN?(this._err(E.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=M):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=toChar(l)}[eX](l){l===v.APOSTROPHE?this.state=eZ:l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.publicId+=g.REPLACEMENT_CHARACTER):l===v.GREATER_THAN_SIGN?(this._err(E.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=M):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=toChar(l)}[eZ](l){isWhitespace(l)?this.state=e1:l===v.GREATER_THAN_SIGN?(this.state=M,this._emitCurrentToken()):l===v.QUOTATION_MARK?(this._err(E.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=e5):l===v.APOSTROPHE?(this._err(E.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=e4):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(e8))}[e1](l){isWhitespace(l)||(l===v.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=M):l===v.QUOTATION_MARK?(this.currentToken.systemId="",this.state=e5):l===v.APOSTROPHE?(this.currentToken.systemId="",this.state=e4):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(e8)))}[e0](l){isWhitespace(l)?this.state=e9:l===v.QUOTATION_MARK?(this._err(E.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=e5):l===v.APOSTROPHE?(this._err(E.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=e4):l===v.GREATER_THAN_SIGN?(this._err(E.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(e8))}[e9](l){isWhitespace(l)||(l===v.QUOTATION_MARK?(this.currentToken.systemId="",this.state=e5):l===v.APOSTROPHE?(this.currentToken.systemId="",this.state=e4):l===v.GREATER_THAN_SIGN?(this._err(E.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=M,this._emitCurrentToken()):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(e8)))}[e5](l){l===v.QUOTATION_MARK?this.state=e2:l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.systemId+=g.REPLACEMENT_CHARACTER):l===v.GREATER_THAN_SIGN?(this._err(E.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=M):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=toChar(l)}[e4](l){l===v.APOSTROPHE?this.state=e2:l===v.NULL?(this._err(E.unexpectedNullCharacter),this.currentToken.systemId+=g.REPLACEMENT_CHARACTER):l===v.GREATER_THAN_SIGN?(this._err(E.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=M):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=toChar(l)}[e2](l){isWhitespace(l)||(l===v.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=M):l===v.EOF?(this._err(E.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(E.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(e8)))}[e8](l){l===v.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=M):l===v.NULL?this._err(E.unexpectedNullCharacter):l===v.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[e6](l){l===v.RIGHT_SQUARE_BRACKET?this.state=e3:l===v.EOF?(this._err(E.eofInCdata),this._emitEOFToken()):this._emitCodePoint(l)}[e3](l){l===v.RIGHT_SQUARE_BRACKET?this.state=e7:(this._emitChars("]"),this._reconsumeInState(e6))}[e7](l){l===v.GREATER_THAN_SIGN?this.state=M:l===v.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(e6))}[tn](l){this.tempBuff=[v.AMPERSAND],l===v.NUMBER_SIGN?(this.tempBuff.push(l),this.state=tl):isAsciiAlphaNumeric(l)?this._reconsumeInState(tr):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[tr](l){let u=this._matchNamedCharacterReference(l);if(this._ensureHibernation())this.tempBuff=[v.AMPERSAND];else if(u){let l=this.tempBuff[this.tempBuff.length-1]===v.SEMICOLON;this._isCharacterReferenceAttributeQuirk(l)||(l||this._errOnNextCodePoint(E.missingSemicolonAfterCharacterReference),this.tempBuff=u),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=ti}[ti](l){isAsciiAlphaNumeric(l)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=toChar(l):this._emitCodePoint(l):(l===v.SEMICOLON&&this._err(E.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[tl](l){this.charRefCode=0,l===v.LATIN_SMALL_X||l===v.LATIN_CAPITAL_X?(this.tempBuff.push(l),this.state=tc):this._reconsumeInState(tu)}[tc](l){isAsciiDigit(l)||isAsciiUpperHexDigit(l)||isAsciiLowerHexDigit(l)?this._reconsumeInState(td):(this._err(E.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[tu](l){isAsciiDigit(l)?this._reconsumeInState(tp):(this._err(E.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[td](l){isAsciiUpperHexDigit(l)?this.charRefCode=16*this.charRefCode+l-55:isAsciiLowerHexDigit(l)?this.charRefCode=16*this.charRefCode+l-87:isAsciiDigit(l)?this.charRefCode=16*this.charRefCode+l-48:l===v.SEMICOLON?this.state=th:(this._err(E.missingSemicolonAfterCharacterReference),this._reconsumeInState(th))}[tp](l){isAsciiDigit(l)?this.charRefCode=10*this.charRefCode+l-48:l===v.SEMICOLON?this.state=th:(this._err(E.missingSemicolonAfterCharacterReference),this._reconsumeInState(th))}[th](){if(this.charRefCode===v.NULL)this._err(E.nullCharacterReference),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(E.characterReferenceOutsideUnicodeRange),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(g.isSurrogate(this.charRefCode))this._err(E.surrogateCharacterReference),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(g.isUndefinedCodePoint(this.charRefCode))this._err(E.noncharacterCharacterReference);else if(g.isControlCodePoint(this.charRefCode)||this.charRefCode===v.CARRIAGE_RETURN){this._err(E.controlCharacterReference);let l=x[this.charRefCode];l&&(this.charRefCode=l)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}};Tokenizer.CHARACTER_TOKEN="CHARACTER_TOKEN",Tokenizer.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Tokenizer.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Tokenizer.START_TAG_TOKEN="START_TAG_TOKEN",Tokenizer.END_TAG_TOKEN="END_TAG_TOKEN",Tokenizer.COMMENT_TOKEN="COMMENT_TOKEN",Tokenizer.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Tokenizer.EOF_TOKEN="EOF_TOKEN",Tokenizer.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Tokenizer.MODE={DATA:M,RCDATA:O,RAWTEXT:R,SCRIPT_DATA:L,PLAINTEXT:H},Tokenizer.getTokenAttr=function(l,u){for(let p=l.attrs.length-1;p>=0;p--)if(l.attrs[p].name===u)return l.attrs[p].value;return null},l.exports=Tokenizer},53775:function(l){"use strict";l.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},9092:function(l,u,p){"use strict";let h=p(47682),g=p(4422),T=h.CODE_POINTS;l.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(l){if(this.pos!==this.lastCharPos){let u=this.html.charCodeAt(this.pos+1);if(h.isSurrogatePair(u))return this.pos++,this._addGap(),h.getSurrogatePairCodePoint(l,u)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,T.EOF;return this._err(g.surrogateInInputStream),l}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(l,u){this.html?this.html+=l:this.html=l,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=u}insertHtmlAtCurrentPos(l){this.html=this.html.substring(0,this.pos+1)+l+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,T.EOF;let l=this.html.charCodeAt(this.pos);if(this.skipNextNewLine&&l===T.LINE_FEED)return this.skipNextNewLine=!1,this._addGap(),this.advance();if(l===T.CARRIAGE_RETURN)return this.skipNextNewLine=!0,T.LINE_FEED;this.skipNextNewLine=!1,h.isSurrogate(l)&&(l=this._processSurrogate(l));let u=l>31&&l<127||l===T.LINE_FEED||l===T.CARRIAGE_RETURN||l>159&&l<64976;return u||this._checkForProblematicCharacters(l),l}_checkForProblematicCharacters(l){h.isControlCodePoint(l)?this._err(g.controlCharacterInInputStream):h.isUndefinedCodePoint(l)&&this._err(g.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},25624:function(l,u,p){"use strict";let{DOCUMENT_MODE:h}=p(56105);u.createDocument=function(){return{nodeName:"#document",mode:h.NO_QUIRKS,childNodes:[]}},u.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},u.createElement=function(l,u,p){return{nodeName:l,tagName:l,attrs:p,namespaceURI:u,childNodes:[],parentNode:null}},u.createCommentNode=function(l){return{nodeName:"#comment",data:l,parentNode:null}};let createTextNode=function(l){return{nodeName:"#text",value:l,parentNode:null}},g=u.appendChild=function(l,u){l.childNodes.push(u),u.parentNode=l},T=u.insertBefore=function(l,u,p){let h=l.childNodes.indexOf(p);l.childNodes.splice(h,0,u),u.parentNode=l};u.setTemplateContent=function(l,u){l.content=u},u.getTemplateContent=function(l){return l.content},u.setDocumentType=function(l,u,p,h){let T=null;for(let u=0;u<l.childNodes.length;u++)if("#documentType"===l.childNodes[u].nodeName){T=l.childNodes[u];break}T?(T.name=u,T.publicId=p,T.systemId=h):g(l,{nodeName:"#documentType",name:u,publicId:p,systemId:h})},u.setDocumentMode=function(l,u){l.mode=u},u.getDocumentMode=function(l){return l.mode},u.detachNode=function(l){if(l.parentNode){let u=l.parentNode.childNodes.indexOf(l);l.parentNode.childNodes.splice(u,1),l.parentNode=null}},u.insertText=function(l,u){if(l.childNodes.length){let p=l.childNodes[l.childNodes.length-1];if("#text"===p.nodeName){p.value+=u;return}}g(l,createTextNode(u))},u.insertTextBefore=function(l,u,p){let h=l.childNodes[l.childNodes.indexOf(p)-1];h&&"#text"===h.nodeName?h.value+=u:T(l,createTextNode(u),p)},u.adoptAttributes=function(l,u){let p=[];for(let u=0;u<l.attrs.length;u++)p.push(l.attrs[u].name);for(let h=0;h<u.length;h++)-1===p.indexOf(u[h].name)&&l.attrs.push(u[h])},u.getFirstChild=function(l){return l.childNodes[0]},u.getChildNodes=function(l){return l.childNodes},u.getParentNode=function(l){return l.parentNode},u.getAttrList=function(l){return l.attrs},u.getTagName=function(l){return l.tagName},u.getNamespaceURI=function(l){return l.namespaceURI},u.getTextNodeContent=function(l){return l.value},u.getCommentNodeContent=function(l){return l.data},u.getDocumentTypeNodeName=function(l){return l.name},u.getDocumentTypeNodePublicId=function(l){return l.publicId},u.getDocumentTypeNodeSystemId=function(l){return l.systemId},u.isTextNode=function(l){return"#text"===l.nodeName},u.isCommentNode=function(l){return"#comment"===l.nodeName},u.isDocumentTypeNode=function(l){return"#documentType"===l.nodeName},u.isElementNode=function(l){return!!l.tagName},u.setNodeSourceCodeLocation=function(l,u){l.sourceCodeLocation=u},u.getNodeSourceCodeLocation=function(l){return l.sourceCodeLocation},u.updateNodeSourceCodeLocation=function(l,u){l.sourceCodeLocation=Object.assign(l.sourceCodeLocation,u)}},20530:function(l){"use strict";l.exports=function(l,u){return[l,u=u||Object.create(null)].reduce((l,u)=>(Object.keys(u).forEach(p=>{l[p]=u[p]}),l),Object.create(null))}},79848:function(l){"use strict";let Mixin=class Mixin{constructor(l){let u={},p=this._getOverriddenMethods(this,u);for(let h of Object.keys(p))"function"==typeof p[h]&&(u[h]=l[h],l[h]=p[h])}_getOverriddenMethods(){throw Error("Not implemented")}};Mixin.install=function(l,u,p){l.__mixins||(l.__mixins=[]);for(let p=0;p<l.__mixins.length;p++)if(l.__mixins[p].constructor===u)return l.__mixins[p];let h=new u(l,p);return l.__mixins.push(h),h},l.exports=Mixin},39974:function(l,u,p){"use strict";function getWindow(l){if(null==l)return window;if("[object Window]"!==l.toString()){var u=l.ownerDocument;return u&&u.defaultView||window}return l}function isElement(l){var u=getWindow(l).Element;return l instanceof u||l instanceof Element}function isHTMLElement(l){var u=getWindow(l).HTMLElement;return l instanceof u||l instanceof HTMLElement}function isShadowRoot(l){if("undefined"==typeof ShadowRoot)return!1;var u=getWindow(l).ShadowRoot;return l instanceof u||l instanceof ShadowRoot}p.d(u,{ZP:function(){return eC}});var h,g,T,E,v,C=Math.max,x=Math.min,M=Math.round;function getUAString(){var l=navigator.userAgentData;return null!=l&&l.brands&&Array.isArray(l.brands)?l.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(l,u,p){void 0===u&&(u=!1),void 0===p&&(p=!1);var h=l.getBoundingClientRect(),g=1,T=1;u&&isHTMLElement(l)&&(g=l.offsetWidth>0&&M(h.width)/l.offsetWidth||1,T=l.offsetHeight>0&&M(h.height)/l.offsetHeight||1);var E=(isElement(l)?getWindow(l):window).visualViewport,v=!isLayoutViewport()&&p,C=(h.left+(v&&E?E.offsetLeft:0))/g,x=(h.top+(v&&E?E.offsetTop:0))/T,O=h.width/g,R=h.height/T;return{width:O,height:R,top:x,right:C+O,bottom:x+R,left:C,x:C,y:x}}function getWindowScroll(l){var u=getWindow(l);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function getNodeName(l){return l?(l.nodeName||"").toLowerCase():null}function getDocumentElement(l){return((isElement(l)?l.ownerDocument:l.document)||window.document).documentElement}function getWindowScrollBarX(l){return getBoundingClientRect(getDocumentElement(l)).left+getWindowScroll(l).scrollLeft}function getComputedStyle(l){return getWindow(l).getComputedStyle(l)}function isScrollParent(l){var u=getComputedStyle(l),p=u.overflow,h=u.overflowX,g=u.overflowY;return/auto|scroll|overlay|hidden/.test(p+g+h)}function getLayoutRect(l){var u=getBoundingClientRect(l),p=l.offsetWidth,h=l.offsetHeight;return 1>=Math.abs(u.width-p)&&(p=u.width),1>=Math.abs(u.height-h)&&(h=u.height),{x:l.offsetLeft,y:l.offsetTop,width:p,height:h}}function getParentNode(l){return"html"===getNodeName(l)?l:l.assignedSlot||l.parentNode||(isShadowRoot(l)?l.host:null)||getDocumentElement(l)}function listScrollParents(l,u){void 0===u&&(u=[]);var p,h=function getScrollParent(l){return["html","body","#document"].indexOf(getNodeName(l))>=0?l.ownerDocument.body:isHTMLElement(l)&&isScrollParent(l)?l:getScrollParent(getParentNode(l))}(l),g=h===(null==(p=l.ownerDocument)?void 0:p.body),T=getWindow(h),E=g?[T].concat(T.visualViewport||[],isScrollParent(h)?h:[]):h,v=u.concat(E);return g?v:v.concat(listScrollParents(getParentNode(E)))}function getTrueOffsetParent(l){return isHTMLElement(l)&&"fixed"!==getComputedStyle(l).position?l.offsetParent:null}function getOffsetParent(l){for(var u=getWindow(l),p=getTrueOffsetParent(l);p&&["table","td","th"].indexOf(getNodeName(p))>=0&&"static"===getComputedStyle(p).position;)p=getTrueOffsetParent(p);return p&&("html"===getNodeName(p)||"body"===getNodeName(p)&&"static"===getComputedStyle(p).position)?u:p||function(l){var u=/firefox/i.test(getUAString());if(/Trident/i.test(getUAString())&&isHTMLElement(l)&&"fixed"===getComputedStyle(l).position)return null;var p=getParentNode(l);for(isShadowRoot(p)&&(p=p.host);isHTMLElement(p)&&0>["html","body"].indexOf(getNodeName(p));){var h=getComputedStyle(p);if("none"!==h.transform||"none"!==h.perspective||"paint"===h.contain||-1!==["transform","perspective"].indexOf(h.willChange)||u&&"filter"===h.willChange||u&&h.filter&&"none"!==h.filter)return p;p=p.parentNode}return null}(l)||u}var O="bottom",R="right",L="left",H="auto",U=["top",O,R,L],j="start",G="viewport",W="popper",q=U.reduce(function(l,u){return l.concat([u+"-"+j,u+"-end"])},[]),Y=[].concat(U,[H]).reduce(function(l,u){return l.concat([u,u+"-"+j,u+"-end"])},[]),X=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],Z={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return!u.some(function(l){return!(l&&"function"==typeof l.getBoundingClientRect)})}var er={passive:!0};function getBasePlacement(l){return l.split("-")[0]}function getVariation(l){return l.split("-")[1]}function getMainAxisFromPlacement(l){return["top","bottom"].indexOf(l)>=0?"x":"y"}function computeOffsets(l){var u,p=l.reference,h=l.element,g=l.placement,T=g?getBasePlacement(g):null,E=g?getVariation(g):null,v=p.x+p.width/2-h.width/2,C=p.y+p.height/2-h.height/2;switch(T){case"top":u={x:v,y:p.y-h.height};break;case O:u={x:v,y:p.y+p.height};break;case R:u={x:p.x+p.width,y:C};break;case L:u={x:p.x-h.width,y:C};break;default:u={x:p.x,y:p.y}}var x=T?getMainAxisFromPlacement(T):null;if(null!=x){var M="y"===x?"height":"width";switch(E){case j:u[x]=u[x]-(p[M]/2-h[M]/2);break;case"end":u[x]=u[x]+(p[M]/2-h[M]/2)}}return u}var ea={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mapToStyles(l){var u,p,h,g,T,E,v,C=l.popper,x=l.popperRect,H=l.placement,U=l.variation,j=l.offsets,G=l.position,W=l.gpuAcceleration,q=l.adaptive,Y=l.roundOffsets,X=l.isFixed,Z=j.x,er=void 0===Z?0:Z,es=j.y,el=void 0===es?0:es,ec="function"==typeof Y?Y({x:er,y:el}):{x:er,y:el};er=ec.x,el=ec.y;var eu=j.hasOwnProperty("x"),ed=j.hasOwnProperty("y"),ep=L,eh="top",ef=window;if(q){var eg=getOffsetParent(C),ey="clientHeight",eb="clientWidth";eg===getWindow(C)&&"static"!==getComputedStyle(eg=getDocumentElement(C)).position&&"absolute"===G&&(ey="scrollHeight",eb="scrollWidth"),("top"===H||(H===L||H===R)&&"end"===U)&&(eh=O,el-=(X&&eg===ef&&ef.visualViewport?ef.visualViewport.height:eg[ey])-x.height,el*=W?1:-1),(H===L||("top"===H||H===O)&&"end"===U)&&(ep=R,er-=(X&&eg===ef&&ef.visualViewport?ef.visualViewport.width:eg[eb])-x.width,er*=W?1:-1)}var eT=Object.assign({position:G},q&&ea),eE=!0===Y?(u={x:er,y:el},p=getWindow(C),h=u.x,g=u.y,{x:M(h*(T=p.devicePixelRatio||1))/T||0,y:M(g*T)/T||0}):{x:er,y:el};return(er=eE.x,el=eE.y,W)?Object.assign({},eT,((v={})[eh]=ed?"0":"",v[ep]=eu?"0":"",v.transform=1>=(ef.devicePixelRatio||1)?"translate("+er+"px, "+el+"px)":"translate3d("+er+"px, "+el+"px, 0)",v)):Object.assign({},eT,((E={})[eh]=ed?el+"px":"",E[ep]=eu?er+"px":"",E.transform="",E))}var es={name:"applyStyles",enabled:!0,phase:"write",fn:function(l){var u=l.state;Object.keys(u.elements).forEach(function(l){var p=u.styles[l]||{},h=u.attributes[l]||{},g=u.elements[l];isHTMLElement(g)&&getNodeName(g)&&(Object.assign(g.style,p),Object.keys(h).forEach(function(l){var u=h[l];!1===u?g.removeAttribute(l):g.setAttribute(l,!0===u?"":u)}))})},effect:function(l){var u=l.state,p={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,p.popper),u.styles=p,u.elements.arrow&&Object.assign(u.elements.arrow.style,p.arrow),function(){Object.keys(u.elements).forEach(function(l){var h=u.elements[l],g=u.attributes[l]||{},T=Object.keys(u.styles.hasOwnProperty(l)?u.styles[l]:p[l]).reduce(function(l,u){return l[u]="",l},{});isHTMLElement(h)&&getNodeName(h)&&(Object.assign(h.style,T),Object.keys(g).forEach(function(l){h.removeAttribute(l)}))})}},requires:["computeStyles"]},el={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(l){return l.replace(/left|right|bottom|top/g,function(l){return el[l]})}var ec={start:"end",end:"start"};function getOppositeVariationPlacement(l){return l.replace(/start|end/g,function(l){return ec[l]})}function contains(l,u){var p=u.getRootNode&&u.getRootNode();if(l.contains(u))return!0;if(p&&isShadowRoot(p)){var h=u;do{if(h&&l.isSameNode(h))return!0;h=h.parentNode||h.host}while(h)}return!1}function rectToClientRect(l){return Object.assign({},l,{left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height})}function getClientRectFromMixedType(l,u,p){var h,g,T,E,v,x,M,O,R,L;return u===G?rectToClientRect(function(l,u){var p=getWindow(l),h=getDocumentElement(l),g=p.visualViewport,T=h.clientWidth,E=h.clientHeight,v=0,C=0;if(g){T=g.width,E=g.height;var x=isLayoutViewport();(x||!x&&"fixed"===u)&&(v=g.offsetLeft,C=g.offsetTop)}return{width:T,height:E,x:v+getWindowScrollBarX(l),y:C}}(l,p)):isElement(u)?((h=getBoundingClientRect(u,!1,"fixed"===p)).top=h.top+u.clientTop,h.left=h.left+u.clientLeft,h.bottom=h.top+u.clientHeight,h.right=h.left+u.clientWidth,h.width=u.clientWidth,h.height=u.clientHeight,h.x=h.left,h.y=h.top,h):rectToClientRect((g=getDocumentElement(l),E=getDocumentElement(g),v=getWindowScroll(g),x=null==(T=g.ownerDocument)?void 0:T.body,M=C(E.scrollWidth,E.clientWidth,x?x.scrollWidth:0,x?x.clientWidth:0),O=C(E.scrollHeight,E.clientHeight,x?x.scrollHeight:0,x?x.clientHeight:0),R=-v.scrollLeft+getWindowScrollBarX(g),L=-v.scrollTop,"rtl"===getComputedStyle(x||E).direction&&(R+=C(E.clientWidth,x?x.clientWidth:0)-M),{width:M,height:O,x:R,y:L}))}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(l){return Object.assign({},getFreshSideObject(),l)}function expandToHashMap(l,u){return u.reduce(function(u,p){return u[p]=l,u},{})}function detectOverflow(l,u){void 0===u&&(u={});var p,h,g,T,E,v,M,L=u,H=L.placement,j=void 0===H?l.placement:H,q=L.strategy,Y=void 0===q?l.strategy:q,X=L.boundary,Z=L.rootBoundary,er=L.elementContext,ea=void 0===er?W:er,es=L.altBoundary,el=L.padding,ec=void 0===el?0:el,eu=mergePaddingObject("number"!=typeof ec?ec:expandToHashMap(ec,U)),ed=l.rects.popper,ep=l.elements[void 0!==es&&es?ea===W?"reference":W:ea],eh=(p=isElement(ep)?ep:ep.contextElement||getDocumentElement(l.elements.popper),v=(E=[].concat("clippingParents"===(h=void 0===X?"clippingParents":X)?(g=listScrollParents(getParentNode(p)),isElement(T=["absolute","fixed"].indexOf(getComputedStyle(p).position)>=0&&isHTMLElement(p)?getOffsetParent(p):p)?g.filter(function(l){return isElement(l)&&contains(l,T)&&"body"!==getNodeName(l)}):[]):[].concat(h),[void 0===Z?G:Z]))[0],(M=E.reduce(function(l,u){var h=getClientRectFromMixedType(p,u,Y);return l.top=C(h.top,l.top),l.right=x(h.right,l.right),l.bottom=x(h.bottom,l.bottom),l.left=C(h.left,l.left),l},getClientRectFromMixedType(p,v,Y))).width=M.right-M.left,M.height=M.bottom-M.top,M.x=M.left,M.y=M.top,M),ef=getBoundingClientRect(l.elements.reference),eg=computeOffsets({reference:ef,element:ed,strategy:"absolute",placement:j}),ey=rectToClientRect(Object.assign({},ed,eg)),eb=ea===W?ey:ef,eT={top:eh.top-eb.top+eu.top,bottom:eb.bottom-eh.bottom+eu.bottom,left:eh.left-eb.left+eu.left,right:eb.right-eh.right+eu.right},eE=l.modifiersData.offset;if(ea===W&&eE){var ev=eE[j];Object.keys(eT).forEach(function(l){var u=[R,O].indexOf(l)>=0?1:-1,p=["top",O].indexOf(l)>=0?"y":"x";eT[l]+=ev[p]*u})}return eT}function within(l,u,p){return C(l,x(u,p))}function getSideOffsets(l,u,p){return void 0===p&&(p={x:0,y:0}),{top:l.top-u.height-p.y,right:l.right-u.width+p.x,bottom:l.bottom-u.height+p.y,left:l.left-u.width-p.x}}function isAnySideFullyClipped(l){return["top",R,O,L].some(function(u){return l[u]>=0})}var eu=(T=void 0===(g=(h={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(l){var u=l.state,p=l.instance,h=l.options,g=h.scroll,T=void 0===g||g,E=h.resize,v=void 0===E||E,C=getWindow(u.elements.popper),x=[].concat(u.scrollParents.reference,u.scrollParents.popper);return T&&x.forEach(function(l){l.addEventListener("scroll",p.update,er)}),v&&C.addEventListener("resize",p.update,er),function(){T&&x.forEach(function(l){l.removeEventListener("scroll",p.update,er)}),v&&C.removeEventListener("resize",p.update,er)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(l){var u=l.state,p=l.name;u.modifiersData[p]=computeOffsets({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(l){var u=l.state,p=l.options,h=p.gpuAcceleration,g=p.adaptive,T=p.roundOffsets,E=void 0===T||T,v={placement:getBasePlacement(u.placement),variation:getVariation(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:void 0===h||h,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,mapToStyles(Object.assign({},v,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:void 0===g||g,roundOffsets:E})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,mapToStyles(Object.assign({},v,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:E})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}},es,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(l){var u=l.state,p=l.options,h=l.name,g=p.offset,T=void 0===g?[0,0]:g,E=Y.reduce(function(l,p){var h,g,E,v,C,x;return l[p]=(h=u.rects,E=[L,"top"].indexOf(g=getBasePlacement(p))>=0?-1:1,C=(v="function"==typeof T?T(Object.assign({},h,{placement:p})):T)[0],x=v[1],C=C||0,x=(x||0)*E,[L,R].indexOf(g)>=0?{x:x,y:C}:{x:C,y:x}),l},{}),v=E[u.placement],C=v.x,x=v.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=C,u.modifiersData.popperOffsets.y+=x),u.modifiersData[h]=E}},{name:"flip",enabled:!0,phase:"main",fn:function(l){var u=l.state,p=l.options,h=l.name;if(!u.modifiersData[h]._skip){for(var g=p.mainAxis,T=void 0===g||g,E=p.altAxis,v=void 0===E||E,C=p.fallbackPlacements,x=p.padding,M=p.boundary,G=p.rootBoundary,W=p.altBoundary,X=p.flipVariations,Z=void 0===X||X,er=p.allowedAutoPlacements,ea=u.options.placement,es=getBasePlacement(ea)===ea,el=C||(es||!Z?[getOppositePlacement(ea)]:function(l){if(getBasePlacement(l)===H)return[];var u=getOppositePlacement(l);return[getOppositeVariationPlacement(l),u,getOppositeVariationPlacement(u)]}(ea)),ec=[ea].concat(el).reduce(function(l,p){var h,g,T,E,v,C,O,R,L,j,W,X;return l.concat(getBasePlacement(p)===H?(g=(h={placement:p,boundary:M,rootBoundary:G,padding:x,flipVariations:Z,allowedAutoPlacements:er}).placement,T=h.boundary,E=h.rootBoundary,v=h.padding,C=h.flipVariations,R=void 0===(O=h.allowedAutoPlacements)?Y:O,0===(W=(j=(L=getVariation(g))?C?q:q.filter(function(l){return getVariation(l)===L}):U).filter(function(l){return R.indexOf(l)>=0})).length&&(W=j),Object.keys(X=W.reduce(function(l,p){return l[p]=detectOverflow(u,{placement:p,boundary:T,rootBoundary:E,padding:v})[getBasePlacement(p)],l},{})).sort(function(l,u){return X[l]-X[u]})):p)},[]),eu=u.rects.reference,ed=u.rects.popper,ep=new Map,eh=!0,ef=ec[0],eg=0;eg<ec.length;eg++){var ey=ec[eg],eb=getBasePlacement(ey),eT=getVariation(ey)===j,eE=["top",O].indexOf(eb)>=0,ev=eE?"width":"height",ek=detectOverflow(u,{placement:ey,boundary:M,rootBoundary:G,altBoundary:W,padding:x}),eS=eE?eT?R:L:eT?O:"top";eu[ev]>ed[ev]&&(eS=getOppositePlacement(eS));var eC=getOppositePlacement(eS),ew=[];if(T&&ew.push(ek[eb]<=0),v&&ew.push(ek[eS]<=0,ek[eC]<=0),ew.every(function(l){return l})){ef=ey,eh=!1;break}ep.set(ey,ew)}if(eh)for(var ex=Z?3:1,_loop=function(l){var u=ec.find(function(u){var p=ep.get(u);if(p)return p.slice(0,l).every(function(l){return l})});if(u)return ef=u,"break"},eA=ex;eA>0&&"break"!==_loop(eA);eA--);u.placement!==ef&&(u.modifiersData[h]._skip=!0,u.placement=ef,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(l){var u=l.state,p=l.options,h=l.name,g=p.mainAxis,T=p.altAxis,E=p.boundary,v=p.rootBoundary,M=p.altBoundary,H=p.padding,U=p.tether,G=void 0===U||U,W=p.tetherOffset,q=void 0===W?0:W,Y=detectOverflow(u,{boundary:E,rootBoundary:v,padding:H,altBoundary:M}),X=getBasePlacement(u.placement),Z=getVariation(u.placement),er=!Z,ea=getMainAxisFromPlacement(X),es="x"===ea?"y":"x",el=u.modifiersData.popperOffsets,ec=u.rects.reference,eu=u.rects.popper,ed="function"==typeof q?q(Object.assign({},u.rects,{placement:u.placement})):q,ep="number"==typeof ed?{mainAxis:ed,altAxis:ed}:Object.assign({mainAxis:0,altAxis:0},ed),eh=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,ef={x:0,y:0};if(el){if(void 0===g||g){var eg,ey="y"===ea?"top":L,eb="y"===ea?O:R,eT="y"===ea?"height":"width",eE=el[ea],ev=eE+Y[ey],ek=eE-Y[eb],eS=G?-eu[eT]/2:0,eC=Z===j?ec[eT]:eu[eT],ew=Z===j?-eu[eT]:-ec[eT],ex=u.elements.arrow,eA=G&&ex?getLayoutRect(ex):{width:0,height:0},e_=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:getFreshSideObject(),eN=e_[ey],eM=e_[eb],eO=within(0,ec[eT],eA[eT]),eI=er?ec[eT]/2-eS-eO-eN-ep.mainAxis:eC-eO-eN-ep.mainAxis,eR=er?-ec[eT]/2+eS+eO+eM+ep.mainAxis:ew+eO+eM+ep.mainAxis,eL=u.elements.arrow&&getOffsetParent(u.elements.arrow),eP=eL?"y"===ea?eL.clientTop||0:eL.clientLeft||0:0,eD=null!=(eg=null==eh?void 0:eh[ea])?eg:0,eB=eE+eI-eD-eP,eH=eE+eR-eD,eF=within(G?x(ev,eB):ev,eE,G?C(ek,eH):ek);el[ea]=eF,ef[ea]=eF-eE}if(void 0!==T&&T){var eU,ej,ez="x"===ea?"top":L,eV="x"===ea?O:R,e$=el[es],eG="y"===es?"height":"width",eK=e$+Y[ez],eW=e$-Y[eV],eq=-1!==["top",L].indexOf(X),eY=null!=(ej=null==eh?void 0:eh[es])?ej:0,eQ=eq?eK:e$-ec[eG]-eu[eG]-eY+ep.altAxis,eJ=eq?e$+ec[eG]+eu[eG]-eY-ep.altAxis:eW,eX=G&&eq?(eU=within(eQ,e$,eJ))>eJ?eJ:eU:within(G?eQ:eK,e$,G?eJ:eW);el[es]=eX,ef[es]=eX-e$}u.modifiersData[h]=ef}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(l){var u,p,h=l.state,g=l.name,T=l.options,E=h.elements.arrow,v=h.modifiersData.popperOffsets,C=getBasePlacement(h.placement),x=getMainAxisFromPlacement(C),M=[L,R].indexOf(C)>=0?"height":"width";if(E&&v){var H=mergePaddingObject("number"!=typeof(u="function"==typeof(u=T.padding)?u(Object.assign({},h.rects,{placement:h.placement})):u)?u:expandToHashMap(u,U)),j=getLayoutRect(E),G="y"===x?"top":L,W="y"===x?O:R,q=h.rects.reference[M]+h.rects.reference[x]-v[x]-h.rects.popper[M],Y=v[x]-h.rects.reference[x],X=getOffsetParent(E),Z=X?"y"===x?X.clientHeight||0:X.clientWidth||0:0,er=H[G],ea=Z-j[M]-H[W],es=Z/2-j[M]/2+(q/2-Y/2),el=within(er,es,ea);h.modifiersData[g]=((p={})[x]=el,p.centerOffset=el-es,p)}},effect:function(l){var u=l.state,p=l.options.element,h=void 0===p?"[data-popper-arrow]":p;null!=h&&("string"!=typeof h||(h=u.elements.popper.querySelector(h)))&&contains(u.elements.popper,h)&&(u.elements.arrow=h)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(l){var u=l.state,p=l.name,h=u.rects.reference,g=u.rects.popper,T=u.modifiersData.preventOverflow,E=detectOverflow(u,{elementContext:"reference"}),v=detectOverflow(u,{altBoundary:!0}),C=getSideOffsets(E,h),x=getSideOffsets(v,g,T),M=isAnySideFullyClipped(C),O=isAnySideFullyClipped(x);u.modifiersData[p]={referenceClippingOffsets:C,popperEscapeOffsets:x,isReferenceHidden:M,hasPopperEscaped:O},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":M,"data-popper-escaped":O})}}]}).defaultModifiers)?[]:g,v=void 0===(E=h.defaultOptions)?Z:E,function(l,u,p){void 0===p&&(p=v);var h,g={placement:"bottom",orderedModifiers:[],options:Object.assign({},Z,v),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},E=[],C=!1,x={state:g,setOptions:function(p){var h,C,M,O,R,L="function"==typeof p?p(g.options):p;cleanupModifierEffects(),g.options=Object.assign({},v,g.options,L),g.scrollParents={reference:isElement(l)?listScrollParents(l):l.contextElement?listScrollParents(l.contextElement):[],popper:listScrollParents(u)};var H=(C=Object.keys(h=[].concat(T,g.options.modifiers).reduce(function(l,u){var p=l[u.name];return l[u.name]=p?Object.assign({},p,u,{options:Object.assign({},p.options,u.options),data:Object.assign({},p.data,u.data)}):u,l},{})).map(function(l){return h[l]}),M=new Map,O=new Set,R=[],C.forEach(function(l){M.set(l.name,l)}),C.forEach(function(l){O.has(l.name)||function sort(l){O.add(l.name),[].concat(l.requires||[],l.requiresIfExists||[]).forEach(function(l){if(!O.has(l)){var u=M.get(l);u&&sort(u)}}),R.push(l)}(l)}),X.reduce(function(l,u){return l.concat(R.filter(function(l){return l.phase===u}))},[]));return g.orderedModifiers=H.filter(function(l){return l.enabled}),g.orderedModifiers.forEach(function(l){var u=l.name,p=l.options,h=l.effect;if("function"==typeof h){var T=h({state:g,name:u,instance:x,options:void 0===p?{}:p});E.push(T||function(){})}}),x.update()},forceUpdate:function(){if(!C){var l,u,p,h,T,E,v,O,R,L,H,U,j=g.elements,G=j.reference,W=j.popper;if(areValidElements(G,W)){g.rects={reference:(u=getOffsetParent(W),p="fixed"===g.options.strategy,h=isHTMLElement(u),O=isHTMLElement(u)&&(E=M((T=u.getBoundingClientRect()).width)/u.offsetWidth||1,v=M(T.height)/u.offsetHeight||1,1!==E||1!==v),R=getDocumentElement(u),L=getBoundingClientRect(G,O,p),H={scrollLeft:0,scrollTop:0},U={x:0,y:0},(h||!h&&!p)&&(("body"!==getNodeName(u)||isScrollParent(R))&&(H=(l=u)!==getWindow(l)&&isHTMLElement(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:getWindowScroll(l)),isHTMLElement(u)?(U=getBoundingClientRect(u,!0),U.x+=u.clientLeft,U.y+=u.clientTop):R&&(U.x=getWindowScrollBarX(R))),{x:L.left+H.scrollLeft-U.x,y:L.top+H.scrollTop-U.y,width:L.width,height:L.height}),popper:getLayoutRect(W)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(l){return g.modifiersData[l.name]=Object.assign({},l.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(!0===g.reset){g.reset=!1,q=-1;continue}var Y=g.orderedModifiers[q],X=Y.fn,Z=Y.options,er=void 0===Z?{}:Z,ea=Y.name;"function"==typeof X&&(g=X({state:g,options:er,name:ea,instance:x})||g)}}}},update:function(){return h||(h=new Promise(function(l){Promise.resolve().then(function(){h=void 0,l(new Promise(function(l){x.forceUpdate(),l(g)}))})})),h},destroy:function(){cleanupModifierEffects(),C=!0}};if(!areValidElements(l,u))return x;function cleanupModifierEffects(){E.forEach(function(l){return l()}),E=[]}return x.setOptions(p).then(function(l){!C&&p.onFirstUpdate&&p.onFirstUpdate(l)}),x}),ed="tippy-content",ep="tippy-arrow",eh="tippy-svg-arrow",ef={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function getValueAtIndexOrReturn(l,u,p){if(Array.isArray(l)){var h=l[u];return null==h?Array.isArray(p)?p[u]:p:h}return l}function isType(l,u){var p=({}).toString.call(l);return 0===p.indexOf("[object")&&p.indexOf(u+"]")>-1}function invokeWithArgsOrReturn(l,u){return"function"==typeof l?l.apply(void 0,u):l}function tippy_esm_debounce(l,u){var p;return 0===u?l:function(h){clearTimeout(p),p=setTimeout(function(){l(h)},u)}}function normalizeToArray(l){return[].concat(l)}function pushIfUnique(l,u){-1===l.indexOf(u)&&l.push(u)}function arrayFrom(l){return[].slice.call(l)}function removeUndefinedProps(l){return Object.keys(l).reduce(function(u,p){return void 0!==l[p]&&(u[p]=l[p]),u},{})}function div(){return document.createElement("div")}function tippy_esm_isElement(l){return["Element","Fragment"].some(function(u){return isType(l,u)})}function setTransitionDuration(l,u){l.forEach(function(l){l&&(l.style.transitionDuration=u+"ms")})}function setVisibilityState(l,u){l.forEach(function(l){l&&l.setAttribute("data-state",u)})}function updateTransitionEndListener(l,u,p){var h=u+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(u){l[h](u,p)})}function actualContains(l,u){for(var p,h=u;h;){if(l.contains(h))return!0;h=null==h.getRootNode?void 0:null==(p=h.getRootNode())?void 0:p.host}return!1}var eg={isTouch:!1},ey=0;function onDocumentTouchStart(){!eg.isTouch&&(eg.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var l=performance.now();l-ey<20&&(eg.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),ey=l}function onWindowBlur(){var l=document.activeElement;if(l&&l._tippy&&l._tippy.reference===l){var u=l._tippy;l.blur&&!u.state.isVisible&&l.blur()}}var eb=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,eT=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),eE=Object.keys(eT);function getExtendedPassedProps(l){var u=(l.plugins||[]).reduce(function(u,p){var h,g=p.name,T=p.defaultValue;return g&&(u[g]=void 0!==l[g]?l[g]:null!=(h=eT[g])?h:T),u},{});return Object.assign({},l,u)}function evaluateProps(l,u){var p,h=Object.assign({},u,{content:invokeWithArgsOrReturn(u.content,[l])},u.ignoreAttributes?{}:((p=u.plugins)?Object.keys(getExtendedPassedProps(Object.assign({},eT,{plugins:p}))):eE).reduce(function(u,p){var h=(l.getAttribute("data-tippy-"+p)||"").trim();if(!h)return u;if("content"===p)u[p]=h;else try{u[p]=JSON.parse(h)}catch(l){u[p]=h}return u},{}));return h.aria=Object.assign({},eT.aria,h.aria),h.aria={expanded:"auto"===h.aria.expanded?u.interactive:h.aria.expanded,content:"auto"===h.aria.content?u.interactive?null:"describedby":h.aria.content},h}function dangerouslySetInnerHTML(l,u){l.innerHTML=u}function createArrowElement(l){var u=div();return!0===l?u.className=ep:(u.className=eh,tippy_esm_isElement(l)?u.appendChild(l):dangerouslySetInnerHTML(u,l)),u}function setContent(l,u){tippy_esm_isElement(u.content)?(dangerouslySetInnerHTML(l,""),l.appendChild(u.content)):"function"!=typeof u.content&&(u.allowHTML?dangerouslySetInnerHTML(l,u.content):l.textContent=u.content)}function getChildren(l){var u=l.firstElementChild,p=arrayFrom(u.children);return{box:u,content:p.find(function(l){return l.classList.contains(ed)}),arrow:p.find(function(l){return l.classList.contains(ep)||l.classList.contains(eh)}),backdrop:p.find(function(l){return l.classList.contains("tippy-backdrop")})}}function render(l){var u=div(),p=div();p.className="tippy-box",p.setAttribute("data-state","hidden"),p.setAttribute("tabindex","-1");var h=div();function onUpdate(p,h){var g=getChildren(u),T=g.box,E=g.content,v=g.arrow;h.theme?T.setAttribute("data-theme",h.theme):T.removeAttribute("data-theme"),"string"==typeof h.animation?T.setAttribute("data-animation",h.animation):T.removeAttribute("data-animation"),h.inertia?T.setAttribute("data-inertia",""):T.removeAttribute("data-inertia"),T.style.maxWidth="number"==typeof h.maxWidth?h.maxWidth+"px":h.maxWidth,h.role?T.setAttribute("role",h.role):T.removeAttribute("role"),(p.content!==h.content||p.allowHTML!==h.allowHTML)&&setContent(E,l.props),h.arrow?v?p.arrow!==h.arrow&&(T.removeChild(v),T.appendChild(createArrowElement(h.arrow))):T.appendChild(createArrowElement(h.arrow)):v&&T.removeChild(v)}return h.className=ed,h.setAttribute("data-state","hidden"),setContent(h,l.props),u.appendChild(p),p.appendChild(h),onUpdate(l.props,l.props),{popper:u,onUpdate:onUpdate}}render.$$tippy=!0;var ev=1,ek=[],eS=[];function tippy(l,u){void 0===u&&(u={});var p=eT.plugins.concat(u.plugins||[]);document.addEventListener("touchstart",onDocumentTouchStart,ef),window.addEventListener("blur",onWindowBlur);var h=Object.assign({},u,{plugins:p}),g=(tippy_esm_isElement(l)?[l]:isType(l,"NodeList")?arrayFrom(l):Array.isArray(l)?l:arrayFrom(document.querySelectorAll(l))).reduce(function(l,u){var p=u&&function(l,u){var p,h,g,T,E,v,C,x,M=evaluateProps(l,Object.assign({},eT,getExtendedPassedProps(removeUndefinedProps(u)))),O=!1,R=!1,L=!1,H=!1,U=[],j=tippy_esm_debounce(onMouseMove,M.interactiveDebounce),G=ev++,W=(p=M.plugins).filter(function(l,u){return p.indexOf(l)===u}),q={id:G,reference:l,popper:div(),popperInstance:null,props:M,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:W,clearDelayTimeouts:function(){clearTimeout(h),clearTimeout(g),cancelAnimationFrame(T)},setProps:function(u){if(!q.state.isDestroyed){invokeHook("onBeforeUpdate",[q,u]),removeListeners();var p=q.props,h=evaluateProps(l,Object.assign({},p,removeUndefinedProps(u),{ignoreAttributes:!0}));q.props=h,addListeners(),p.interactiveDebounce!==h.interactiveDebounce&&(cleanupInteractiveMouseListeners(),j=tippy_esm_debounce(onMouseMove,h.interactiveDebounce)),p.triggerTarget&&!h.triggerTarget?normalizeToArray(p.triggerTarget).forEach(function(l){l.removeAttribute("aria-expanded")}):h.triggerTarget&&l.removeAttribute("aria-expanded"),handleAriaExpandedAttribute(),handleStyles(),Z&&Z(p,h),q.popperInstance&&(createPopperInstance(),getNestedPopperTree().forEach(function(l){requestAnimationFrame(l._tippy.popperInstance.forceUpdate)})),invokeHook("onAfterUpdate",[q,u])}},setContent:function(l){q.setProps({content:l})},show:function(){var u,p,h,g=q.state.isVisible,T=q.state.isDestroyed,E=!q.state.isEnabled,v=eg.isTouch&&!q.props.touch,M=getValueAtIndexOrReturn(q.props.duration,0,eT.duration);if(!(g||T||E||v||(x||l).hasAttribute("disabled"))&&(invokeHook("onShow",[q],!1),!1!==q.props.onShow(q))){if(q.state.isVisible=!0,getIsDefaultRenderFn()&&(X.style.visibility="visible"),handleStyles(),addDocumentPress(),q.state.isMounted||(X.style.transition="none"),getIsDefaultRenderFn()){var O=getChildren(X);setTransitionDuration([O.box,O.content],0)}C=function(){var l;if(q.state.isVisible&&!H){if(H=!0,X.offsetHeight,X.style.transition=q.props.moveTransition,getIsDefaultRenderFn()&&q.props.animation){var u=getChildren(X),p=u.box,h=u.content;setTransitionDuration([p,h],M),setVisibilityState([p,h],"visible")}handleAriaContentAttribute(),handleAriaExpandedAttribute(),pushIfUnique(eS,q),null==(l=q.popperInstance)||l.forceUpdate(),invokeHook("onMount",[q]),q.props.animation&&getIsDefaultRenderFn()&&onTransitionEnd(M,function(){q.state.isShown=!0,invokeHook("onShown",[q])})}},p=q.props.appendTo,h=x||l,(u=q.props.interactive&&p===TIPPY_DEFAULT_APPEND_TO||"parent"===p?h.parentNode:invokeWithArgsOrReturn(p,[h])).contains(X)||u.appendChild(X),q.state.isMounted=!0,createPopperInstance()}},hide:function(){var l,u=!q.state.isVisible,p=q.state.isDestroyed,h=!q.state.isEnabled,g=getValueAtIndexOrReturn(q.props.duration,1,eT.duration);if(!u&&!p&&!h&&(invokeHook("onHide",[q],!1),!1!==q.props.onHide(q))){if(q.state.isVisible=!1,q.state.isShown=!1,H=!1,O=!1,getIsDefaultRenderFn()&&(X.style.visibility="hidden"),cleanupInteractiveMouseListeners(),removeDocumentPress(),handleStyles(!0),getIsDefaultRenderFn()){var T=getChildren(X),E=T.box,v=T.content;q.props.animation&&(setTransitionDuration([E,v],g),setVisibilityState([E,v],"hidden"))}(handleAriaContentAttribute(),handleAriaExpandedAttribute(),q.props.animation)?getIsDefaultRenderFn()&&(l=q.unmount,onTransitionEnd(g,function(){!q.state.isVisible&&X.parentNode&&X.parentNode.contains(X)&&l()})):q.unmount()}},hideWithInteractivity:function(l){getDocument().addEventListener("mousemove",j),pushIfUnique(ek,j),j(l)},enable:function(){q.state.isEnabled=!0},disable:function(){q.hide(),q.state.isEnabled=!1},unmount:function(){q.state.isVisible&&q.hide(),q.state.isMounted&&(destroyPopperInstance(),getNestedPopperTree().forEach(function(l){l._tippy.unmount()}),X.parentNode&&X.parentNode.removeChild(X),eS=eS.filter(function(l){return l!==q}),q.state.isMounted=!1,invokeHook("onHidden",[q]))},destroy:function(){q.state.isDestroyed||(q.clearDelayTimeouts(),q.unmount(),removeListeners(),delete l._tippy,q.state.isDestroyed=!0,invokeHook("onDestroy",[q]))}};if(!M.render)return q;var Y=M.render(q),X=Y.popper,Z=Y.onUpdate;X.setAttribute("data-tippy-root",""),X.id="tippy-"+q.id,q.popper=X,l._tippy=q,X._tippy=q;var er=W.map(function(l){return l.fn(q)}),ea=l.hasAttribute("aria-expanded");return addListeners(),handleAriaExpandedAttribute(),handleStyles(),invokeHook("onCreate",[q]),M.showOnCreate&&scheduleShow(),X.addEventListener("mouseenter",function(){q.props.interactive&&q.state.isVisible&&q.clearDelayTimeouts()}),X.addEventListener("mouseleave",function(){q.props.interactive&&q.props.trigger.indexOf("mouseenter")>=0&&getDocument().addEventListener("mousemove",j)}),q;function getNormalizedTouchSettings(){var l=q.props.touch;return Array.isArray(l)?l:[l,0]}function getIsCustomTouchBehavior(){return"hold"===getNormalizedTouchSettings()[0]}function getIsDefaultRenderFn(){var l;return!!(null!=(l=q.props.render)&&l.$$tippy)}function getDocument(){var u,p,h=(x||l).parentNode;return h&&null!=(p=normalizeToArray(h)[0])&&null!=(u=p.ownerDocument)&&u.body?p.ownerDocument:document}function getDelay(l){return q.state.isMounted&&!q.state.isVisible||eg.isTouch||E&&"focus"===E.type?0:getValueAtIndexOrReturn(q.props.delay,l?0:1,eT.delay)}function handleStyles(l){void 0===l&&(l=!1),X.style.pointerEvents=q.props.interactive&&!l?"":"none",X.style.zIndex=""+q.props.zIndex}function invokeHook(l,u,p){if(void 0===p&&(p=!0),er.forEach(function(p){p[l]&&p[l].apply(p,u)}),p){var h;(h=q.props)[l].apply(h,u)}}function handleAriaContentAttribute(){var u=q.props.aria;if(u.content){var p="aria-"+u.content,h=X.id;normalizeToArray(q.props.triggerTarget||l).forEach(function(l){var u=l.getAttribute(p);if(q.state.isVisible)l.setAttribute(p,u?u+" "+h:h);else{var g=u&&u.replace(h,"").trim();g?l.setAttribute(p,g):l.removeAttribute(p)}})}}function handleAriaExpandedAttribute(){!ea&&q.props.aria.expanded&&normalizeToArray(q.props.triggerTarget||l).forEach(function(u){q.props.interactive?u.setAttribute("aria-expanded",q.state.isVisible&&u===(x||l)?"true":"false"):u.removeAttribute("aria-expanded")})}function cleanupInteractiveMouseListeners(){getDocument().removeEventListener("mousemove",j),ek=ek.filter(function(l){return l!==j})}function onDocumentPress(u){if(!eg.isTouch||!L&&"mousedown"!==u.type){var p=u.composedPath&&u.composedPath()[0]||u.target;if(!(q.props.interactive&&actualContains(X,p))){if(normalizeToArray(q.props.triggerTarget||l).some(function(l){return actualContains(l,p)})){if(eg.isTouch||q.state.isVisible&&q.props.trigger.indexOf("click")>=0)return}else invokeHook("onClickOutside",[q,u]);!0!==q.props.hideOnClick||(q.clearDelayTimeouts(),q.hide(),R=!0,setTimeout(function(){R=!1}),q.state.isMounted||removeDocumentPress())}}}function onTouchMove(){L=!0}function onTouchStart(){L=!1}function addDocumentPress(){var l=getDocument();l.addEventListener("mousedown",onDocumentPress,!0),l.addEventListener("touchend",onDocumentPress,ef),l.addEventListener("touchstart",onTouchStart,ef),l.addEventListener("touchmove",onTouchMove,ef)}function removeDocumentPress(){var l=getDocument();l.removeEventListener("mousedown",onDocumentPress,!0),l.removeEventListener("touchend",onDocumentPress,ef),l.removeEventListener("touchstart",onTouchStart,ef),l.removeEventListener("touchmove",onTouchMove,ef)}function onTransitionEnd(l,u){var p=getChildren(X).box;function listener(l){l.target===p&&(updateTransitionEndListener(p,"remove",listener),u())}if(0===l)return u();updateTransitionEndListener(p,"remove",v),updateTransitionEndListener(p,"add",listener),v=listener}function on(u,p,h){void 0===h&&(h=!1),normalizeToArray(q.props.triggerTarget||l).forEach(function(l){l.addEventListener(u,p,h),U.push({node:l,eventType:u,handler:p,options:h})})}function addListeners(){getIsCustomTouchBehavior()&&(on("touchstart",onTrigger,{passive:!0}),on("touchend",onMouseLeave,{passive:!0})),q.props.trigger.split(/\s+/).filter(Boolean).forEach(function(l){if("manual"!==l)switch(on(l,onTrigger),l){case"mouseenter":on("mouseleave",onMouseLeave);break;case"focus":on(eb?"focusout":"blur",onBlurOrFocusOut);break;case"focusin":on("focusout",onBlurOrFocusOut)}})}function removeListeners(){U.forEach(function(l){var u=l.node,p=l.eventType,h=l.handler,g=l.options;u.removeEventListener(p,h,g)}),U=[]}function onTrigger(l){var u,p=!1;if(!(!q.state.isEnabled||isEventListenerStopped(l))&&!R){var h=(null==(u=E)?void 0:u.type)==="focus";E=l,x=l.currentTarget,handleAriaExpandedAttribute(),!q.state.isVisible&&isType(l,"MouseEvent")&&ek.forEach(function(u){return u(l)}),"click"===l.type&&(0>q.props.trigger.indexOf("mouseenter")||O)&&!1!==q.props.hideOnClick&&q.state.isVisible?p=!0:scheduleShow(l),"click"===l.type&&(O=!p),p&&!h&&scheduleHide(l)}}function onMouseMove(u){var p,h,g,T=u.target,E=(x||l).contains(T)||X.contains(T);("mousemove"!==u.type||!E)&&(p=getNestedPopperTree().concat(X).map(function(l){var u,p=null==(u=l._tippy.popperInstance)?void 0:u.state;return p?{popperRect:l.getBoundingClientRect(),popperState:p,props:M}:null}).filter(Boolean),h=u.clientX,g=u.clientY,p.every(function(l){var u=l.popperRect,p=l.popperState,T=l.props.interactiveBorder,E=p.placement.split("-")[0],v=p.modifiersData.offset;if(!v)return!0;var C="bottom"===E?v.top.y:0,x="top"===E?v.bottom.y:0,M="right"===E?v.left.x:0,O="left"===E?v.right.x:0,R=u.top-g+C>T,L=g-u.bottom-x>T,H=u.left-h+M>T,U=h-u.right-O>T;return R||L||H||U})&&(cleanupInteractiveMouseListeners(),scheduleHide(u)))}function onMouseLeave(l){if(!(isEventListenerStopped(l)||q.props.trigger.indexOf("click")>=0&&O)){if(q.props.interactive){q.hideWithInteractivity(l);return}scheduleHide(l)}}function onBlurOrFocusOut(u){0>q.props.trigger.indexOf("focusin")&&u.target!==(x||l)||q.props.interactive&&u.relatedTarget&&X.contains(u.relatedTarget)||scheduleHide(u)}function isEventListenerStopped(l){return!!eg.isTouch&&getIsCustomTouchBehavior()!==l.type.indexOf("touch")>=0}function createPopperInstance(){destroyPopperInstance();var u=q.props,p=u.popperOptions,h=u.placement,g=u.offset,T=u.getReferenceClientRect,E=u.moveTransition,v=getIsDefaultRenderFn()?getChildren(X).arrow:null,M=T?{getBoundingClientRect:T,contextElement:T.contextElement||x||l}:l,O=[{name:"offset",options:{offset:g}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!E}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(l){var u=l.state;if(getIsDefaultRenderFn()){var p=getChildren(X).box;["placement","reference-hidden","escaped"].forEach(function(l){"placement"===l?p.setAttribute("data-placement",u.placement):u.attributes.popper["data-popper-"+l]?p.setAttribute("data-"+l,""):p.removeAttribute("data-"+l)}),u.attributes.popper={}}}}];getIsDefaultRenderFn()&&v&&O.push({name:"arrow",options:{element:v,padding:3}}),O.push.apply(O,(null==p?void 0:p.modifiers)||[]),q.popperInstance=eu(M,X,Object.assign({},p,{placement:h,onFirstUpdate:C,modifiers:O}))}function destroyPopperInstance(){q.popperInstance&&(q.popperInstance.destroy(),q.popperInstance=null)}function getNestedPopperTree(){return arrayFrom(X.querySelectorAll("[data-tippy-root]"))}function scheduleShow(l){q.clearDelayTimeouts(),l&&invokeHook("onTrigger",[q,l]),addDocumentPress();var u=getDelay(!0),p=getNormalizedTouchSettings(),g=p[0],T=p[1];eg.isTouch&&"hold"===g&&T&&(u=T),u?h=setTimeout(function(){q.show()},u):q.show()}function scheduleHide(l){if(q.clearDelayTimeouts(),invokeHook("onUntrigger",[q,l]),!q.state.isVisible){removeDocumentPress();return}if(!(q.props.trigger.indexOf("mouseenter")>=0&&q.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(l.type)>=0)||!O){var u=getDelay(!1);u?g=setTimeout(function(){q.state.isVisible&&q.hide()},u):T=requestAnimationFrame(function(){q.hide()})}}}(u,h);return p&&l.push(p),l},[]);return tippy_esm_isElement(l)?g[0]:g}tippy.defaultProps=eT,tippy.setDefaultProps=function(l){Object.keys(l).forEach(function(u){eT[u]=l[u]})},tippy.currentInput=eg,Object.assign({},es,{effect:function(l){var u=l.state,p={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(u.elements.popper.style,p.popper),u.styles=p,u.elements.arrow&&Object.assign(u.elements.arrow.style,p.arrow)}}),tippy.setDefaultProps({render:render});var eC=tippy},43425:function(l,u){"use strict";u.byteLength=function(l){var u=getLens(l),p=u[0],h=u[1];return(p+h)*3/4-h},u.toByteArray=function(l){var u,p,T=getLens(l),E=T[0],v=T[1],C=new g((E+v)*3/4-v),x=0,M=v>0?E-4:E;for(p=0;p<M;p+=4)u=h[l.charCodeAt(p)]<<18|h[l.charCodeAt(p+1)]<<12|h[l.charCodeAt(p+2)]<<6|h[l.charCodeAt(p+3)],C[x++]=u>>16&255,C[x++]=u>>8&255,C[x++]=255&u;return 2===v&&(u=h[l.charCodeAt(p)]<<2|h[l.charCodeAt(p+1)]>>4,C[x++]=255&u),1===v&&(u=h[l.charCodeAt(p)]<<10|h[l.charCodeAt(p+1)]<<4|h[l.charCodeAt(p+2)]>>2,C[x++]=u>>8&255,C[x++]=255&u),C},u.fromByteArray=function(l){for(var u,h=l.length,g=h%3,T=[],E=0,v=h-g;E<v;E+=16383)T.push(function(l,u,h){for(var g,T=[],E=u;E<h;E+=3)T.push(p[(g=(l[E]<<16&16711680)+(l[E+1]<<8&65280)+(255&l[E+2]))>>18&63]+p[g>>12&63]+p[g>>6&63]+p[63&g]);return T.join("")}(l,E,E+16383>v?v:E+16383));return 1===g?T.push(p[(u=l[h-1])>>2]+p[u<<4&63]+"=="):2===g&&T.push(p[(u=(l[h-2]<<8)+l[h-1])>>10]+p[u>>4&63]+p[u<<2&63]+"="),T.join("")};for(var p=[],h=[],g="undefined"!=typeof Uint8Array?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,v=T.length;E<v;++E)p[E]=T[E],h[T.charCodeAt(E)]=E;function getLens(l){var u=l.length;if(u%4>0)throw Error("Invalid string. Length must be a multiple of 4");var p=l.indexOf("=");-1===p&&(p=u);var h=p===u?0:4-p%4;return[p,h]}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},2968:function(l,u,p){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var h=p(43425),g=p(72797),T="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function createBuffer(l){if(l>2147483647)throw RangeError('The value "'+l+'" is invalid for option "size"');var u=new Uint8Array(l);return Object.setPrototypeOf(u,Buffer.prototype),u}function Buffer(l,u,p){if("number"==typeof l){if("string"==typeof u)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(l)}return from(l,u,p)}function from(l,u,p){if("string"==typeof l)return function(l,u){if(("string"!=typeof u||""===u)&&(u="utf8"),!Buffer.isEncoding(u))throw TypeError("Unknown encoding: "+u);var p=0|byteLength(l,u),h=createBuffer(p),g=h.write(l,u);return g!==p&&(h=h.slice(0,g)),h}(l,u);if(ArrayBuffer.isView(l))return function(l){if(isInstance(l,Uint8Array)){var u=new Uint8Array(l);return fromArrayBuffer(u.buffer,u.byteOffset,u.byteLength)}return fromArrayLike(l)}(l);if(null==l)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(isInstance(l,ArrayBuffer)||l&&isInstance(l.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(l,SharedArrayBuffer)||l&&isInstance(l.buffer,SharedArrayBuffer)))return fromArrayBuffer(l,u,p);if("number"==typeof l)throw TypeError('The "value" argument must not be of type number. Received type number');var h=l.valueOf&&l.valueOf();if(null!=h&&h!==l)return Buffer.from(h,u,p);var g=function(l){if(Buffer.isBuffer(l)){var u,p=0|checked(l.length),h=createBuffer(p);return 0===h.length||l.copy(h,0,0,p),h}return void 0!==l.length?"number"!=typeof l.length||(u=l.length)!=u?createBuffer(0):fromArrayLike(l):"Buffer"===l.type&&Array.isArray(l.data)?fromArrayLike(l.data):void 0}(l);if(g)return g;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof l[Symbol.toPrimitive])return Buffer.from(l[Symbol.toPrimitive]("string"),u,p);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}function assertSize(l){if("number"!=typeof l)throw TypeError('"size" argument must be of type number');if(l<0)throw RangeError('The value "'+l+'" is invalid for option "size"')}function allocUnsafe(l){return assertSize(l),createBuffer(l<0?0:0|checked(l))}function fromArrayLike(l){for(var u=l.length<0?0:0|checked(l.length),p=createBuffer(u),h=0;h<u;h+=1)p[h]=255&l[h];return p}function fromArrayBuffer(l,u,p){var h;if(u<0||l.byteLength<u)throw RangeError('"offset" is outside of buffer bounds');if(l.byteLength<u+(p||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(h=void 0===u&&void 0===p?new Uint8Array(l):void 0===p?new Uint8Array(l,u):new Uint8Array(l,u,p),Buffer.prototype),h}function checked(l){if(l>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|l}function byteLength(l,u){if(Buffer.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||isInstance(l,ArrayBuffer))return l.byteLength;if("string"!=typeof l)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);var p=l.length,h=arguments.length>2&&!0===arguments[2];if(!h&&0===p)return 0;for(var g=!1;;)switch(u){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return utf8ToBytes(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return base64ToBytes(l).length;default:if(g)return h?-1:utf8ToBytes(l).length;u=(""+u).toLowerCase(),g=!0}}function slowToString(l,u,p){var g,T,E=!1;if((void 0===u||u<0)&&(u=0),u>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0||(p>>>=0)<=(u>>>=0)))return"";for(l||(l="utf8");;)switch(l){case"hex":return function(l,u,p){var h=l.length;(!u||u<0)&&(u=0),(!p||p<0||p>h)&&(p=h);for(var g="",T=u;T<p;++T)g+=v[l[T]];return g}(this,u,p);case"utf8":case"utf-8":return utf8Slice(this,u,p);case"ascii":return function(l,u,p){var h="";p=Math.min(l.length,p);for(var g=u;g<p;++g)h+=String.fromCharCode(127&l[g]);return h}(this,u,p);case"latin1":case"binary":return function(l,u,p){var h="";p=Math.min(l.length,p);for(var g=u;g<p;++g)h+=String.fromCharCode(l[g]);return h}(this,u,p);case"base64":return g=u,T=p,0===g&&T===this.length?h.fromByteArray(this):h.fromByteArray(this.slice(g,T));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(l,u,p){for(var h=l.slice(u,p),g="",T=0;T<h.length-1;T+=2)g+=String.fromCharCode(h[T]+256*h[T+1]);return g}(this,u,p);default:if(E)throw TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),E=!0}}function swap(l,u,p){var h=l[u];l[u]=l[p],l[p]=h}function bidirectionalIndexOf(l,u,p,h,g){var T;if(0===l.length)return -1;if("string"==typeof p?(h=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),(T=p=+p)!=T&&(p=g?0:l.length-1),p<0&&(p=l.length+p),p>=l.length){if(g)return -1;p=l.length-1}else if(p<0){if(!g)return -1;p=0}if("string"==typeof u&&(u=Buffer.from(u,h)),Buffer.isBuffer(u))return 0===u.length?-1:arrayIndexOf(l,u,p,h,g);if("number"==typeof u)return(u&=255,"function"==typeof Uint8Array.prototype.indexOf)?g?Uint8Array.prototype.indexOf.call(l,u,p):Uint8Array.prototype.lastIndexOf.call(l,u,p):arrayIndexOf(l,[u],p,h,g);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(l,u,p,h,g){var T,E=1,v=l.length,C=u.length;if(void 0!==h&&("ucs2"===(h=String(h).toLowerCase())||"ucs-2"===h||"utf16le"===h||"utf-16le"===h)){if(l.length<2||u.length<2)return -1;E=2,v/=2,C/=2,p/=2}function read(l,u){return 1===E?l[u]:l.readUInt16BE(u*E)}if(g){var x=-1;for(T=p;T<v;T++)if(read(l,T)===read(u,-1===x?0:T-x)){if(-1===x&&(x=T),T-x+1===C)return x*E}else -1!==x&&(T-=T-x),x=-1}else for(p+C>v&&(p=v-C),T=p;T>=0;T--){for(var M=!0,O=0;O<C;O++)if(read(l,T+O)!==read(u,O)){M=!1;break}if(M)return T}return -1}function utf8Slice(l,u,p){p=Math.min(l.length,p);for(var h=[],g=u;g<p;){var T,E,v,C,x=l[g],M=null,O=x>239?4:x>223?3:x>191?2:1;if(g+O<=p)switch(O){case 1:x<128&&(M=x);break;case 2:(192&(T=l[g+1]))==128&&(C=(31&x)<<6|63&T)>127&&(M=C);break;case 3:T=l[g+1],E=l[g+2],(192&T)==128&&(192&E)==128&&(C=(15&x)<<12|(63&T)<<6|63&E)>2047&&(C<55296||C>57343)&&(M=C);break;case 4:T=l[g+1],E=l[g+2],v=l[g+3],(192&T)==128&&(192&E)==128&&(192&v)==128&&(C=(15&x)<<18|(63&T)<<12|(63&E)<<6|63&v)>65535&&C<1114112&&(M=C)}null===M?(M=65533,O=1):M>65535&&(M-=65536,h.push(M>>>10&1023|55296),M=56320|1023&M),h.push(M),g+=O}return function(l){var u=l.length;if(u<=4096)return String.fromCharCode.apply(String,l);for(var p="",h=0;h<u;)p+=String.fromCharCode.apply(String,l.slice(h,h+=4096));return p}(h)}function checkOffset(l,u,p){if(l%1!=0||l<0)throw RangeError("offset is not uint");if(l+u>p)throw RangeError("Trying to access beyond buffer length")}function checkInt(l,u,p,h,g,T){if(!Buffer.isBuffer(l))throw TypeError('"buffer" argument must be a Buffer instance');if(u>g||u<T)throw RangeError('"value" argument is out of bounds');if(p+h>l.length)throw RangeError("Index out of range")}function checkIEEE754(l,u,p,h,g,T){if(p+h>l.length||p<0)throw RangeError("Index out of range")}function writeFloat(l,u,p,h,T){return u=+u,p>>>=0,T||checkIEEE754(l,u,p,4,34028234663852886e22,-34028234663852886e22),g.write(l,u,p,h,23,4),p+4}function writeDouble(l,u,p,h,T){return u=+u,p>>>=0,T||checkIEEE754(l,u,p,8,17976931348623157e292,-17976931348623157e292),g.write(l,u,p,h,52,8),p+8}u.lW=Buffer,u.h2=50,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var l=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(l,u),42===l.foo()}catch(l){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(l,u,p){return from(l,u,p)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(l,u,p){return(assertSize(l),l<=0)?createBuffer(l):void 0!==u?"string"==typeof p?createBuffer(l).fill(u,p):createBuffer(l).fill(u):createBuffer(l)},Buffer.allocUnsafe=function(l){return allocUnsafe(l)},Buffer.allocUnsafeSlow=function(l){return allocUnsafe(l)},Buffer.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==Buffer.prototype},Buffer.compare=function(l,u){if(isInstance(l,Uint8Array)&&(l=Buffer.from(l,l.offset,l.byteLength)),isInstance(u,Uint8Array)&&(u=Buffer.from(u,u.offset,u.byteLength)),!Buffer.isBuffer(l)||!Buffer.isBuffer(u))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===u)return 0;for(var p=l.length,h=u.length,g=0,T=Math.min(p,h);g<T;++g)if(l[g]!==u[g]){p=l[g],h=u[g];break}return p<h?-1:h<p?1:0},Buffer.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(l,u){if(!Array.isArray(l))throw TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return Buffer.alloc(0);if(void 0===u)for(p=0,u=0;p<l.length;++p)u+=l[p].length;var p,h=Buffer.allocUnsafe(u),g=0;for(p=0;p<l.length;++p){var T=l[p];if(isInstance(T,Uint8Array))g+T.length>h.length?Buffer.from(T).copy(h,g):Uint8Array.prototype.set.call(h,T,g);else if(Buffer.isBuffer(T))T.copy(h,g);else throw TypeError('"list" argument must be an Array of Buffers');g+=T.length}return h},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var l=this.length;if(l%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<l;u+=2)swap(this,u,u+1);return this},Buffer.prototype.swap32=function(){var l=this.length;if(l%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<l;u+=4)swap(this,u,u+3),swap(this,u+1,u+2);return this},Buffer.prototype.swap64=function(){var l=this.length;if(l%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<l;u+=8)swap(this,u,u+7),swap(this,u+1,u+6),swap(this,u+2,u+5),swap(this,u+3,u+4);return this},Buffer.prototype.toString=function(){var l=this.length;return 0===l?"":0==arguments.length?utf8Slice(this,0,l):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(l){if(!Buffer.isBuffer(l))throw TypeError("Argument must be a Buffer");return this===l||0===Buffer.compare(this,l)},Buffer.prototype.inspect=function(){var l="",p=u.h2;return l=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(l+=" ... "),"<Buffer "+l+">"},T&&(Buffer.prototype[T]=Buffer.prototype.inspect),Buffer.prototype.compare=function(l,u,p,h,g){if(isInstance(l,Uint8Array)&&(l=Buffer.from(l,l.offset,l.byteLength)),!Buffer.isBuffer(l))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(void 0===u&&(u=0),void 0===p&&(p=l?l.length:0),void 0===h&&(h=0),void 0===g&&(g=this.length),u<0||p>l.length||h<0||g>this.length)throw RangeError("out of range index");if(h>=g&&u>=p)return 0;if(h>=g)return -1;if(u>=p)return 1;if(u>>>=0,p>>>=0,h>>>=0,g>>>=0,this===l)return 0;for(var T=g-h,E=p-u,v=Math.min(T,E),C=this.slice(h,g),x=l.slice(u,p),M=0;M<v;++M)if(C[M]!==x[M]){T=C[M],E=x[M];break}return T<E?-1:E<T?1:0},Buffer.prototype.includes=function(l,u,p){return -1!==this.indexOf(l,u,p)},Buffer.prototype.indexOf=function(l,u,p){return bidirectionalIndexOf(this,l,u,p,!0)},Buffer.prototype.lastIndexOf=function(l,u,p){return bidirectionalIndexOf(this,l,u,p,!1)},Buffer.prototype.write=function(l,u,p,h){if(void 0===u)h="utf8",p=this.length,u=0;else if(void 0===p&&"string"==typeof u)h=u,p=this.length,u=0;else if(isFinite(u))u>>>=0,isFinite(p)?(p>>>=0,void 0===h&&(h="utf8")):(h=p,p=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var g,T,E,v,C,x,M,O,R=this.length-u;if((void 0===p||p>R)&&(p=R),l.length>0&&(p<0||u<0)||u>this.length)throw RangeError("Attempt to write outside buffer bounds");h||(h="utf8");for(var L=!1;;)switch(h){case"hex":return function(l,u,p,h){p=Number(p)||0;var g=l.length-p;h?(h=Number(h))>g&&(h=g):h=g;var T=u.length;h>T/2&&(h=T/2);for(var E=0;E<h;++E){var v=parseInt(u.substr(2*E,2),16);if(v!=v)break;l[p+E]=v}return E}(this,l,u,p);case"utf8":case"utf-8":return g=u,T=p,blitBuffer(utf8ToBytes(l,this.length-g),this,g,T);case"ascii":case"latin1":case"binary":return E=u,v=p,blitBuffer(function(l){for(var u=[],p=0;p<l.length;++p)u.push(255&l.charCodeAt(p));return u}(l),this,E,v);case"base64":return C=u,x=p,blitBuffer(base64ToBytes(l),this,C,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M=u,O=p,blitBuffer(function(l,u){for(var p,h,g=[],T=0;T<l.length&&!((u-=2)<0);++T)h=(p=l.charCodeAt(T))>>8,g.push(p%256),g.push(h);return g}(l,this.length-M),this,M,O);default:if(L)throw TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),L=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(l,u){var p=this.length;l=~~l,u=void 0===u?p:~~u,l<0?(l+=p)<0&&(l=0):l>p&&(l=p),u<0?(u+=p)<0&&(u=0):u>p&&(u=p),u<l&&(u=l);var h=this.subarray(l,u);return Object.setPrototypeOf(h,Buffer.prototype),h},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(l,u,p){l>>>=0,u>>>=0,p||checkOffset(l,u,this.length);for(var h=this[l],g=1,T=0;++T<u&&(g*=256);)h+=this[l+T]*g;return h},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(l,u,p){l>>>=0,u>>>=0,p||checkOffset(l,u,this.length);for(var h=this[l+--u],g=1;u>0&&(g*=256);)h+=this[l+--u]*g;return h},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(l,u){return l>>>=0,u||checkOffset(l,1,this.length),this[l]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(l,u){return l>>>=0,u||checkOffset(l,2,this.length),this[l]|this[l+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(l,u){return l>>>=0,u||checkOffset(l,2,this.length),this[l]<<8|this[l+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(l,u){return l>>>=0,u||checkOffset(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(l,u){return l>>>=0,u||checkOffset(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},Buffer.prototype.readIntLE=function(l,u,p){l>>>=0,u>>>=0,p||checkOffset(l,u,this.length);for(var h=this[l],g=1,T=0;++T<u&&(g*=256);)h+=this[l+T]*g;return h>=(g*=128)&&(h-=Math.pow(2,8*u)),h},Buffer.prototype.readIntBE=function(l,u,p){l>>>=0,u>>>=0,p||checkOffset(l,u,this.length);for(var h=u,g=1,T=this[l+--h];h>0&&(g*=256);)T+=this[l+--h]*g;return T>=(g*=128)&&(T-=Math.pow(2,8*u)),T},Buffer.prototype.readInt8=function(l,u){return(l>>>=0,u||checkOffset(l,1,this.length),128&this[l])?-((255-this[l]+1)*1):this[l]},Buffer.prototype.readInt16LE=function(l,u){l>>>=0,u||checkOffset(l,2,this.length);var p=this[l]|this[l+1]<<8;return 32768&p?4294901760|p:p},Buffer.prototype.readInt16BE=function(l,u){l>>>=0,u||checkOffset(l,2,this.length);var p=this[l+1]|this[l]<<8;return 32768&p?4294901760|p:p},Buffer.prototype.readInt32LE=function(l,u){return l>>>=0,u||checkOffset(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},Buffer.prototype.readInt32BE=function(l,u){return l>>>=0,u||checkOffset(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},Buffer.prototype.readFloatLE=function(l,u){return l>>>=0,u||checkOffset(l,4,this.length),g.read(this,l,!0,23,4)},Buffer.prototype.readFloatBE=function(l,u){return l>>>=0,u||checkOffset(l,4,this.length),g.read(this,l,!1,23,4)},Buffer.prototype.readDoubleLE=function(l,u){return l>>>=0,u||checkOffset(l,8,this.length),g.read(this,l,!0,52,8)},Buffer.prototype.readDoubleBE=function(l,u){return l>>>=0,u||checkOffset(l,8,this.length),g.read(this,l,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(l,u,p,h){if(l=+l,u>>>=0,p>>>=0,!h){var g=Math.pow(2,8*p)-1;checkInt(this,l,u,p,g,0)}var T=1,E=0;for(this[u]=255&l;++E<p&&(T*=256);)this[u+E]=l/T&255;return u+p},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(l,u,p,h){if(l=+l,u>>>=0,p>>>=0,!h){var g=Math.pow(2,8*p)-1;checkInt(this,l,u,p,g,0)}var T=p-1,E=1;for(this[u+T]=255&l;--T>=0&&(E*=256);)this[u+T]=l/E&255;return u+p},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,1,255,0),this[u]=255&l,u+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,2,65535,0),this[u]=255&l,this[u+1]=l>>>8,u+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,2,65535,0),this[u]=l>>>8,this[u+1]=255&l,u+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,4,4294967295,0),this[u+3]=l>>>24,this[u+2]=l>>>16,this[u+1]=l>>>8,this[u]=255&l,u+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,4,4294967295,0),this[u]=l>>>24,this[u+1]=l>>>16,this[u+2]=l>>>8,this[u+3]=255&l,u+4},Buffer.prototype.writeIntLE=function(l,u,p,h){if(l=+l,u>>>=0,!h){var g=Math.pow(2,8*p-1);checkInt(this,l,u,p,g-1,-g)}var T=0,E=1,v=0;for(this[u]=255&l;++T<p&&(E*=256);)l<0&&0===v&&0!==this[u+T-1]&&(v=1),this[u+T]=(l/E>>0)-v&255;return u+p},Buffer.prototype.writeIntBE=function(l,u,p,h){if(l=+l,u>>>=0,!h){var g=Math.pow(2,8*p-1);checkInt(this,l,u,p,g-1,-g)}var T=p-1,E=1,v=0;for(this[u+T]=255&l;--T>=0&&(E*=256);)l<0&&0===v&&0!==this[u+T+1]&&(v=1),this[u+T]=(l/E>>0)-v&255;return u+p},Buffer.prototype.writeInt8=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,1,127,-128),l<0&&(l=255+l+1),this[u]=255&l,u+1},Buffer.prototype.writeInt16LE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,2,32767,-32768),this[u]=255&l,this[u+1]=l>>>8,u+2},Buffer.prototype.writeInt16BE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,2,32767,-32768),this[u]=l>>>8,this[u+1]=255&l,u+2},Buffer.prototype.writeInt32LE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,4,2147483647,-2147483648),this[u]=255&l,this[u+1]=l>>>8,this[u+2]=l>>>16,this[u+3]=l>>>24,u+4},Buffer.prototype.writeInt32BE=function(l,u,p){return l=+l,u>>>=0,p||checkInt(this,l,u,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[u]=l>>>24,this[u+1]=l>>>16,this[u+2]=l>>>8,this[u+3]=255&l,u+4},Buffer.prototype.writeFloatLE=function(l,u,p){return writeFloat(this,l,u,!0,p)},Buffer.prototype.writeFloatBE=function(l,u,p){return writeFloat(this,l,u,!1,p)},Buffer.prototype.writeDoubleLE=function(l,u,p){return writeDouble(this,l,u,!0,p)},Buffer.prototype.writeDoubleBE=function(l,u,p){return writeDouble(this,l,u,!1,p)},Buffer.prototype.copy=function(l,u,p,h){if(!Buffer.isBuffer(l))throw TypeError("argument should be a Buffer");if(p||(p=0),h||0===h||(h=this.length),u>=l.length&&(u=l.length),u||(u=0),h>0&&h<p&&(h=p),h===p||0===l.length||0===this.length)return 0;if(u<0)throw RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw RangeError("Index out of range");if(h<0)throw RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),l.length-u<h-p&&(h=l.length-u+p);var g=h-p;return this===l&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(u,p,h):Uint8Array.prototype.set.call(l,this.subarray(p,h),u),g},Buffer.prototype.fill=function(l,u,p,h){if("string"==typeof l){if("string"==typeof u?(h=u,u=0,p=this.length):"string"==typeof p&&(h=p,p=this.length),void 0!==h&&"string"!=typeof h)throw TypeError("encoding must be a string");if("string"==typeof h&&!Buffer.isEncoding(h))throw TypeError("Unknown encoding: "+h);if(1===l.length){var g,T=l.charCodeAt(0);("utf8"===h&&T<128||"latin1"===h)&&(l=T)}}else"number"==typeof l?l&=255:"boolean"==typeof l&&(l=Number(l));if(u<0||this.length<u||this.length<p)throw RangeError("Out of range index");if(p<=u)return this;if(u>>>=0,p=void 0===p?this.length:p>>>0,l||(l=0),"number"==typeof l)for(g=u;g<p;++g)this[g]=l;else{var E=Buffer.isBuffer(l)?l:Buffer.from(l,h),v=E.length;if(0===v)throw TypeError('The value "'+l+'" is invalid for argument "value"');for(g=0;g<p-u;++g)this[g+u]=E[g%v]}return this};var E=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(l,u){u=u||1/0;for(var p,h=l.length,g=null,T=[],E=0;E<h;++E){if((p=l.charCodeAt(E))>55295&&p<57344){if(!g){if(p>56319||E+1===h){(u-=3)>-1&&T.push(239,191,189);continue}g=p;continue}if(p<56320){(u-=3)>-1&&T.push(239,191,189),g=p;continue}p=(g-55296<<10|p-56320)+65536}else g&&(u-=3)>-1&&T.push(239,191,189);if(g=null,p<128){if((u-=1)<0)break;T.push(p)}else if(p<2048){if((u-=2)<0)break;T.push(p>>6|192,63&p|128)}else if(p<65536){if((u-=3)<0)break;T.push(p>>12|224,p>>6&63|128,63&p|128)}else if(p<1114112){if((u-=4)<0)break;T.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}else throw Error("Invalid code point")}return T}function base64ToBytes(l){return h.toByteArray(function(l){if((l=(l=l.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;l.length%4!=0;)l+="=";return l}(l))}function blitBuffer(l,u,p,h){for(var g=0;g<h&&!(g+p>=u.length)&&!(g>=l.length);++g)u[g+p]=l[g];return g}function isInstance(l,u){return l instanceof u||null!=l&&null!=l.constructor&&null!=l.constructor.name&&l.constructor.name===u.name}var v=function(){for(var l="0123456789abcdef",u=Array(256),p=0;p<16;++p)for(var h=16*p,g=0;g<16;++g)u[h+g]=l[p]+l[g];return u}()},72797:function(l,u){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(l,u,p,h,g){var T,E,v=8*g-h-1,C=(1<<v)-1,x=C>>1,M=-7,O=p?g-1:0,R=p?-1:1,L=l[u+O];for(O+=R,T=L&(1<<-M)-1,L>>=-M,M+=v;M>0;T=256*T+l[u+O],O+=R,M-=8);for(E=T&(1<<-M)-1,T>>=-M,M+=h;M>0;E=256*E+l[u+O],O+=R,M-=8);if(0===T)T=1-x;else{if(T===C)return E?NaN:(L?-1:1)*(1/0);E+=Math.pow(2,h),T-=x}return(L?-1:1)*E*Math.pow(2,T-h)},u.write=function(l,u,p,h,g,T){var E,v,C,x=8*T-g-1,M=(1<<x)-1,O=M>>1,R=23===g?5960464477539062e-23:0,L=h?0:T-1,H=h?1:-1,U=u<0||0===u&&1/u<0?1:0;for(isNaN(u=Math.abs(u))||u===1/0?(v=isNaN(u)?1:0,E=M):(E=Math.floor(Math.log(u)/Math.LN2),u*(C=Math.pow(2,-E))<1&&(E--,C*=2),E+O>=1?u+=R/C:u+=R*Math.pow(2,1-O),u*C>=2&&(E++,C/=2),E+O>=M?(v=0,E=M):E+O>=1?(v=(u*C-1)*Math.pow(2,g),E+=O):(v=u*Math.pow(2,O-1)*Math.pow(2,g),E=0));g>=8;l[p+L]=255&v,L+=H,v/=256,g-=8);for(E=E<<g|v,x+=g;x>0;l[p+L]=255&E,L+=H,E/=256,x-=8);l[p+L-H]|=128*U}},92639:function(){},81206:function(l,u,p){"use strict";let h,g,T;p.d(u,{lw:function(){return ue},Xy:function(){return Tt},Rp:function(){return st},w2:function(){return Vr},fl:function(){return zr},xg:function(){return qn},_v:function(){return I},lz:function(){return Zt},BM:function(){return blocknote_q},SJ:function(){return oZ},yD:function(){return Gr},eD:function(){return F},kQ:function(){return cn},tp:function(){return $r},rP:function(){return dn},rn:function(){return o_},G6:function(){return Dr},xQ:function(){return z},HC:function(){return Qt}});var E,v,C,x={};p.r(x),p.d(x,{boolean:function(){return H},booleanish:function(){return U},commaOrSpaceSeparated:function(){return Y},commaSeparated:function(){return q},number:function(){return G},overloadedBoolean:function(){return j},spaceSeparated:function(){return W}});var M={};p.r(M),p.d(M,{attentionMarkers:function(){return rM},contentInitial:function(){return rC},disable:function(){return rO},document:function(){return rS},flow:function(){return rx},flowInitial:function(){return rw},insideSpan:function(){return rN},string:function(){return rA},text:function(){return r_}});var O=p(87218),R=p(19212);let Schema=class Schema{constructor(l,u,p){this.property=l,this.normal=u,p&&(this.space=p)}};function merge(l,u){let p={},h={},g=-1;for(;++g<l.length;)Object.assign(p,l[g].property),Object.assign(h,l[g].normal);return new Schema(p,h,u)}function normalize(l){return l.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;let Info=class Info{constructor(l,u){this.property=l,this.attribute=u}};Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let L=0,H=increment(),U=increment(),j=increment(),G=increment(),W=increment(),q=increment(),Y=increment();function increment(){return 2**++L}let X=Object.keys(x);let DefinedInfo=class DefinedInfo extends Info{constructor(l,u,p,h){var g,T;let E=-1;if(super(l,u),h&&(this.space=h),"number"==typeof p)for(;++E<X.length;){let l=X[E];g=X[E],(T=(p&x[l])===x[l])&&(this[g]=T)}}};DefinedInfo.prototype.defined=!0;let Z={}.hasOwnProperty;function create(l){let u;let p={},h={};for(u in l.properties)if(Z.call(l.properties,u)){let g=l.properties[u],T=new DefinedInfo(u,l.transform(l.attributes||{},u),g,l.space);l.mustUseProperty&&l.mustUseProperty.includes(u)&&(T.mustUseProperty=!0),p[u]=T,h[normalize(u)]=u,h[normalize(T.attribute)]=u}return new Schema(p,h,l.space)}let er=create({space:"xlink",transform:(l,u)=>"xlink:"+u.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ea=create({space:"xml",transform:(l,u)=>"xml:"+u.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(l,u){return u in l?l[u]:u}function caseInsensitiveTransform(l,u){return caseSensitiveTransform(l,u.toLowerCase())}let es=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),el=create({transform:(l,u)=>"role"===u?u:"aria-"+u.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:U,ariaAutoComplete:null,ariaBusy:U,ariaChecked:U,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:W,ariaCurrent:null,ariaDescribedBy:W,ariaDetails:null,ariaDisabled:U,ariaDropEffect:W,ariaErrorMessage:null,ariaExpanded:U,ariaFlowTo:W,ariaGrabbed:U,ariaHasPopup:null,ariaHidden:U,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:W,ariaLevel:G,ariaLive:null,ariaModal:U,ariaMultiLine:U,ariaMultiSelectable:U,ariaOrientation:null,ariaOwns:W,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:U,ariaReadOnly:U,ariaRelevant:null,ariaRequired:U,ariaRoleDescription:W,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:U,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null}}),ec=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:q,acceptCharset:W,accessKey:W,action:null,allow:null,allowFullScreen:H,allowPaymentRequest:H,allowUserMedia:H,alt:null,as:null,async:H,autoCapitalize:null,autoComplete:W,autoFocus:H,autoPlay:H,blocking:W,capture:null,charSet:null,checked:H,cite:null,className:W,cols:G,colSpan:null,content:null,contentEditable:U,controls:H,controlsList:W,coords:G|q,crossOrigin:null,data:null,dateTime:null,decoding:null,default:H,defer:H,dir:null,dirName:null,disabled:H,download:j,draggable:U,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:H,formTarget:null,headers:W,height:G,hidden:H,high:G,href:null,hrefLang:null,htmlFor:W,httpEquiv:W,id:null,imageSizes:null,imageSrcSet:null,inert:H,inputMode:null,integrity:null,is:null,isMap:H,itemId:null,itemProp:W,itemRef:W,itemScope:H,itemType:W,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:H,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:H,muted:H,name:null,nonce:null,noModule:H,noValidate:H,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:H,optimum:G,pattern:null,ping:W,placeholder:null,playsInline:H,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:H,referrerPolicy:null,rel:W,required:H,reversed:H,rows:G,rowSpan:G,sandbox:W,scope:null,scoped:H,seamless:H,selected:H,shadowRootClonable:H,shadowRootDelegatesFocus:H,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:U,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:H,useMap:null,value:U,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:W,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:H,declare:H,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:H,noHref:H,noShade:H,noWrap:H,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:U,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:H,disableRemotePlayback:H,prefix:null,property:null,results:G,security:null,unselectable:null}}),eu=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:Y,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:W,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:H,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:q,g2:q,glyphName:q,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:Y,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:W,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Y,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Y,rev:Y,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Y,requiredFeatures:Y,requiredFonts:Y,requiredFormats:Y,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:Y,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Y,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Y,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ed=merge([ea,er,es,el,ec],"html"),ep=merge([ea,er,es,el,eu],"svg"),eh=/^data[-\w.:]+$/i,ef=/-[a-z]/g,eg=/[A-Z]/g;function find(l,u){let p=normalize(u),h=u,g=Info;if(p in l.normal)return l.property[l.normal[p]];if(p.length>4&&"data"===p.slice(0,4)&&eh.test(u)){if("-"===u.charAt(4)){let l=u.slice(5).replace(ef,camelcase);h="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{let l=u.slice(4);if(!ef.test(l)){let p=l.replace(eg,kebab);"-"!==p.charAt(0)&&(p="-"+p),u="data"+p}}g=DefinedInfo}return new g(h,u)}function kebab(l){return"-"+l.toLowerCase()}function camelcase(l){return l.charAt(1).toUpperCase()}let ey=/[#.]/g;function parse(l){let u=String(l||"").trim();return u?u.split(/[ \t\n\r\f]+/g):[]}function comma_separated_tokens_parse(l){let u=[],p=String(l||""),h=p.indexOf(","),g=0,T=!1;for(;!T;){-1===h&&(h=p.length,T=!0);let l=p.slice(g,h).trim();(l||!T)&&u.push(l),g=h+1,h=p.indexOf(",",g)}return u}let eb=new Set(["menu","submit","reset","button"]),eT={}.hasOwnProperty;function core_core(l,u,p){let h=p&&function(l){let u={},p=-1;for(;++p<l.length;)u[l[p].toLowerCase()]=l[p];return u}(p);return function(p,g,...T){let E,v=-1;if(null==p)E={type:"root",children:[]},T.unshift(g);else{var C;if((E=function(l,u){let p,h;let g=l||"",T={},E=0;for(;E<g.length;){ey.lastIndex=E;let l=ey.exec(g),u=g.slice(E,l?l.index:g.length);u&&(p?"#"===p?T.id=u:Array.isArray(T.className)?T.className.push(u):T.className=[u]:h=u,E+=u.length),l&&(p=l[0],E++)}return{type:"element",tagName:h||u||"div",properties:T,children:[]}}(p,u)).tagName=E.tagName.toLowerCase(),h&&eT.call(h,E.tagName)&&(E.tagName=h[E.tagName]),C=E.tagName,!(null==g||"object"!=typeof g||Array.isArray(g))&&("input"===C||!g.type||"string"!=typeof g.type||!("children"in g&&Array.isArray(g.children))&&("button"===C?eb.has(g.type.toLowerCase()):!("value"in g)))){let u;for(u in g)eT.call(g,u)&&function(l,u,p,h){let g;let T=find(l,p),E=-1;if(null!=h){if("number"==typeof h){if(Number.isNaN(h))return;g=h}else g="boolean"==typeof h?h:"string"==typeof h?T.spaceSeparated?parse(h):T.commaSeparated?comma_separated_tokens_parse(h):T.commaOrSpaceSeparated?parse(comma_separated_tokens_parse(h).join(" ")):parsePrimitive(T,T.property,h):Array.isArray(h)?h.concat():"style"===T.property?function(l){let u;let p=[];for(u in l)eT.call(l,u)&&p.push([u,l[u]].join(": "));return p.join("; ")}(h):String(h);if(Array.isArray(g)){let l=[];for(;++E<g.length;)l[E]=parsePrimitive(T,T.property,g[E]);g=l}"className"===T.property&&Array.isArray(u.className)&&(g=u.className.concat(g)),u[T.property]=g}}(l,E.properties,u,g[u])}else T.unshift(g)}for(;++v<T.length;)!function addChild(l,u){let p=-1;if(null==u);else if("string"==typeof u||"number"==typeof u)l.push({type:"text",value:String(u)});else if(Array.isArray(u))for(;++p<u.length;)addChild(l,u[p]);else if("object"==typeof u&&"type"in u)"root"===u.type?addChild(l,u.children):l.push(u);else throw Error("Expected node, nodes, or string, got `"+u+"`")}(E.children,T[v]);return"element"===E.type&&"template"===E.tagName&&(E.content={type:"root",children:E.children},E.children=[]),E}}function parsePrimitive(l,u,p){if("string"==typeof p){if(l.number&&p&&!Number.isNaN(Number(p)))return Number(p);if((l.boolean||l.overloadedBoolean)&&(""===p||normalize(p)===normalize(u)))return!0}return p}let eE=core_core(ep,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]),ev=core_core(ed,"div"),ek={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},eS={}.hasOwnProperty,eC=Object.prototype;function one(l,u){let p;switch(u.nodeName){case"#comment":return p={type:"comment",value:u.data},patch(l,u,p),p;case"#document":case"#document-fragment":{let h="mode"in u&&("quirks"===u.mode||"limited-quirks"===u.mode);if(p={type:"root",children:lib_all(l,u.childNodes),data:{quirksMode:h}},l.file&&l.location){let u=String(l.file),h=function(l){let u=String(l),p=[],h=/\r?\n|\r/g;for(;h.test(u);)p.push(h.lastIndex);return p.push(u.length+1),{toPoint:function(l){let u=-1;if("number"==typeof l&&l>-1&&l<p[p.length-1]){for(;++u<p.length;)if(p[u]>l)return{line:u+1,column:l-(u>0?p[u-1]:0)+1,offset:l}}return{line:void 0,column:void 0,offset:void 0}},toOffset:function(l){let u=l&&l.line,h=l&&l.column;if("number"==typeof u&&"number"==typeof h&&!Number.isNaN(u)&&!Number.isNaN(h)&&u-1 in p){let l=(p[u-2]||0)+h-1||0;if(l>-1&&l<p[p.length-1])return l}return -1}}}(u),g=h.toPoint(0),T=h.toPoint(u.length);p.position={start:g,end:T}}return p}case"#documentType":return patch(l,u,p={type:"doctype"}),p;case"#text":return p={type:"text",value:u.value},patch(l,u,p),p;default:return function(l,u){let p=l.schema;l.schema=u.namespaceURI===ek.svg?ep:ed;let h=-1,g={};for(;++h<u.attrs.length;){let l=u.attrs[h],p=(l.prefix?l.prefix+":":"")+l.name;eS.call(eC,p)||(g[p]=l.value)}let T="svg"===l.schema.space?eE:ev,E=T(u.tagName,g,lib_all(l,u.childNodes));if(patch(l,u,E),"template"===E.tagName){let p=u.sourceCodeLocation,h=p&&p.startTag&&position(p.startTag),g=p&&p.endTag&&position(p.endTag),T=one(l,u.content);h&&g&&l.file&&(T.position={start:h.end,end:g.start}),E.content=T}return l.schema=p,E}(l,u)}}function lib_all(l,u){let p=-1,h=[];for(;++p<u.length;)h[p]=one(l,u[p]);return h}function patch(l,u,p){if("sourceCodeLocation"in u&&u.sourceCodeLocation&&l.file){let h=function(l,u,p){let h=position(p);if("element"===u.type){let g=u.children[u.children.length-1];if(h&&!p.endTag&&g&&g.position&&g.position.end&&(h.end=Object.assign({},g.position.end)),l.verbose){let h;let g={};if(p.attrs)for(h in p.attrs)eS.call(p.attrs,h)&&(g[find(l.schema,h).property]=position(p.attrs[h]));u.data={position:{opening:position(p.startTag),closing:p.endTag?position(p.endTag):null,properties:g}}}}return h}(l,p,u.sourceCodeLocation);h&&(l.location=!0,p.position=h)}}function position(l){let u=point({line:l.startLine,column:l.startCol,offset:l.startOffset}),p=point({line:l.endLine,column:l.endCol,offset:l.endOffset});return u||p?{start:u,end:p}:void 0}function point(l){return l.line&&l.column?l:void 0}let ew={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},ex={2:!0,1:!1,0:null};function rehypeParse(l){let u=this.data("settings"),p=Object.assign({},u,l);Object.assign(this,{Parser:function(l,u){let h=p.fragment?"parseFragment":"parse",g=p.emitParseErrors?function(h){let g=h.code,T=g.replace(/-[a-z]/g,l=>l.charAt(1).toUpperCase()),E=p[T],v=null==E||E,C="number"==typeof v?v:v?1:0,x={line:h.startLine,column:h.startCol,offset:h.startOffset},M={line:h.endLine,column:h.endCol,offset:h.endOffset};if(C){let l=ew[T]||{reason:"",description:"",url:""},p=u.message(format(l.reason),{start:x,end:M});p.source="parse-error",p.ruleId=g,p.fatal=ex[C],p.note=format(l.description),p.url="url"in l&&!1===l.url?null:"https://html.spec.whatwg.org/multipage/parsing.html#parse-error-"+g}function format(u){return u.replace(/%c(?:-(\d+))?/g,(u,p)=>{let g=p?-Number.parseInt(p,10):0,T=l.charAt(h.startOffset+g);return"`"===T?"` ` `":T}).replace(/%x/g,()=>"0x"+l.charCodeAt(h.startOffset).toString(16).toUpperCase())}}:null,T=new R({sourceCodeLocationInfo:!0,onParseError:g,scriptingEnabled:!1});return function(l,u){let p,h;let g=u||{};return"messages"in g?(h=g,p={}):(h=g.file||void 0,p=g),one({schema:"svg"===p.space?ep:ed,file:h,verbose:p.verbose,location:!1},l)}(T[h](l),{space:p.space,file:u,verbose:p.verbose})}})}let eA=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],e_={}.hasOwnProperty;function zwitch(l,u){let p=u||{};function one(u,...p){let h=one.invalid,g=one.handlers;if(u&&e_.call(u,l)){let p=String(u[l]);h=e_.call(g,p)?g[p]:one.unknown}if(h)return h.call(this,u,...p)}return one.handlers=p.handlers||{},one.invalid=p.invalid,one.unknown=p.unknown,one}let eN=/["&'<>`]/g,eM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eO=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,eI=/[|\\{}()[\]^$+*?.]/g,eR=new WeakMap,eL=/[\dA-Fa-f]/,eP=/\d/,eD=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],eB={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},eH=["cent","copy","divide","gt","lt","not","para","times"],eF={}.hasOwnProperty,eU={};for(h in eB)eF.call(eB,h)&&(eU[eB[h]]=h);let ej=/[^\dA-Za-z]/;function formatSmart(l,u,p){let h,g=function(l,u,p){let h="&#x"+l.toString(16).toUpperCase();return p&&u&&!eL.test(String.fromCharCode(u))?h:h+";"}(l,u,p.omitOptionalSemicolons);if((p.useNamedReferences||p.useShortestReferences)&&(h=function(l,u,p,h){let g=String.fromCharCode(l);if(eF.call(eU,g)){let l=eU[g],T="&"+l;return p&&eD.includes(l)&&!eH.includes(l)&&(!h||u&&61!==u&&ej.test(String.fromCharCode(u)))?T:T+";"}return""}(l,u,p.omitOptionalSemicolons,p.attribute)),(p.useShortestReferences||!h)&&p.useShortestReferences){let h=function(l,u,p){let h="&#"+String(l);return p&&u&&!eP.test(String.fromCharCode(u))?h:h+";"}(l,u,p.omitOptionalSemicolons);h.length<g.length&&(g=h)}return h&&(!p.useShortestReferences||h.length<g.length)?h:g}function stringifyEntities(l,u){return function(l,u){var p;let h;if(l=l.replace(u.subset?(p=u.subset,(h=eR.get(p))||(h=function(l){let u=[],p=-1;for(;++p<l.length;)u.push(l[p].replace(eI,"\\$&"));return RegExp("(?:"+u.join("|")+")","g")}(p),eR.set(p,h)),h):eN,basic),u.subset||u.escapeOnly)return l;return l.replace(eM,function(l,p,h){return u.format((l.charCodeAt(0)-55296)*1024+l.charCodeAt(1)-56320+65536,h.charCodeAt(p+2),u)}).replace(eO,basic);function basic(l,p,h){return u.format(l.charCodeAt(0),h.charCodeAt(p+1),u)}}(l,Object.assign({format:formatSmart},u))}function ccount(l,u){let p=String(l);if("string"!=typeof u)throw TypeError("Expected character");let h=0,g=p.indexOf(u);for(;-1!==g;)h++,g=p.indexOf(u,g+u.length);return h}function whitespace(l){let u=l&&"object"==typeof l&&"text"===l.type?l.value||"":l;return"string"==typeof u&&""===u.replace(/[ \t\n\f\r]/g,"")}let ez=siblings(1),eV=siblings(-1);function siblings(l){return function(u,p,h){let g=u?u.children:[],T=(p||0)+l,E=g&&g[T];if(!h)for(;E&&whitespace(E);)T+=l,E=g[T];return E}}let e$={}.hasOwnProperty;function omission(l){return function(u,p,h){return e$.call(l,u.tagName)&&l[u.tagName](u,p,h)}}let eG=omission({html:function(l,u,p){let h=ez(p,u);return!h||"comment"!==h.type},head:headOrColgroupOrCaption,body:function(l,u,p){let h=ez(p,u);return!h||"comment"!==h.type},p:function(l,u,p){let h=ez(p,u);return h?"element"===h.type&&("address"===h.tagName||"article"===h.tagName||"aside"===h.tagName||"blockquote"===h.tagName||"details"===h.tagName||"div"===h.tagName||"dl"===h.tagName||"fieldset"===h.tagName||"figcaption"===h.tagName||"figure"===h.tagName||"footer"===h.tagName||"form"===h.tagName||"h1"===h.tagName||"h2"===h.tagName||"h3"===h.tagName||"h4"===h.tagName||"h5"===h.tagName||"h6"===h.tagName||"header"===h.tagName||"hgroup"===h.tagName||"hr"===h.tagName||"main"===h.tagName||"menu"===h.tagName||"nav"===h.tagName||"ol"===h.tagName||"p"===h.tagName||"pre"===h.tagName||"section"===h.tagName||"table"===h.tagName||"ul"===h.tagName):!p||!("element"===p.type&&("a"===p.tagName||"audio"===p.tagName||"del"===p.tagName||"ins"===p.tagName||"map"===p.tagName||"noscript"===p.tagName||"video"===p.tagName))},li:function(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&"li"===h.tagName},dt:function(l,u,p){let h=ez(p,u);return h&&"element"===h.type&&("dt"===h.tagName||"dd"===h.tagName)},dd:function(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&("dt"===h.tagName||"dd"===h.tagName)},rt:rubyElement,rp:rubyElement,optgroup:function(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&"optgroup"===h.tagName},option:function(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&("option"===h.tagName||"optgroup"===h.tagName)},menuitem:function(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&("menuitem"===h.tagName||"hr"===h.tagName||"menu"===h.tagName)},colgroup:headOrColgroupOrCaption,caption:headOrColgroupOrCaption,thead:function(l,u,p){let h=ez(p,u);return h&&"element"===h.type&&("tbody"===h.tagName||"tfoot"===h.tagName)},tbody:function(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&("tbody"===h.tagName||"tfoot"===h.tagName)},tfoot:function(l,u,p){return!ez(p,u)},tr:function(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&"tr"===h.tagName},td:cells,th:cells});function headOrColgroupOrCaption(l,u,p){let h=ez(p,u,!0);return!h||"comment"!==h.type&&!("text"===h.type&&whitespace(h.value.charAt(0)))}function rubyElement(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&("rp"===h.tagName||"rt"===h.tagName)}function cells(l,u,p){let h=ez(p,u);return!h||"element"===h.type&&("td"===h.tagName||"th"===h.tagName)}let eK=omission({html:function(l){let u=ez(l,-1);return!u||"comment"!==u.type},head:function(l){let u=l.children,p=[],h=-1;for(;++h<u.length;){let l=u[h];if("element"===l.type&&("title"===l.tagName||"base"===l.tagName)){if(p.includes(l.tagName))return!1;p.push(l.tagName)}}return u.length>0},body:function(l){let u=ez(l,-1,!0);return!u||"comment"!==u.type&&!("text"===u.type&&whitespace(u.value.charAt(0)))&&!("element"===u.type&&("meta"===u.tagName||"link"===u.tagName||"script"===u.tagName||"style"===u.tagName||"template"===u.tagName))},colgroup:function(l,u,p){let h=eV(p,u),g=ez(l,-1,!0);return!(p&&h&&"element"===h.type&&"colgroup"===h.tagName&&eG(h,p.children.indexOf(h),p))&&g&&"element"===g.type&&"col"===g.tagName},tbody:function(l,u,p){let h=eV(p,u),g=ez(l,-1);return!(p&&h&&"element"===h.type&&("thead"===h.tagName||"tbody"===h.tagName)&&eG(h,p.children.indexOf(h),p))&&g&&"element"===g.type&&"tr"===g.tagName}}),eW={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]};function text_text(l,u,p,h){return p&&"element"===p.type&&("script"===p.tagName||"style"===p.tagName)?l.value:stringifyEntities(l.value,Object.assign({},h.settings.characterReferences,{subset:["<","&"]}))}let eq=zwitch("type",{invalid:function(l){throw Error("Expected node, not `"+l+"`")},unknown:function(l){throw Error("Cannot compile unknown node `"+l.type+"`")},handlers:{comment:function(l,u,p,h){return h.settings.bogusComments?"<?"+stringifyEntities(l.value,Object.assign({},h.settings.characterReferences,{subset:[">"]}))+">":"<!--"+l.value.replace(/^>|^->|<!--|-->|--!>|<!-$/g,function(l){return stringifyEntities(l,Object.assign({},h.settings.characterReferences,{subset:["<",">"]}))})+"-->"},doctype:function(l,u,p,h){return"<!"+(h.settings.upperDoctype?"DOCTYPE":"doctype")+(h.settings.tightDoctype?"":" ")+"html>"},element:function(l,u,p,h){let g;let T=h.schema,E="svg"!==T.space&&h.settings.omitOptionalTags,v="svg"===T.space?h.settings.closeEmptyElements:h.settings.voids.includes(l.tagName.toLowerCase()),C=[];"html"===T.space&&"svg"===l.tagName&&(h.schema=ep);let x=function(l,u){let p;let h=[],g=-1;if(u){for(p in u)if(void 0!==u[p]&&null!==u[p]){let g=function(l,u,p){let h;let g=find(l.schema,u),T=l.settings.allowParseErrors&&"html"===l.schema.space?0:1,E=l.settings.allowDangerousCharacters?0:1,v=l.quote;if(g.overloadedBoolean&&(p===g.attribute||""===p)?p=!0:(g.boolean||g.overloadedBoolean&&"string"!=typeof p)&&(p=!!p),null==p||!1===p||"number"==typeof p&&Number.isNaN(p))return"";let C=stringifyEntities(g.attribute,Object.assign({},l.settings.characterReferences,{subset:eW.name[T][E]}));return!0===p?C:(p=Array.isArray(p)?(g.commaSeparated?function(l,u){let p=u||{},h=""===l[l.length-1]?[...l,""]:l;return h.join((p.padRight?" ":"")+","+(!1===p.padLeft?"":" ")).trim()}:function(l){return l.join(" ").trim()})(p,{padLeft:!l.settings.tightCommaSeparatedLists}):String(p),l.settings.collapseEmptyAttributes&&!p)?C:(l.settings.preferUnquoted&&(h=stringifyEntities(p,Object.assign({},l.settings.characterReferences,{subset:eW.unquoted[T][E],attribute:!0}))),h!==p&&(l.settings.quoteSmart&&ccount(p,v)>ccount(p,l.alternative)&&(v=l.alternative),h=v+stringifyEntities(p,Object.assign({},l.settings.characterReferences,{subset:("'"===v?eW.single:eW.double)[T][E],attribute:!0}))+v),C+(h?"="+h:h))}(l,p,u[p]);g&&h.push(g)}}for(;++g<h.length;){let u=l.settings.tightAttributes?h[g].charAt(h[g].length-1):null;g!==h.length-1&&'"'!==u&&"'"!==u&&(h[g]+=" ")}return h.join("")}(h,l.properties),M=h.all("html"===T.space&&"template"===l.tagName?l.content:l);return h.schema=T,M&&(v=!1),!x&&E&&eK(l,u,p)||(C.push("<",l.tagName,x?" "+x:""),v&&("svg"===T.space||h.settings.closeSelfClosing)&&(g=x.charAt(x.length-1),(!h.settings.tightSelfClosing||"/"===g||g&&'"'!==g&&"'"!==g)&&C.push(" "),C.push("/")),C.push(">")),C.push(M),v||E&&eG(l,u,p)||C.push("</"+l.tagName+">"),C.join("")},raw:function(l,u,p,h){return h.settings.allowDangerousHtml?l.value:text_text(l,u,p,h)},root:function(l,u,p,h){return h.all(l)},text:text_text}});function lib_one(l,u,p){return eq(l,u,p,this)}function hast_util_to_html_lib_all(l){let u=[],p=l&&l.children||[],h=-1;for(;++h<p.length;)u[h]=this.one(p[h],h,l);return u.join("")}function rehypeStringify(l){let u=this.data("settings"),p=Object.assign({},u,l);Object.assign(this,{Compiler:function(l){return function(l,u){let p=u||{},h=p.quote||'"';if('"'!==h&&"'"!==h)throw Error("Invalid quote `"+h+"`, expected `'` or `\"`");let g={one:lib_one,all:hast_util_to_html_lib_all,settings:{omitOptionalTags:p.omitOptionalTags||!1,allowParseErrors:p.allowParseErrors||!1,allowDangerousCharacters:p.allowDangerousCharacters||!1,quoteSmart:p.quoteSmart||!1,preferUnquoted:p.preferUnquoted||!1,tightAttributes:p.tightAttributes||!1,upperDoctype:p.upperDoctype||!1,tightDoctype:p.tightDoctype||!1,bogusComments:p.bogusComments||!1,tightCommaSeparatedLists:p.tightCommaSeparatedLists||!1,tightSelfClosing:p.tightSelfClosing||!1,collapseEmptyAttributes:p.collapseEmptyAttributes||!1,allowDangerousHtml:p.allowDangerousHtml||!1,voids:p.voids||eA,characterReferences:p.characterReferences||p.entities||{},closeSelfClosing:p.closeSelfClosing||!1,closeEmptyElements:p.closeEmptyElements||!1},schema:"svg"===p.space?ep:ed,quote:h,alternative:'"'===h?"'":'"'};return g.one(Array.isArray(l)?{type:"root",children:l}:l,void 0,void 0)}(l,p)}})}function bail(l){if(l)throw l}var eY=p(163),eQ=p(58736);function isPlainObject(l){if("object"!=typeof l||null===l)return!1;let u=Object.getPrototypeOf(l);return(null===u||u===Object.prototype||null===Object.getPrototypeOf(u))&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)}function stringifyPosition(l){return l&&"object"==typeof l?"position"in l||"type"in l?lib_position(l.position):"start"in l||"end"in l?lib_position(l):"line"in l||"column"in l?lib_point(l):"":""}function lib_point(l){return index(l&&l.line)+":"+index(l&&l.column)}function lib_position(l){return lib_point(l&&l.start)+"-"+lib_point(l&&l.end)}function index(l){return l&&"number"==typeof l?l:1}let VFileMessage=class VFileMessage extends Error{constructor(l,u,p){let h=[null,null],g={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"==typeof u&&(p=u,u=void 0),"string"==typeof p){let l=p.indexOf(":");-1===l?h[1]=p:(h[0]=p.slice(0,l),h[1]=p.slice(l+1))}u&&("type"in u||"position"in u?u.position&&(g=u.position):"start"in u||"end"in u?g=u:("line"in u||"column"in u)&&(g.start=u)),this.name=stringifyPosition(u)||"1:1",this.message="object"==typeof l?l.message:l,this.stack="","object"==typeof l&&l.stack&&(this.stack=l.stack),this.reason=this.message,this.fatal,this.line=g.start.line,this.column=g.start.column,this.position=g,this.source=h[0],this.ruleId=h[1],this.file,this.actual,this.expected,this.url,this.note}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.fatal=null,VFileMessage.prototype.column=null,VFileMessage.prototype.line=null,VFileMessage.prototype.source=null,VFileMessage.prototype.ruleId=null,VFileMessage.prototype.position=null;let eJ={basename:function(l,u){let p;if(void 0!==u&&"string"!=typeof u)throw TypeError('"ext" argument must be a string');assertPath(l);let h=0,g=-1,T=l.length;if(void 0===u||0===u.length||u.length>l.length){for(;T--;)if(47===l.charCodeAt(T)){if(p){h=T+1;break}}else g<0&&(p=!0,g=T+1);return g<0?"":l.slice(h,g)}if(u===l)return"";let E=-1,v=u.length-1;for(;T--;)if(47===l.charCodeAt(T)){if(p){h=T+1;break}}else E<0&&(p=!0,E=T+1),v>-1&&(l.charCodeAt(T)===u.charCodeAt(v--)?v<0&&(g=T):(v=-1,g=E));return h===g?g=E:g<0&&(g=l.length),l.slice(h,g)},dirname:function(l){let u;if(assertPath(l),0===l.length)return".";let p=-1,h=l.length;for(;--h;)if(47===l.charCodeAt(h)){if(u){p=h;break}}else u||(u=!0);return p<0?47===l.charCodeAt(0)?"/":".":1===p&&47===l.charCodeAt(0)?"//":l.slice(0,p)},extname:function(l){let u;assertPath(l);let p=l.length,h=-1,g=0,T=-1,E=0;for(;p--;){let v=l.charCodeAt(p);if(47===v){if(u){g=p+1;break}continue}h<0&&(u=!0,h=p+1),46===v?T<0?T=p:1!==E&&(E=1):T>-1&&(E=-1)}return T<0||h<0||0===E||1===E&&T===h-1&&T===g+1?"":l.slice(T,h)},join:function(...l){let u,p=-1;for(;++p<l.length;)assertPath(l[p]),l[p]&&(u=void 0===u?l[p]:u+"/"+l[p]);return void 0===u?".":function(l){assertPath(l);let u=47===l.charCodeAt(0),p=function(l,u){let p,h,g="",T=0,E=-1,v=0,C=-1;for(;++C<=l.length;){if(C<l.length)p=l.charCodeAt(C);else if(47===p)break;else p=47;if(47===p){if(E===C-1||1===v);else if(E!==C-1&&2===v){if(g.length<2||2!==T||46!==g.charCodeAt(g.length-1)||46!==g.charCodeAt(g.length-2)){if(g.length>2){if((h=g.lastIndexOf("/"))!==g.length-1){h<0?(g="",T=0):T=(g=g.slice(0,h)).length-1-g.lastIndexOf("/"),E=C,v=0;continue}}else if(g.length>0){g="",T=0,E=C,v=0;continue}}u&&(g=g.length>0?g+"/..":"..",T=2)}else g.length>0?g+="/"+l.slice(E+1,C):g=l.slice(E+1,C),T=C-E-1;E=C,v=0}else 46===p&&v>-1?v++:v=-1}return g}(l,!u);return 0!==p.length||u||(p="."),p.length>0&&47===l.charCodeAt(l.length-1)&&(p+="/"),u?"/"+p:p}(u)},sep:"/"};function assertPath(l){if("string"!=typeof l)throw TypeError("Path must be a string. Received "+JSON.stringify(l))}function isUrl(l){return null!==l&&"object"==typeof l&&l.href&&l.origin}let eX=["history","path","basename","stem","extname","dirname"];let VFile=class VFile{constructor(l){let u,p;u=l?"string"==typeof l||eY(l)?{value:l}:isUrl(l)?{path:l}:l:{},this.data={},this.messages=[],this.history=[],this.cwd="/",this.value,this.stored,this.result,this.map;let h=-1;for(;++h<eX.length;){let l=eX[h];l in u&&void 0!==u[l]&&null!==u[l]&&(this[l]="history"===l?[...u[l]]:u[l])}for(p in u)eX.includes(p)||(this[p]=u[p])}get path(){return this.history[this.history.length-1]}set path(l){isUrl(l)&&(l=function(l){if("string"==typeof l)l=new URL(l);else if(!isUrl(l)){let u=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+l+"`");throw u.code="ERR_INVALID_ARG_TYPE",u}if("file:"!==l.protocol){let l=TypeError("The URL must be of scheme file");throw l.code="ERR_INVALID_URL_SCHEME",l}return function(l){if(""!==l.hostname){let l=TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}let u=l.pathname,p=-1;for(;++p<u.length;)if(37===u.charCodeAt(p)&&50===u.charCodeAt(p+1)){let l=u.charCodeAt(p+2);if(70===l||102===l){let l=TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(u)}(l)}(l)),assertNonEmpty(l,"path"),this.path!==l&&this.history.push(l)}get dirname(){return"string"==typeof this.path?eJ.dirname(this.path):void 0}set dirname(l){lib_assertPath(this.basename,"dirname"),this.path=eJ.join(l||"",this.basename)}get basename(){return"string"==typeof this.path?eJ.basename(this.path):void 0}set basename(l){assertNonEmpty(l,"basename"),assertPart(l,"basename"),this.path=eJ.join(this.dirname||"",l)}get extname(){return"string"==typeof this.path?eJ.extname(this.path):void 0}set extname(l){if(assertPart(l,"extname"),lib_assertPath(this.dirname,"extname"),l){if(46!==l.charCodeAt(0))throw Error("`extname` must start with `.`");if(l.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=eJ.join(this.dirname,this.stem+(l||""))}get stem(){return"string"==typeof this.path?eJ.basename(this.path,this.extname):void 0}set stem(l){assertNonEmpty(l,"stem"),assertPart(l,"stem"),this.path=eJ.join(this.dirname||"",l+(this.extname||""))}toString(l){return(this.value||"").toString(l||void 0)}message(l,u,p){let h=new VFileMessage(l,u,p);return this.path&&(h.name=this.path+":"+h.name,h.file=this.path),h.fatal=!1,this.messages.push(h),h}info(l,u,p){let h=this.message(l,u,p);return h.fatal=null,h}fail(l,u,p){let h=this.message(l,u,p);throw h.fatal=!0,h}};function assertPart(l,u){if(l&&l.includes(eJ.sep))throw Error("`"+u+"` cannot be a path: did not expect `"+eJ.sep+"`")}function assertNonEmpty(l,u){if(!l)throw Error("`"+u+"` cannot be empty")}function lib_assertPath(l,u){if(!l)throw Error("Setting `"+u+"` requires `path` to be set too")}let eZ=(function lib_base(){let l;let u=function(){let l=[],u={run:function(...u){let p=-1,h=u.pop();if("function"!=typeof h)throw TypeError("Expected function as last argument, not "+h);!function next(g,...T){let E=l[++p],v=-1;if(g){h(g);return}for(;++v<u.length;)(null===T[v]||void 0===T[v])&&(T[v]=u[v]);u=T,E?(function(l,u){let p;return function(...u){let h;let g=l.length>u.length;g&&u.push(done);try{h=l.apply(this,u)}catch(l){if(g&&p)throw l;return done(l)}g||(h&&h.then&&"function"==typeof h.then?h.then(then,done):h instanceof Error?done(h):then(h))};function done(l,...h){p||(p=!0,u(l,...h))}function then(l){done(null,l)}})(E,next)(...T):h(null,...T)}(null,...u)},use:function(p){if("function"!=typeof p)throw TypeError("Expected `middelware` to be a function, not "+p);return l.push(p),u}};return u}(),p=[],h={},g=-1;return processor.data=function(u,p){return"string"==typeof u?2==arguments.length?(assertUnfrozen("data",l),h[u]=p,processor):e1.call(h,u)&&h[u]||null:u?(assertUnfrozen("data",l),h=u,processor):h},processor.Parser=void 0,processor.Compiler=void 0,processor.freeze=function(){if(l)return processor;for(;++g<p.length;){let[l,...h]=p[g];if(!1===h[0])continue;!0===h[0]&&(h[0]=void 0);let T=l.call(processor,...h);"function"==typeof T&&u.use(T)}return l=!0,g=Number.POSITIVE_INFINITY,processor},processor.attachers=p,processor.use=function(u,...g){let T;if(assertUnfrozen("use",l),null==u);else if("function"==typeof u)addPlugin(u,...g);else if("object"==typeof u)Array.isArray(u)?addList(u):addPreset(u);else throw TypeError("Expected usable value, not `"+u+"`");return T&&(h.settings=Object.assign(h.settings||{},T)),processor;function addPreset(l){addList(l.plugins),l.settings&&(T=Object.assign(T||{},l.settings))}function addList(l){let u=-1;if(null==l);else if(Array.isArray(l))for(;++u<l.length;){let p=l[u];!function(l){if("function"==typeof l)addPlugin(l);else if("object"==typeof l){if(Array.isArray(l)){let[u,...p]=l;addPlugin(u,...p)}else addPreset(l)}else throw TypeError("Expected usable value, not `"+l+"`")}(p)}else throw TypeError("Expected a list of plugins, not `"+l+"`")}function addPlugin(l,u){let h,g=-1;for(;++g<p.length;)if(p[g][0]===l){h=p[g];break}h?(isPlainObject(h[1])&&isPlainObject(u)&&(u=eQ(!0,h[1],u)),h[1]=u):p.push([...arguments])}},processor.parse=function(l){processor.freeze();let u=vfile(l),p=processor.Parser;return(assertParser("parse",p),newable(p,"parse"))?new p(String(u),u).parse():p(String(u),u)},processor.stringify=function(l,u){processor.freeze();let p=vfile(u),h=processor.Compiler;return(assertCompiler("stringify",h),assertNode(l),newable(h,"compile"))?new h(l,p).compile():h(l,p)},processor.run=function(l,p,h){if(assertNode(l),processor.freeze(),h||"function"!=typeof p||(h=p,p=void 0),!h)return new Promise(executor);function executor(g,T){u.run(l,vfile(p),function(u,p,E){p=p||l,u?T(u):g?g(p):h(null,p,E)})}executor(null,h)},processor.runSync=function(l,u){let p,h;return processor.run(l,u,function(l,u){bail(l),p=u,h=!0}),assertDone("runSync","run",h),p},processor.process=function(l,u){if(processor.freeze(),assertParser("process",processor.Parser),assertCompiler("process",processor.Compiler),!u)return new Promise(executor);function executor(p,h){let g=vfile(l);function done(l,g){l||!g?h(l):p?p(g):u(null,g)}processor.run(processor.parse(g),g,(l,u,p)=>{if(!l&&u&&p){let h=processor.stringify(u,p);null==h||("string"==typeof h||eY(h)?p.value=h:p.result=h),done(l,p)}else done(l)})}executor(null,u)},processor.processSync=function(l){let u;processor.freeze(),assertParser("processSync",processor.Parser),assertCompiler("processSync",processor.Compiler);let p=vfile(l);return processor.process(p,function(l){u=!0,bail(l)}),assertDone("processSync","process",u),p},processor;function processor(){let l=lib_base(),u=-1;for(;++u<p.length;)l.use(...p[u]);return l.data(eQ(!0,{},h)),l}})().freeze(),e1={}.hasOwnProperty;function newable(l,u){return"function"==typeof l&&l.prototype&&(function(l){let u;for(u in l)if(e1.call(l,u))return!0;return!1}(l.prototype)||u in l.prototype)}function assertParser(l,u){if("function"!=typeof u)throw TypeError("Cannot `"+l+"` without `Parser`")}function assertCompiler(l,u){if("function"!=typeof u)throw TypeError("Cannot `"+l+"` without `Compiler`")}function assertUnfrozen(l,u){if(u)throw Error("Cannot call `"+l+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(l){if(!isPlainObject(l)||"string"!=typeof l.type)throw TypeError("Expected node, got `"+l+"`")}function assertDone(l,u,p){if(!p)throw Error("`"+l+"` finished async. Use `"+u+"` instead")}function vfile(l){return l&&"object"==typeof l&&"message"in l&&"messages"in l?l:new VFile(l)}for(var e0=p(73870),e9=p(75011),e5=new Uint8Array(16),e4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,e2=[],e8=0;e8<256;++e8)e2.push((e8+256).toString(16).substr(1));var esm_browser_stringify=function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=(e2[l[u+0]]+e2[l[u+1]]+e2[l[u+2]]+e2[l[u+3]]+"-"+e2[l[u+4]]+e2[l[u+5]]+"-"+e2[l[u+6]]+e2[l[u+7]]+"-"+e2[l[u+8]]+e2[l[u+9]]+"-"+e2[l[u+10]]+e2[l[u+11]]+e2[l[u+12]]+e2[l[u+13]]+e2[l[u+14]]+e2[l[u+15]]).toLowerCase();if(!("string"==typeof p&&e4.test(p)))throw TypeError("Stringified UUID is invalid");return p},esm_browser_v4=function(l,u,p){var h=(l=l||{}).random||(l.rng||function(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(e5)})();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){p=p||0;for(var g=0;g<16;++g)u[p+g]=h[g];return u}return esm_browser_stringify(h)};function fromDom(l,u){let p=l?transform(l,u||{}):void 0;return p||{type:"root",children:[]}}function transform(l,u){let p=function(l,u){switch(l.nodeType){case 1:return function(l,u){let p=l.namespaceURI,h=p===ek.svg?eE:ev,g=p===ek.html?l.tagName.toLowerCase():l.tagName,T=p===ek.html&&"template"===g?l.content:l,E=l.getAttributeNames(),v={},C=-1;for(;++C<E.length;)v[E[C]]=l.getAttribute(E[C])||"";return h(g,v,hast_util_from_dom_lib_all(T,u))}(l,u);case 3:return{type:"text",value:l.nodeValue||""};case 8:return{type:"comment",value:l.nodeValue||""};case 9:case 11:return{type:"root",children:hast_util_from_dom_lib_all(l,u)};case 10:return{type:"doctype"};default:return}}(l,u);return p&&u.afterTransform&&u.afterTransform(l,p),p}function hast_util_from_dom_lib_all(l,u){let p=l.childNodes,h=[],g=-1;for(;++g<p.length;){let l=transform(p[g],u);void 0!==l&&h.push(l)}return h}let e6=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,e3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,e7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,tn=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,tr=e0.vc.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:l=>"normal"!==l.style.fontWeight&&null},{style:"font-weight",getAttrs:l=>/^(bold(er)?|[5-9]\d{2,})$/.test(l)&&null}],renderHTML({HTMLAttributes:l}){return["strong",(0,e0.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{setBold:()=>({commands:l})=>l.setMark(this.name),toggleBold:()=>({commands:l})=>l.toggleMark(this.name),unsetBold:()=>({commands:l})=>l.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,e0.Cf)({find:e6,type:this.type}),(0,e0.Cf)({find:e7,type:this.type})]},addPasteRules(){return[(0,e0.K9)({find:e3,type:this.type}),(0,e0.K9)({find:tn,type:this.type})]}});var ti=p(55160);let tl=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,tc=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,tu=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,td=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,tp=e0.vc.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:l=>"normal"!==l.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:l}){return["em",(0,e0.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{setItalic:()=>({commands:l})=>l.setMark(this.name),toggleItalic:()=>({commands:l})=>l.toggleMark(this.name),unsetItalic:()=>({commands:l})=>l.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,e0.Cf)({find:tl,type:this.type}),(0,e0.Cf)({find:tu,type:this.type})]},addPasteRules(){return[(0,e0.K9)({find:tc,type:this.type}),(0,e0.K9)({find:td,type:this.type})]}}),th=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,tf=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tm=e0.vc.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:l=>!!l.includes("line-through")&&{}}],renderHTML({HTMLAttributes:l}){return["s",(0,e0.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{setStrike:()=>({commands:l})=>l.setMark(this.name),toggleStrike:()=>({commands:l})=>l.toggleMark(this.name),unsetStrike:()=>({commands:l})=>l.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,e0.Cf)({find:th,type:this.type})]},addPasteRules(){return[(0,e0.K9)({find:tf,type:this.type})]}}),tg=e0.vc.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:l=>!!l.includes("underline")&&{}}],renderHTML({HTMLAttributes:l}){return["u",(0,e0.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{setUnderline:()=>({commands:l})=>l.setMark(this.name),toggleUnderline:()=>({commands:l})=>l.toggleMark(this.name),unsetUnderline:()=>({commands:l})=>l.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),ty=e0.NB.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:l=>{let u=l.getAttribute("colwidth"),p=u?[parseInt(u,10)]:null;return p}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:l}){return["td",(0,e0.P1)(this.options.HTMLAttributes,l),0]}}),tb=e0.NB.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:l=>{let u=l.getAttribute("colwidth"),p=u?[parseInt(u,10)]:null;return p}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:l}){return["th",(0,e0.P1)(this.options.HTMLAttributes,l),0]}}),tT=e0.NB.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:l}){return["tr",(0,e0.P1)(this.options.HTMLAttributes,l),0]}});var tE=p(17712),tv=p(49487),tk=p(98647);if("undefined"!=typeof WeakMap){let l=new WeakMap;v=u=>l.get(u),C=(u,p)=>(l.set(u,p),p)}else{let l=[],u=0;v=u=>{for(let p=0;p<l.length;p+=2)if(l[p]==u)return l[p+1]},C=(p,h)=>(10==u&&(u=0),l[u++]=p,l[u++]=h)}var tS=class{constructor(l,u,p,h){this.width=l,this.height=u,this.map=p,this.problems=h}findCell(l){for(let u=0;u<this.map.length;u++){let p=this.map[u];if(p!=l)continue;let h=u%this.width,g=u/this.width|0,T=h+1,E=g+1;for(let l=1;T<this.width&&this.map[u+l]==p;l++)T++;for(let l=1;E<this.height&&this.map[u+this.width*l]==p;l++)E++;return{left:h,top:g,right:T,bottom:E}}throw RangeError(`No cell with offset ${l} found`)}colCount(l){for(let u=0;u<this.map.length;u++)if(this.map[u]==l)return u%this.width;throw RangeError(`No cell with offset ${l} found`)}nextCell(l,u,p){let{left:h,right:g,top:T,bottom:E}=this.findCell(l);return"horiz"==u?(p<0?0==h:g==this.width)?null:this.map[T*this.width+(p<0?h-1:g)]:(p<0?0==T:E==this.height)?null:this.map[h+this.width*(p<0?T-1:E)]}rectBetween(l,u){let{left:p,right:h,top:g,bottom:T}=this.findCell(l),{left:E,right:v,top:C,bottom:x}=this.findCell(u);return{left:Math.min(p,E),top:Math.min(g,C),right:Math.max(h,v),bottom:Math.max(T,x)}}cellsInRect(l){let u=[],p={};for(let h=l.top;h<l.bottom;h++)for(let g=l.left;g<l.right;g++){let T=h*this.width+g,E=this.map[T];if(!p[E]){if(p[E]=!0,g==l.left&&g&&this.map[T-1]==E||h==l.top&&h&&this.map[T-this.width]==E)continue;u.push(E)}}return u}positionAt(l,u,p){for(let h=0,g=0;;h++){let T=g+p.child(h).nodeSize;if(h==l){let p=u+l*this.width,h=(l+1)*this.width;for(;p<h&&this.map[p]<g;)p++;return p==h?T-1:this.map[p]}g=T}}static get(l){return v(l)||C(l,function(l){if("table"!=l.type.spec.tableRole)throw RangeError("Not a table node: "+l.type.name);let u=function(l){let u=-1,p=!1;for(let h=0;h<l.childCount;h++){let g=l.child(h),T=0;if(p)for(let u=0;u<h;u++){let p=l.child(u);for(let l=0;l<p.childCount;l++){let g=p.child(l);u+g.attrs.rowspan>h&&(T+=g.attrs.colspan)}}for(let l=0;l<g.childCount;l++){let u=g.child(l);T+=u.attrs.colspan,u.attrs.rowspan>1&&(p=!0)}-1==u?u=T:u!=T&&(u=Math.max(u,T))}return u}(l),p=l.childCount,h=[],g=0,T=null,E=[];for(let l=0,g=u*p;l<g;l++)h[l]=0;for(let v=0,C=0;v<p;v++){let x=l.child(v);C++;for(let l=0;;l++){for(;g<h.length&&0!=h[g];)g++;if(l==x.childCount)break;let M=x.child(l),{colspan:O,rowspan:R,colwidth:L}=M.attrs;for(let l=0;l<R;l++){if(l+v>=p){(T||(T=[])).push({type:"overlong_rowspan",pos:C,n:R-l});break}let x=g+l*u;for(let l=0;l<O;l++){0==h[x+l]?h[x+l]=C:(T||(T=[])).push({type:"collision",row:v,pos:C,n:O-l});let p=L&&L[l];if(p){let h=(x+l)%u*2,g=E[h];null==g||g!=p&&1==E[h+1]?(E[h]=p,E[h+1]=1):g==p&&E[h+1]++}}}g+=O,C+=M.nodeSize}let M=(v+1)*u,O=0;for(;g<M;)0==h[g++]&&O++;O&&(T||(T=[])).push({type:"missing",row:v,n:O}),C++}let v=new tS(u,p,h,T),C=!1;for(let l=0;!C&&l<E.length;l+=2)null!=E[l]&&E[l+1]<p&&(C=!0);return C&&function(l,u,p){l.problems||(l.problems=[]);let h={};for(let g=0;g<l.map.length;g++){let T=l.map[g];if(h[T])continue;h[T]=!0;let E=p.nodeAt(T);if(!E)throw RangeError(`No cell with offset ${T} found`);let v=null,C=E.attrs;for(let p=0;p<C.colspan;p++){let h=(g+p)%l.width,T=u[2*h];null==T||C.colwidth&&C.colwidth[p]==T||((v||(v=function(l){if(l.colwidth)return l.colwidth.slice();let u=[];for(let p=0;p<l.colspan;p++)u.push(0);return u}(C)))[p]=T)}v&&l.problems.unshift({type:"colwidth mismatch",pos:T,colwidth:v})}}(v,E,l),v}(l))}};function tableNodeTypes(l){let u=l.cached.tableNodeTypes;if(!u)for(let p in u=l.cached.tableNodeTypes={},l.nodes){let h=l.nodes[p],g=h.spec.tableRole;g&&(u[g]=h)}return u}var tC=new e9.H$("selectingCells");function cellAround(l){for(let u=l.depth-1;u>0;u--)if("row"==l.node(u).type.spec.tableRole)return l.node(0).resolve(l.before(u+1));return null}function isInTable(l){let u=l.selection.$head;for(let l=u.depth;l>0;l--)if("row"==u.node(l).type.spec.tableRole)return!0;return!1}function selectionCell(l){let u=l.selection;if("$anchorCell"in u&&u.$anchorCell)return u.$anchorCell.pos>u.$headCell.pos?u.$anchorCell:u.$headCell;if("node"in u&&u.node&&"cell"==u.node.type.spec.tableRole)return u.$anchor;let p=cellAround(u.$head)||function(l){for(let u=l.nodeAfter,p=l.pos;u;u=u.firstChild,p++){let h=u.type.spec.tableRole;if("cell"==h||"header_cell"==h)return l.doc.resolve(p)}for(let u=l.nodeBefore,p=l.pos;u;u=u.lastChild,p--){let h=u.type.spec.tableRole;if("cell"==h||"header_cell"==h)return l.doc.resolve(p-u.nodeSize)}}(u.$head);if(p)return p;throw RangeError(`No cell found around position ${u.head}`)}function pointsAtCell(l){return"row"==l.parent.type.spec.tableRole&&!!l.nodeAfter}function inSameTable(l,u){return l.depth==u.depth&&l.pos>=u.start(-1)&&l.pos<=u.end(-1)}function nextCell(l,u,p){let h=l.node(-1),g=tS.get(h),T=l.start(-1),E=g.nextCell(l.pos-T,u,p);return null==E?null:l.node(0).resolve(T+E)}function removeColSpan(l,u,p=1){let h={...l,colspan:l.colspan-p};return h.colwidth&&(h.colwidth=h.colwidth.slice(),h.colwidth.splice(u,p),h.colwidth.some(l=>l>0)||(h.colwidth=null)),h}var tw=class _CellSelection extends e9.Y1{constructor(l,u=l){let p=l.node(-1),h=tS.get(p),g=l.start(-1),T=h.rectBetween(l.pos-g,u.pos-g),E=l.node(0),v=h.cellsInRect(T).filter(l=>l!=u.pos-g);v.unshift(u.pos-g);let C=v.map(l=>{let u=p.nodeAt(l);if(!u)throw RangeError(`No cell with offset ${l} found`);let h=g+l+1;return new e9.xm(E.resolve(h),E.resolve(h+u.content.size))});super(C[0].$from,C[0].$to,C),this.$anchorCell=l,this.$headCell=u}map(l,u){let p=l.resolve(u.map(this.$anchorCell.pos)),h=l.resolve(u.map(this.$headCell.pos));if(pointsAtCell(p)&&pointsAtCell(h)&&inSameTable(p,h)){let l=this.$anchorCell.node(-1)!=p.node(-1);return l&&this.isRowSelection()?_CellSelection.rowSelection(p,h):l&&this.isColSelection()?_CellSelection.colSelection(p,h):new _CellSelection(p,h)}return e9.Bs.between(p,h)}content(){let l=this.$anchorCell.node(-1),u=tS.get(l),p=this.$anchorCell.start(-1),h=u.rectBetween(this.$anchorCell.pos-p,this.$headCell.pos-p),g={},T=[];for(let p=h.top;p<h.bottom;p++){let E=[];for(let T=p*u.width+h.left,v=h.left;v<h.right;v++,T++){let p=u.map[T];if(g[p])continue;g[p]=!0;let v=u.findCell(p),C=l.nodeAt(p);if(!C)throw RangeError(`No cell with offset ${p} found`);let x=h.left-v.left,M=v.right-h.right;if(x>0||M>0){let l=C.attrs;if(x>0&&(l=removeColSpan(l,0,x)),M>0&&(l=removeColSpan(l,l.colspan-M,M)),v.left<h.left){if(!(C=C.type.createAndFill(l)))throw RangeError(`Could not create cell with attrs ${JSON.stringify(l)}`)}else C=C.type.create(l,C.content)}if(v.top<h.top||v.bottom>h.bottom){let l={...C.attrs,rowspan:Math.min(v.bottom,h.bottom)-Math.max(v.top,h.top)};C=v.top<h.top?C.type.createAndFill(l):C.type.create(l,C.content)}E.push(C)}T.push(l.child(p).copy(O.HY.from(E)))}let E=this.isColSelection()&&this.isRowSelection()?l:T;return new O.p2(O.HY.from(E),1,1)}replace(l,u=O.p2.empty){let p=l.steps.length,h=this.ranges;for(let g=0;g<h.length;g++){let{$from:T,$to:E}=h[g],v=l.mapping.slice(p);l.replace(v.map(T.pos),v.map(E.pos),g?O.p2.empty:u)}let g=e9.Y1.findFrom(l.doc.resolve(l.mapping.slice(p).map(this.to)),-1);g&&l.setSelection(g)}replaceWith(l,u){this.replace(l,new O.p2(O.HY.from(u),0,0))}forEachCell(l){let u=this.$anchorCell.node(-1),p=tS.get(u),h=this.$anchorCell.start(-1),g=p.cellsInRect(p.rectBetween(this.$anchorCell.pos-h,this.$headCell.pos-h));for(let p=0;p<g.length;p++)l(u.nodeAt(g[p]),h+g[p])}isColSelection(){let l=this.$anchorCell.index(-1),u=this.$headCell.index(-1);if(Math.min(l,u)>0)return!1;let p=l+this.$anchorCell.nodeAfter.attrs.rowspan,h=u+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(p,h)==this.$headCell.node(-1).childCount}static colSelection(l,u=l){let p=l.node(-1),h=tS.get(p),g=l.start(-1),T=h.findCell(l.pos-g),E=h.findCell(u.pos-g),v=l.node(0);return T.top<=E.top?(T.top>0&&(l=v.resolve(g+h.map[T.left])),E.bottom<h.height&&(u=v.resolve(g+h.map[h.width*(h.height-1)+E.right-1]))):(E.top>0&&(u=v.resolve(g+h.map[E.left])),T.bottom<h.height&&(l=v.resolve(g+h.map[h.width*(h.height-1)+T.right-1]))),new _CellSelection(l,u)}isRowSelection(){let l=this.$anchorCell.node(-1),u=tS.get(l),p=this.$anchorCell.start(-1),h=u.colCount(this.$anchorCell.pos-p),g=u.colCount(this.$headCell.pos-p);if(Math.min(h,g)>0)return!1;let T=h+this.$anchorCell.nodeAfter.attrs.colspan,E=g+this.$headCell.nodeAfter.attrs.colspan;return Math.max(T,E)==u.width}eq(l){return l instanceof _CellSelection&&l.$anchorCell.pos==this.$anchorCell.pos&&l.$headCell.pos==this.$headCell.pos}static rowSelection(l,u=l){let p=l.node(-1),h=tS.get(p),g=l.start(-1),T=h.findCell(l.pos-g),E=h.findCell(u.pos-g),v=l.node(0);return T.left<=E.left?(T.left>0&&(l=v.resolve(g+h.map[T.top*h.width])),E.right<h.width&&(u=v.resolve(g+h.map[h.width*(E.top+1)-1]))):(E.left>0&&(u=v.resolve(g+h.map[E.top*h.width])),T.right<h.width&&(l=v.resolve(g+h.map[h.width*(T.top+1)-1]))),new _CellSelection(l,u)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(l,u){return new _CellSelection(l.resolve(u.anchor),l.resolve(u.head))}static create(l,u,p=u){return new _CellSelection(l.resolve(u),l.resolve(p))}getBookmark(){return new tx(this.$anchorCell.pos,this.$headCell.pos)}};tw.prototype.visible=!1,e9.Y1.jsonID("cell",tw);var tx=class _CellBookmark{constructor(l,u){this.anchor=l,this.head=u}map(l){return new _CellBookmark(l.map(this.anchor),l.map(this.head))}resolve(l){let u=l.resolve(this.anchor),p=l.resolve(this.head);return"row"==u.parent.type.spec.tableRole&&"row"==p.parent.type.spec.tableRole&&u.index()<u.parent.childCount&&p.index()<p.parent.childCount&&inSameTable(u,p)?new tw(u,p):e9.Y1.near(p,1)}};function drawCellSelection(l){if(!(l.selection instanceof tw))return null;let u=[];return l.selection.forEachCell((l,p)=>{u.push(tE.p.node(p,p+l.nodeSize,{class:"selectedCell"}))}),tE.EH.create(l.doc,u)}var tA=new e9.H$("fix-tables");function fitSlice(l,u){let p=l.createAndFill(),h=new tk.wx(p).replace(0,p.content.size,u);return h.doc}function isolateHorizontal(l,u,p,h,g,T,E,v){if(0==E||E==u.height)return!1;let C=!1;for(let x=g;x<T;x++){let g=E*u.width+x,T=u.map[g];if(u.map[g-u.width]==T){C=!0;let g=p.nodeAt(T),{top:M,left:O}=u.findCell(T);l.setNodeMarkup(l.mapping.slice(v).map(T+h),null,{...g.attrs,rowspan:E-M}),l.insert(l.mapping.slice(v).map(u.positionAt(E,O,p)),g.type.createAndFill({...g.attrs,rowspan:M+g.attrs.rowspan-E})),x+=g.attrs.colspan-1}}return C}function isolateVertical(l,u,p,h,g,T,E,v){if(0==E||E==u.width)return!1;let C=!1;for(let x=g;x<T;x++){let g=x*u.width+E,T=u.map[g];if(u.map[g-1]==T){C=!0;let g=p.nodeAt(T),M=u.colCount(T),O=l.mapping.slice(v).map(T+h);l.setNodeMarkup(O,null,removeColSpan(g.attrs,E-M,g.attrs.colspan-(E-M))),l.insert(O+g.nodeSize,g.type.createAndFill(removeColSpan(g.attrs,0,E-M))),x+=g.attrs.rowspan-1}}return C}function insertCells(l,u,p,h,g){let T=p?l.doc.nodeAt(p-1):l.doc;if(!T)throw Error("No table found");let E=tS.get(T),{top:v,left:C}=h,x=C+g.width,M=v+g.height,R=l.tr,L=0;function recomp(){if(!(T=p?R.doc.nodeAt(p-1):R.doc))throw Error("No table found");E=tS.get(T),L=R.mapping.maps.length}(function(l,u,p,h,g,T,E){let v,C;let x=l.doc.type.schema,M=tableNodeTypes(x);if(g>u.width)for(let T=0,x=0;T<u.height;T++){let O;let R=p.child(T);x+=R.nodeSize;let L=[];O=null==R.lastChild||R.lastChild.type==M.cell?v||(v=M.cell.createAndFill()):C||(C=M.header_cell.createAndFill());for(let l=u.width;l<g;l++)L.push(O);l.insert(l.mapping.slice(E).map(x-1+h),L)}if(T>u.height){let x=[];for(let l=0,h=(u.height-1)*u.width;l<Math.max(u.width,g);l++){let g=!(l>=u.width)&&p.nodeAt(u.map[h+l]).type==M.header_cell;x.push(g?C||(C=M.header_cell.createAndFill()):v||(v=M.cell.createAndFill()))}let R=M.row.create(null,O.HY.from(x)),L=[];for(let l=u.height;l<T;l++)L.push(R);l.insert(l.mapping.slice(E).map(h+p.nodeSize-2),L)}return!!(v||C)})(R,E,T,p,x,M,0)&&recomp(),isolateHorizontal(R,E,T,p,C,x,v,L)&&recomp(),isolateHorizontal(R,E,T,p,C,x,M,L)&&recomp(),isolateVertical(R,E,T,p,v,M,C,L)&&recomp(),isolateVertical(R,E,T,p,v,M,x,L)&&recomp();for(let l=v;l<M;l++){let u=E.positionAt(l,C,T),h=E.positionAt(l,x,T);R.replace(R.mapping.slice(L).map(u+p),R.mapping.slice(L).map(h+p),new O.p2(g.rows[l-v],0,0))}recomp(),R.setSelection(new tw(R.doc.resolve(p+E.positionAt(v,C,T)),R.doc.resolve(p+E.positionAt(M-1,x-1,T)))),u(R)}var t_=(0,tv.$)({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1),"Shift-ArrowLeft":shiftArrow("horiz",-1),"Shift-ArrowRight":shiftArrow("horiz",1),"Shift-ArrowUp":shiftArrow("vert",-1),"Shift-ArrowDown":shiftArrow("vert",1),Backspace:deleteCellSelection,"Mod-Backspace":deleteCellSelection,Delete:deleteCellSelection,"Mod-Delete":deleteCellSelection});function maybeSetSelection(l,u,p){return!p.eq(l.selection)&&(u&&u(l.tr.setSelection(p).scrollIntoView()),!0)}function arrow(l,u){return(p,h,g)=>{if(!g)return!1;let T=p.selection;if(T instanceof tw)return maybeSetSelection(p,h,e9.Y1.near(T.$headCell,u));if("horiz"!=l&&!T.empty)return!1;let E=atEndOfCell(g,l,u);if(null==E)return!1;if("horiz"==l)return maybeSetSelection(p,h,e9.Y1.near(p.doc.resolve(T.head+u),u));{let g;let T=p.doc.resolve(E),v=nextCell(T,l,u);return g=v?e9.Y1.near(v,1):u<0?e9.Y1.near(p.doc.resolve(T.before(-1)),-1):e9.Y1.near(p.doc.resolve(T.after(-1)),1),maybeSetSelection(p,h,g)}}}function shiftArrow(l,u){return(p,h,g)=>{let T;if(!g)return!1;let E=p.selection;if(E instanceof tw)T=E;else{let h=atEndOfCell(g,l,u);if(null==h)return!1;T=new tw(p.doc.resolve(h))}let v=nextCell(T.$headCell,l,u);return!!v&&maybeSetSelection(p,h,new tw(T.$anchorCell,v))}}function deleteCellSelection(l,u){let p=l.selection;if(!(p instanceof tw))return!1;if(u){let h=l.tr,g=tableNodeTypes(l.schema).cell.createAndFill().content;p.forEachCell((l,u)=>{l.content.eq(g)||h.replace(h.mapping.map(u+1),h.mapping.map(u+l.nodeSize-1),new O.p2(g,0,0))}),h.docChanged&&u(h)}return!0}function handleTripleClick(l,u){let p=l.state.doc,h=cellAround(p.resolve(u));return!!h&&(l.dispatch(l.state.tr.setSelection(new tw(h))),!0)}function handlePaste(l,u,p){if(!isInTable(l.state))return!1;let h=function(l){if(!l.size)return null;let{content:u,openStart:p,openEnd:h}=l;for(;1==u.childCount&&(p>0&&h>0||"table"==u.child(0).type.spec.tableRole);)p--,h--,u=u.child(0).content;let g=u.child(0),T=g.type.spec.tableRole,E=g.type.schema,v=[];if("row"==T)for(let l=0;l<u.childCount;l++){let g=u.child(l).content,T=l?0:Math.max(0,p-1),C=l<u.childCount-1?0:Math.max(0,h-1);(T||C)&&(g=fitSlice(tableNodeTypes(E).row,new O.p2(g,T,C)).content),v.push(g)}else{if("cell"!=T&&"header_cell"!=T)return null;v.push(p||h?fitSlice(tableNodeTypes(E).row,new O.p2(u,p,h)).content:u)}return function(l,u){let p=[];for(let l=0;l<u.length;l++){let h=u[l];for(let u=h.childCount-1;u>=0;u--){let{rowspan:g,colspan:T}=h.child(u).attrs;for(let u=l;u<l+g;u++)p[u]=(p[u]||0)+T}}let h=0;for(let l=0;l<p.length;l++)h=Math.max(h,p[l]);for(let g=0;g<p.length;g++)if(g>=u.length&&u.push(O.HY.empty),p[g]<h){let T=tableNodeTypes(l).cell.createAndFill(),E=[];for(let l=p[g];l<h;l++)E.push(T);u[g]=u[g].append(O.HY.from(E))}return{height:u.length,width:h,rows:u}}(E,v)}(p),g=l.state.selection;if(g instanceof tw){h||(h={width:1,height:1,rows:[O.HY.from(fitSlice(tableNodeTypes(l.state.schema).cell,p))]});let u=g.$anchorCell.node(-1),T=g.$anchorCell.start(-1),E=tS.get(u).rectBetween(g.$anchorCell.pos-T,g.$headCell.pos-T);return h=function({width:l,height:u,rows:p},h,g){if(l!=h){let u=[],g=[];for(let l=0;l<p.length;l++){let T=p[l],E=[];for(let p=u[l]||0,g=0;p<h;g++){let v=T.child(g%T.childCount);p+v.attrs.colspan>h&&(v=v.type.createChecked(removeColSpan(v.attrs,v.attrs.colspan,p+v.attrs.colspan-h),v.content)),E.push(v),p+=v.attrs.colspan;for(let p=1;p<v.attrs.rowspan;p++)u[l+p]=(u[l+p]||0)+v.attrs.colspan}g.push(O.HY.from(E))}p=g,l=h}if(u!=g){let l=[];for(let h=0,T=0;h<g;h++,T++){let E=[],v=p[T%u];for(let l=0;l<v.childCount;l++){let u=v.child(l);h+u.attrs.rowspan>g&&(u=u.type.create({...u.attrs,rowspan:Math.max(1,g-u.attrs.rowspan)},u.content)),E.push(u)}l.push(O.HY.from(E))}p=l,u=g}return{width:l,height:u,rows:p}}(h,E.right-E.left,E.bottom-E.top),insertCells(l.state,l.dispatch,T,E,h),!0}if(!h)return!1;{let u=selectionCell(l.state),p=u.start(-1);return insertCells(l.state,l.dispatch,p,tS.get(u.node(-1)).findCell(u.pos-p),h),!0}}function handleMouseDown(l,u){var p;let h;if(u.ctrlKey||u.metaKey)return;let g=domInCell(l,u.target);if(u.shiftKey&&l.state.selection instanceof tw)setCellSelection(l.state.selection.$anchorCell,u),u.preventDefault();else if(u.shiftKey&&g&&null!=(h=cellAround(l.state.selection.$anchor))&&(null==(p=cellUnderMouse(l,u))?void 0:p.pos)!=h.pos)setCellSelection(h,u),u.preventDefault();else if(!g)return;function setCellSelection(u,p){let h=cellUnderMouse(l,p),g=null==tC.getState(l.state);if(!h||!inSameTable(u,h)){if(!g)return;h=u}let T=new tw(u,h);if(g||!l.state.selection.eq(T)){let p=l.state.tr.setSelection(T);g&&p.setMeta(tC,u.pos),l.dispatch(p)}}function stop(){l.root.removeEventListener("mouseup",stop),l.root.removeEventListener("dragstart",stop),l.root.removeEventListener("mousemove",move),null!=tC.getState(l.state)&&l.dispatch(l.state.tr.setMeta(tC,-1))}function move(p){let h;let T=tC.getState(l.state);if(null!=T)h=l.state.doc.resolve(T);else if(domInCell(l,p.target)!=g&&!(h=cellUnderMouse(l,u)))return stop();h&&setCellSelection(h,p)}l.root.addEventListener("mouseup",stop),l.root.addEventListener("dragstart",stop),l.root.addEventListener("mousemove",move)}function atEndOfCell(l,u,p){if(!(l.state.selection instanceof e9.Bs))return null;let{$head:h}=l.state.selection;for(let g=h.depth-1;g>=0;g--){let T=h.node(g),E=p<0?h.index(g):h.indexAfter(g);if(E!=(p<0?0:T.childCount))break;if("cell"==T.type.spec.tableRole||"header_cell"==T.type.spec.tableRole){let T=h.before(g),E="vert"==u?p>0?"down":"up":p>0?"right":"left";return l.endOfTextblock(E)?T:null}}return null}function domInCell(l,u){for(;u&&u!=l.dom;u=u.parentNode)if("TD"==u.nodeName||"TH"==u.nodeName)return u;return null}function cellUnderMouse(l,u){let p=l.posAtCoords({left:u.clientX,top:u.clientY});return p&&p?cellAround(l.state.doc.resolve(p.pos)):null}var tN=class{constructor(l,u){this.node=l,this.cellMinWidth=u,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),updateColumnsOnResize(l,this.colgroup,this.table,u),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(l){return l.type==this.node.type&&(this.node=l,updateColumnsOnResize(l,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(l){return"attributes"==l.type&&(l.target==this.table||this.colgroup.contains(l.target))}};function updateColumnsOnResize(l,u,p,h,g,T){var E;let v=0,C=!0,x=u.firstChild,M=l.firstChild;if(M){for(let l=0,p=0;l<M.childCount;l++){let{colspan:E,colwidth:O}=M.child(l).attrs;for(let l=0;l<E;l++,p++){let E=g==p?T:O&&O[l],M=E?E+"px":"";v+=E||h,E||(C=!1),x?(x.style.width!=M&&(x.style.width=M),x=x.nextSibling):u.appendChild(document.createElement("col")).style.width=M}}for(;x;){let l=x.nextSibling;null==(E=x.parentNode)||E.removeChild(x),x=l}C?(p.style.width=v+"px",p.style.minWidth=""):(p.style.width="",p.style.minWidth=v+"px")}}var tM=new e9.H$("tableColumnResizing"),tO=class _ResizeState{constructor(l,u){this.activeHandle=l,this.dragging=u}apply(l){let u=l.getMeta(tM);if(u&&null!=u.setHandle)return new _ResizeState(u.setHandle,!1);if(u&&void 0!==u.setDragging)return new _ResizeState(this.activeHandle,u.setDragging);if(this.activeHandle>-1&&l.docChanged){let u=l.mapping.map(this.activeHandle,-1);return pointsAtCell(l.doc.resolve(u))||(u=-1),new _ResizeState(u,this.dragging)}return this}};function edgeCell(l,u,p,h){let g=l.posAtCoords({left:u.clientX+("right"==p?-h:h),top:u.clientY});if(!g)return -1;let{pos:T}=g,E=cellAround(l.state.doc.resolve(T));if(!E)return -1;if("right"==p)return E.pos;let v=tS.get(E.node(-1)),C=E.start(-1),x=v.map.indexOf(E.pos-C);return x%v.width==0?-1:C+v.map[x-1]}function draggedWidth(l,u,p){let h=u.clientX-l.startX;return Math.max(p,l.startWidth+h)}function updateHandle(l,u){l.dispatch(l.state.tr.setMeta(tM,{setHandle:u}))}function selectedRect(l){let u=l.selection,p=selectionCell(l),h=p.node(-1),g=p.start(-1),T=tS.get(h),E=u instanceof tw?T.rectBetween(u.$anchorCell.pos-g,u.$headCell.pos-g):T.findCell(p.pos-g);return{...E,tableStart:g,map:T,table:h}}function isHeaderEnabledByType(l,u,p){let h=u.map.cellsInRect({left:0,top:0,right:"row"==l?u.map.width:1,bottom:"column"==l?u.map.height:1});for(let l=0;l<h.length;l++){let g=u.table.nodeAt(h[l]);if(g&&g.type!==p.header_cell)return!1}return!0}function toggleHeader(l,u){return(u=u||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(u,p){if(!isInTable(u))return!1;if(p){let h=tableNodeTypes(u.schema),g=selectedRect(u),T=u.tr,E=g.map.cellsInRect("column"==l?{left:g.left,top:0,right:g.right,bottom:g.map.height}:"row"==l?{left:0,top:g.top,right:g.map.width,bottom:g.bottom}:g),v=E.map(l=>g.table.nodeAt(l));for(let l=0;l<E.length;l++)v[l].type==h.header_cell&&T.setNodeMarkup(g.tableStart+E[l],h.cell,v[l].attrs);if(0==T.steps.length)for(let l=0;l<E.length;l++)T.setNodeMarkup(g.tableStart+E[l],h.header_cell,v[l].attrs);p(T)}return!0}:function(u,p){if(!isInTable(u))return!1;if(p){let h=tableNodeTypes(u.schema),g=selectedRect(u),T=u.tr,E=isHeaderEnabledByType("row",g,h),v=isHeaderEnabledByType("column",g,h),C="column"===l?E:"row"===l&&v,x=C?1:0,M="column"==l?{left:0,top:x,right:1,bottom:g.map.height}:"row"==l?{left:x,top:0,right:g.map.width,bottom:1}:g,O="column"==l?v?h.cell:h.header_cell:"row"==l?E?h.cell:h.header_cell:h.cell;g.map.cellsInRect(M).forEach(l=>{let u=l+g.tableStart,p=T.doc.nodeAt(u);p&&T.setNodeMarkup(u,O,p.attrs)}),p(T)}return!0}}toggleHeader("row",{useDeprecatedLogic:!0}),toggleHeader("column",{useDeprecatedLogic:!0}),toggleHeader("cell",{useDeprecatedLogic:!0});let isElement=function(l,u,p,h,g){let T=convertElement(u);if(null!=p&&("number"!=typeof p||p<0||p===Number.POSITIVE_INFINITY))throw Error("Expected positive finite index for child node");if(null!=h&&(!h.type||!h.children))throw Error("Expected parent node");if(!l||!l.type||"string"!=typeof l.type)return!1;if(null==h!=(null==p))throw Error("Expected both parent and index");return T.call(g,l,p,h)},convertElement=function(l){if(null==l)return hast_util_is_element_element;if("string"==typeof l)return function(u){return hast_util_is_element_element(u)&&u.tagName===l};if("object"==typeof l)return function(l){let u=[],p=-1;for(;++p<l.length;)u[p]=convertElement(l[p]);return castFactory(function(...l){let p=-1;for(;++p<u.length;)if(u[p].call(this,...l))return!0;return!1})}(l);if("function"==typeof l)return castFactory(l);throw Error("Expected function, string, or array as test")};function castFactory(l){return function(u,...p){return hast_util_is_element_element(u)&&!!l.call(this,u,...p)}}function hast_util_is_element_element(l){return!!(l&&"object"==typeof l&&"element"===l.type&&"string"==typeof l.tagName)}let tI=convertElement(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),convert=function(l){if(null==l)return ok;if("string"==typeof l)return lib_castFactory(function(u){return u&&u.type===l});if("object"==typeof l)return Array.isArray(l)?function(l){let u=[],p=-1;for(;++p<l.length;)u[p]=convert(l[p]);return lib_castFactory(function(...l){let p=-1;for(;++p<u.length;)if(u[p].call(this,...l))return!0;return!1})}(l):lib_castFactory(function(u){let p;for(p in l)if(u[p]!==l[p])return!1;return!0});if("function"==typeof l)return lib_castFactory(l);throw Error("Expected function, string, or object as test")};function lib_castFactory(l){return function(u,...p){return!!(u&&"object"==typeof u&&"type"in u&&l.call(this,u,...p))}}function ok(){return!0}let tR=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],tL=["button","input","select","textarea"],tP=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],tD=convert(["doctype","comment"]);function rehype_minify_whitespace_content(l){return tI(l)||isElement(l,tL)}function removable(l){return" "===l||"\n"===l}function replaceNewlines(l){let u=/\r?\n|\r/.exec(l);return u?u[0]:" "}function replaceWhitespace(){return" "}let lib_convert=function(l){if(null==l)return lib_ok;if("string"==typeof l)return unist_util_is_lib_castFactory(function(u){return u&&u.type===l});if("object"==typeof l)return Array.isArray(l)?function(l){let u=[],p=-1;for(;++p<l.length;)u[p]=lib_convert(l[p]);return unist_util_is_lib_castFactory(function(...l){let p=-1;for(;++p<u.length;)if(u[p].call(this,...l))return!0;return!1})}(l):unist_util_is_lib_castFactory(function(u){let p;for(p in l)if(u[p]!==l[p])return!1;return!0});if("function"==typeof l)return unist_util_is_lib_castFactory(l);throw Error("Expected function, string, or object as test")};function unist_util_is_lib_castFactory(l){return function(u,...p){return!!(u&&"object"==typeof u&&"type"in u&&l.call(this,u,...p))}}function lib_ok(){return!0}let tB="skip",visitParents=function(l,u,p,h){"function"==typeof u&&"function"!=typeof p&&(h=p,p=u,u=null);let g=lib_convert(u),T=h?-1:1;(function factory(l,E,v){let C=l&&"object"==typeof l?l:{};if("string"==typeof C.type){let u="string"==typeof C.tagName?C.tagName:"string"==typeof C.name?C.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+l.type+(u?"<"+u+">":"")+")"})}return visit;function visit(){var C;let x,M,O,R=[];if((!u||g(l,E,v[v.length-1]||null))&&!1===(R=Array.isArray(C=p(l,v))?C:"number"==typeof C?[!0,C]:[C])[0])return R;if(l.children&&R[0]!==tB)for(M=(h?l.children.length:-1)+T,O=v.concat(l);M>-1&&M<l.children.length;){if(!1===(x=factory(l.children[M],M,O)())[0])return x;M="number"==typeof x[1]?x[1]:M+T}return R}})(l,void 0,[])()},visit=function(l,u,p,h){"function"==typeof u&&"function"!=typeof p&&(h=p,p=u,u=null),visitParents(l,u,function(l,u){let h=u[u.length-1];return p(l,h?h.children.indexOf(l):null,h)},h)};function all_all(l,u){let p=u.children||[],h=[],g=-1;for(;++g<p.length;){let T=one_one(l,p[g],u);Array.isArray(T)?h.push(...T):T&&h.push(T)}let T=0,E=h.length;for(;T<E&&"break"===h[T].type;)T++;for(;E>T&&"break"===h[E-1].type;)E--;return 0===T&&E===h.length?h:h.slice(T,E)}let tH={}.hasOwnProperty;function wrapText(l,u){return l.wrapText?u:u.replace(/\r?\n|\r/g," ")}function one_one(l,u,p){let h;if("element"===u.type){if(u.properties&&"ignore"===u.properties.dataMdast)return;tH.call(l.handlers,u.tagName)&&(h=l.handlers[u.tagName])}else tH.call(l.handlers,u.type)&&(h=l.handlers[u.type]);return"function"==typeof h?h(l,u,p):"string"==typeof u.value?l(u,"text",wrapText(l,u.value)):all_all(l,u)}let tF={}.hasOwnProperty;function hasProperty(l,u){let p="string"==typeof u&&!!(l&&"object"==typeof l&&"type"in l)&&"element"===l.type&&l.properties&&tF.call(l.properties,u)&&l.properties[u];return null!=p&&!1!==p}let tU=new Set(["pingback","prefetch","stylesheet"]),tj=convertElement(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),tz=convertElement("meta"),unist_util_is_lib_convert=function(l){if(null==l)return unist_util_is_lib_ok;if("string"==typeof l)return node_modules_unist_util_is_lib_castFactory(function(u){return u&&u.type===l});if("object"==typeof l)return Array.isArray(l)?function(l){let u=[],p=-1;for(;++p<l.length;)u[p]=unist_util_is_lib_convert(l[p]);return node_modules_unist_util_is_lib_castFactory(function(...l){let p=-1;for(;++p<u.length;)if(u[p].call(this,...l))return!0;return!1})}(l):node_modules_unist_util_is_lib_castFactory(function(u){let p;for(p in l)if(u[p]!==l[p])return!1;return!0});if("function"==typeof l)return node_modules_unist_util_is_lib_castFactory(l);throw Error("Expected function, string, or object as test")};function node_modules_unist_util_is_lib_castFactory(l){return function(u,...p){return!!(u&&"object"==typeof u&&"type"in u&&l.call(this,u,...p))}}function unist_util_is_lib_ok(){return!0}let tV=unist_util_is_lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function wrap_wrap(l){return function runs(l,u,p){let h,g;let T=p||identity,E=function(l){let u,p=[],h=-1;for(;++h<l.length;)("delete"===(u=l[h]).type||"link"===u.type)&&wrapNeeded(u.children)?p=p.concat(function(l){return runs(l.children,function(u){let{children:p,...h}=l;return{...eQ(!0,{},h),children:u}},function(u){if("children"in u&&"children"in l){let{children:p,...h}=l;return{...u,children:[{...eQ(!0,{},h),children:u.children}]}}return{...u}})}(u)):p.push(u);return p}(l),v=[],C=-1;for(;++C<E.length;)wrap_phrasing(g=E[C])?(h||(h=[]),h.push(g)):(h&&(v=v.concat(u(h)),h=void 0),v=v.concat(T(g)));return h&&(v=v.concat(u(h))),v}(l,function(l){let u=l[0];return 1===l.length&&"text"===u.type&&(" "===u.value||"\n"===u.value)?[]:{type:"paragraph",children:l}})}function wrapNeeded(l){let u,p=-1;for(;++p<l.length;)if(!wrap_phrasing(u=l[p])||"children"in u&&wrapNeeded(u.children))return!0;return!1}function wrap_phrasing(l){var u,p;return l.data&&l.data.hName?!!("object"==typeof(p=u={type:"element",tagName:l.data.hName,properties:{},children:[]})&&"type"in p&&("text"===u.type||tj(u)||tI(u)||function(l){if(!isElement(l,"link"))return!1;if(hasProperty(l,"itemProp"))return!0;let u=l.properties||{},p=u.rel||[],h=-1;if(!Array.isArray(p)||0===p.length)return!1;for(;++h<p.length;)if(!tU.has(String(p[h])))return!1;return!0}(u)||tz(u)&&hasProperty(u,"itemProp"))):tV(l)}function identity(l){return l}function wrapChildren(l,u){return wrap_wrap(all_all(l,u))}function resolve(l,u){return null==u?"":l.frozenBaseUrl?String(new URL(u,l.frozenBaseUrl)):u}let hast_util_is_element_convertElement=function(l){if(null==l)return node_modules_hast_util_is_element_element;if("string"==typeof l)return function(u){return node_modules_hast_util_is_element_element(u)&&u.tagName===l};if("object"==typeof l)return function(l){let u=[],p=-1;for(;++p<l.length;)u[p]=hast_util_is_element_convertElement(l[p]);return hast_util_is_element_castFactory(function(...l){let p=-1;for(;++p<u.length;)if(u[p].call(this,...l))return!0;return!1})}(l);if("function"==typeof l)return hast_util_is_element_castFactory(l);throw Error("Expected function, string, or array as test")};function hast_util_is_element_castFactory(l){return function(u,...p){return node_modules_hast_util_is_element_element(u)&&!!l.call(this,u,...p)}}function node_modules_hast_util_is_element_element(l){return!!(l&&"object"==typeof l&&"element"===l.type&&"string"==typeof l.tagName)}let node_modules_unist_util_is_lib_convert=function(l){if(null==l)return node_modules_unist_util_is_lib_ok;if("string"==typeof l)return unist_util_find_after_node_modules_unist_util_is_lib_castFactory(function(u){return u&&u.type===l});if("object"==typeof l)return Array.isArray(l)?function(l){let u=[],p=-1;for(;++p<l.length;)u[p]=node_modules_unist_util_is_lib_convert(l[p]);return unist_util_find_after_node_modules_unist_util_is_lib_castFactory(function(...l){let p=-1;for(;++p<u.length;)if(u[p].call(this,...l))return!0;return!1})}(l):unist_util_find_after_node_modules_unist_util_is_lib_castFactory(function(u){let p;for(p in l)if(u[p]!==l[p])return!1;return!0});if("function"==typeof l)return unist_util_find_after_node_modules_unist_util_is_lib_castFactory(l);throw Error("Expected function, string, or object as test")};function unist_util_find_after_node_modules_unist_util_is_lib_castFactory(l){return function(u,...p){return!!(u&&"object"==typeof u&&"type"in u&&l.call(this,u,...p))}}function node_modules_unist_util_is_lib_ok(){return!0}let findAfter=function(l,u,p){let h=node_modules_unist_util_is_lib_convert(p);if(!l||!l.type||!l.children)throw Error("Expected parent node");if("number"==typeof u){if(u<0||u===Number.POSITIVE_INFINITY)throw Error("Expected positive finite number as index")}else if((u=l.children.indexOf(u))<0)throw Error("Expected child node or index");for(;++u<l.children.length;)if(h(l.children[u],u,l))return l.children[u];return null},t$=/\n/g,tG=/[\t ]+/g,tK=hast_util_is_element_convertElement("br"),tW=hast_util_is_element_convertElement("p"),tq=hast_util_is_element_convertElement(["th","td"]),tY=hast_util_is_element_convertElement("tr"),tQ=hast_util_is_element_convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(l){return!!(l.properties||{}).hidden},function(l){return"dialog"===l.tagName&&!(l.properties||{}).open}]),tJ=hast_util_is_element_convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(l,u={}){let p;let h="children"in l?l.children:[],g=tJ(l),T=inferWhitespace(l,{whitespace:u.whitespace||"normal",breakBefore:!1,breakAfter:!1}),E=[];("text"===l.type||"comment"===l.type)&&E.push(...collectText(l,{whitespace:T,breakBefore:!0,breakAfter:!0}));let v=-1;for(;++v<h.length;)E.push(...function innerTextCollection(l,u,p){return"element"===l.type?function(l,u,p){let h,g;let T=inferWhitespace(l,p),E=l.children||[],v=-1,C=[];if(tQ(l))return C;for(tK(l)?g="\n":tY(l)&&findAfter(u,l,tY)?g="\n":tW(l)?(h=2,g=2):tJ(l)&&(h=1,g=1);++v<E.length;)C=C.concat(innerTextCollection(E[v],l,{whitespace:T,breakBefore:v?void 0:h,breakAfter:v<E.length-1?tK(E[v+1]):g}));return tq(l)&&findAfter(u,l,tq)&&C.push("	"),h&&C.unshift(h),g&&C.push(g),C}(l,u,p):"text"===l.type?"normal"===p.whitespace?collectText(l,p):[String(l.value)]:[]}(h[v],l,{whitespace:T,breakBefore:v?void 0:g,breakAfter:v<h.length-1?tK(h[v+1]):g}));let C=[];for(v=-1;++v<E.length;){let l=E[v];"number"==typeof l?void 0!==p&&l>p&&(p=l):l&&(void 0!==p&&p>-1&&C.push("\n".repeat(p)||" "),p=-1,C.push(l))}return C.join("")}function collectText(l,u){let p;let h=String(l.value),g=[],T=[],E=0;for(;E<=h.length;){t$.lastIndex=E;let l=t$.exec(h),p=l&&"index"in l?l.index:h.length;g.push(function(l,u,p){let h;let g=[],T=0;for(;T<l.length;){tG.lastIndex=T;let p=tG.exec(l);h=p?p.index:l.length,T||h||!p||u||g.push(""),T!==h&&g.push(l.slice(T,h)),T=p?h+p[0].length:h}return T===h||p||g.push(""),g.join(" ")}(h.slice(E,p).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),0!==E||u.breakBefore,p!==h.length||u.breakAfter)),E=p+1}let v=-1;for(;++v<g.length;)8203===g[v].charCodeAt(g[v].length-1)||v<g.length-1&&8203===g[v+1].charCodeAt(0)?(T.push(g[v]),p=void 0):g[v]?("number"==typeof p&&T.push(p),T.push(g[v]),p=0):(0===v||v===g.length-1)&&T.push(0);return T}function inferWhitespace(l,u){if("element"===l.type){let p=l.properties||{};switch(l.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return p.wrap?"pre-wrap":"pre";case"td":case"th":return p.noWrap?"nowrap":u.whitespace;case"textarea":return"pre-wrap"}}return u.whitespace}let tX="language-",tZ=convertElement("pre"),t1=convertElement("code");function code(l,u){let p,h;let g=u.children,T=-1;if(tZ(u))for(;++T<g.length;){let l=g[T];if(t1(l)&&l.properties&&l.properties.className&&Array.isArray(l.properties.className)){p=l.properties.className;break}}if(p){for(T=-1;++T<p.length;)if(String(p[T]).slice(0,tX.length)===tX){h=String(p[T]).slice(tX.length);break}}return l(u,"code",{lang:h||null,meta:null},function(l){let u=String(l),p=u.length;for(;p>0;){let l=u.codePointAt(p-1);if(void 0!==l&&(10===l||13===l))p--;else break}return u.slice(0,p)}(wrapText(l,toText(u))))}function del(l,u){return l(u,"delete",all_all(l,u))}function listItemsSpread(l){let u=-1;if(l.length>1){for(;++u<l.length;)if(l[u].spread)return!0}return!1}function wrapListItems(l,u){let p=all_all(l,u),h=-1;for(;++h<p.length;){let l=p[h];"listItem"!==l.type&&(p[h]={type:"listItem",spread:!1,checked:null,children:[l]})}return p}let t0=convertElement("div"),t9=convertElement("dt"),t5=convertElement("dd");function dl_handle(l,u){let p=wrapListItems(l,{type:"element",tagName:"x",children:u});return 0===p.length?[]:1===p.length?p[0].children:[{type:"list",ordered:!1,start:null,spread:listItemsSpread(p),children:p}]}function em(l,u){return l(u,"emphasis",all_all(l,u))}function heading(l,u){let p=Number(u.tagName.charAt(1))||1,h=l.wrapText;l.wrapText=!1;let g=l(u,"heading",{depth:p},all_all(l,u));return l.wrapText=h,g}function img(l,u){let p=u.properties;return l(u,"image",{url:resolve(l,String(p.src||"")||null),title:p.title||null,alt:p.alt||""})}function inlineCode(l,u){return l(u,"inlineCode",wrapText(l,toText(u)))}let t4=convertElement("option");function findSelectedOptions(l,u,p){let h=p||u.properties,g=function findOptions(l){let u;let p=l.children,h=-1,g=[];for(;++h<p.length;)Array.isArray((u=p[h]).children)&&(g=g.concat(findOptions(u))),t4(u)&&!hasProperty(u,"disabled")&&g.push(u);return g}(u),T=Math.min(Number.parseInt(String(h.size),10),0)||(h.multiple?4:1),E=-1,v=[],C=[];for(;++E<g.length;)hasProperty(g[E],"selected")&&v.push(g[E]);let x=v.length>0?v:g;for(g=x.slice(0,T),E=-1;++E<g.length;){let u=g[E],p=wrapText(l,toText(u)),h=u.properties,T=p||String(h.label||""),v=String(h.value||"")||p;C.push([v,T===v?null:T])}return C}let t2=convertElement("datalist"),t8=convertElement("p"),t6=convertElement("input");function li_li(l,u){let p,h;let g=u.children[0],T=null;t8(g)&&t6(p=g.children[0])&&p.properties&&("checkbox"===p.properties.type||"radio"===p.properties.type)&&(T=!!p.properties.checked,h={...u,children:[{...g,children:g.children.slice(1)},...u.children.slice(1)]});let E=wrapChildren(l,h||u);return l(u,"listItem",{spread:E.length>1,checked:T},E)}let t3=convertElement("ol");function list_list(l,u){let p=t3(u),h=wrapListItems(l,u),g=null;return p&&(g=hasProperty(u,"start")?Number.parseInt(String(u.properties.start),10):1),l(u,"list",{ordered:p,start:g,spread:listItemsSpread(h)},h)}let t7={};function lib_toString(l,u){let p=u||t7,h="boolean"!=typeof p.includeImageAlt||p.includeImageAlt,g="boolean"!=typeof p.includeHtml||p.includeHtml;return mdast_util_to_string_lib_one(l,h,g)}function mdast_util_to_string_lib_one(l,u,p){if(l&&"object"==typeof l){if("value"in l)return"html"!==l.type||p?l.value:"";if(u&&"alt"in l&&l.alt)return l.alt;if("children"in l)return mdast_util_to_string_lib_all(l.children,u,p)}return Array.isArray(l)?mdast_util_to_string_lib_all(l,u,p):""}function mdast_util_to_string_lib_all(l,u,p){let h=[],g=-1;for(;++g<l.length;)h[g]=mdast_util_to_string_lib_one(l[g],u,p);return h.join("")}let nt=convertElement("source"),nr=convertElement("video");function media(l,u){let p,h=all_all(l,u),g=u.properties,T=nr(u)&&String(g.poster||""),E=String(g.src||""),v=-1,C=!1;if(visit({type:"root",children:h},"link",function(){return C=!0,!1}),C||wrapNeeded(h))return h;for(;!E&&++v<u.children.length;)nt(p=u.children[v])&&(E=String(p.properties.src||""));return T&&(h=[{type:"image",title:null,url:resolve(l,T),alt:lib_toString({children:h})}]),{type:"link",title:u.properties.title||null,url:resolve(l,E),children:h}}function p_p(l,u){let p=all_all(l,u);if(p.length>0)return l(u,"paragraph",p)}function strong(l,u){return l(u,"strong",all_all(l,u))}function tableCell(l,u){let p=l.wrapText;l.wrapText=!1;let h=l(u,"tableCell",all_all(l,u));if(u.properties&&(u.properties.rowSpan||u.properties.colSpan)){let l=h.data||(h.data={});u.properties.rowSpan&&(l.rowSpan=u.properties.rowSpan),u.properties.colSpan&&(l.colSpan=u.properties.colSpan)}return l.wrapText=p,h}let ni=convertElement("thead"),no=convertElement("tr"),na=convertElement(["th","td"]),ns={root:function(l,u){let p=all_all(l,u);return(l.document||wrapNeeded(p))&&(p=wrap_wrap(p)),l(u,"root",p)},text:function(l,u){return l(u,"text",wrapText(l,u.value))},comment:function(l,u){return l(u,"html","<!--"+wrapText(l,u.value)+"-->")},doctype:ignore,applet:ignore,area:ignore,basefont:ignore,bgsound:ignore,caption:ignore,col:ignore,colgroup:ignore,command:ignore,content:ignore,datalist:ignore,dialog:ignore,element:ignore,embed:ignore,frame:ignore,frameset:ignore,isindex:ignore,keygen:ignore,link:ignore,math:ignore,menu:ignore,menuitem:ignore,meta:ignore,nextid:ignore,noembed:ignore,noframes:ignore,optgroup:ignore,option:ignore,param:ignore,script:ignore,shadow:ignore,source:ignore,spacer:ignore,style:ignore,svg:ignore,template:ignore,title:ignore,track:ignore,abbr:all_all,acronym:all_all,bdi:all_all,bdo:all_all,big:all_all,blink:all_all,button:all_all,canvas:all_all,cite:all_all,data:all_all,details:all_all,dfn:all_all,font:all_all,ins:all_all,label:all_all,map:all_all,marquee:all_all,meter:all_all,nobr:all_all,noscript:all_all,object:all_all,output:all_all,progress:all_all,rb:all_all,rbc:all_all,rp:all_all,rt:all_all,rtc:all_all,ruby:all_all,slot:all_all,small:all_all,span:all_all,sup:all_all,sub:all_all,tbody:all_all,tfoot:all_all,thead:all_all,time:all_all,address:wrapChildren,article:wrapChildren,aside:wrapChildren,body:wrapChildren,center:wrapChildren,div:wrapChildren,fieldset:wrapChildren,figcaption:wrapChildren,figure:wrapChildren,form:wrapChildren,footer:wrapChildren,header:wrapChildren,hgroup:wrapChildren,html:wrapChildren,legend:wrapChildren,main:wrapChildren,multicol:wrapChildren,nav:wrapChildren,picture:wrapChildren,section:wrapChildren,a:function(l,u){let p=u.properties;return l(u,"link",{title:p.title||null,url:resolve(l,String(p.href||"")||null)},all_all(l,u))},audio:media,b:strong,base:function(l,u){l.baseFound||(l.frozenBaseUrl=String(u.properties&&u.properties.href||"")||null,l.baseFound=!0)},blockquote:function(l,u){return l(u,"blockquote",wrapChildren(l,u))},br:function(l,u){return l.wrapText?l(u,"break"):l(u,"text"," ")},code:inlineCode,dir:list_list,dl:function(l,u){let p,h;let g=u.children,T=-1,E=[],v=[],C={titles:[],definitions:[]};for(;++T<g.length;)p=g[T],E=E.concat(t0(p)?p.children:p);for(T=-1;++T<E.length;)t9(p=E[T])?(t5(E[T-1])&&(v.push(C),C={titles:[],definitions:[]}),C.titles.push(p)):C.definitions.push(p);v.push(C),T=-1;let x=[];for(;++T<v.length;)(h=[...dl_handle(l,v[T].titles),...dl_handle(l,v[T].definitions)]).length>0&&x.push({type:"listItem",spread:h.length>1,checked:null,children:h});if(x.length>0)return l(u,"list",{ordered:!1,start:null,spread:listItemsSpread(x)},x)},dt:li_li,dd:li_li,del:del,em:em,h1:heading,h2:heading,h3:heading,h4:heading,h5:heading,h6:heading,hr:function(l,u){return l(u,"thematicBreak")},i:em,iframe:function(l,u){let p=u.properties,h=String(p.src||""),g=String(p.title||"");if(h&&g)return{type:"link",title:null,url:resolve(l,h),children:[{type:"text",value:wrapText(l,g)}]}},img:img,image:img,input:function(l,u){let p;let h=u.properties,g=String(h.value||h.placeholder||""),T=[],E=[],v=[],C=-1;if(!h.disabled&&"hidden"!==h.type&&"file"!==h.type){if("checkbox"===h.type||"radio"===h.type)return l(u,"text",wrapText(l,l[h.checked?"checked":"unchecked"]));if("image"===h.type)return h.alt||g?l(u,"image",{url:resolve(l,String(h.src||"")||null),title:wrapText(l,String(h.title||""))||null,alt:wrapText(l,String(h.alt||g))}):[];if(g?v=[[g,null]]:"password"!==h.type&&"file"!==h.type&&"submit"!==h.type&&"reset"!==h.type&&"button"!==h.type&&h.list&&(p=String(h.list).toUpperCase(),tH.call(l.nodeById,p)&&t2(l.nodeById[p])&&(v=findSelectedOptions(l,l.nodeById[p],h))),0!==v.length){if("password"===h.type&&(v[0]=["•".repeat(v[0][0].length),null]),"url"===h.type||"email"===h.type){for(;++C<v.length;)g=resolve(l,v[C][0]),T.push(l(u,"link",{title:null,url:wrapText(l,"email"===h.type?"mailto:"+g:g)},[{type:"text",value:wrapText(l,v[C][1]||g)}])),C!==v.length-1&&T.push({type:"text",value:", "});return T}for(;++C<v.length;)E.push(v[C][1]?v[C][1]+" ("+v[C][0]+")":v[C][0]);return l(u,"text",wrapText(l,E.join(", ")))}}},kbd:inlineCode,li:li_li,listing:code,mark:em,ol:list_list,p:p_p,plaintext:code,pre:code,q:function(l,u){let p=l.quotes[l.qNesting%l.quotes.length];l.qNesting++;let h=all_all(l,u);return l.qNesting--,h.unshift({type:"text",value:p.charAt(0)}),h.push({type:"text",value:p.length>1?p.charAt(1):p}),h},s:del,samp:inlineCode,select:function(l,u){let p;let h=findSelectedOptions(l,u),g=-1,T=[];for(;++g<h.length;)T.push((p=h[g])[1]?p[1]+" ("+p[0]+")":p[0]);if(T.length>0)return l(u,"text",wrapText(l,T.join(", ")))},strike:del,strong:strong,summary:p_p,table:function(l,u){if(l.inTable)return l(u,"text",wrapText(l,toText(u)));l.inTable=!0;let{headless:p,align:h}=function(l){let u=!0,p=0,h=0,g=[null];return visit(l,"element",T=>{if("table"===T.tagName&&l!==T)return tB;na(T)&&T.properties?(g[h]||(g[h]=String(T.properties.align||"")||null),u&&p<2&&"th"===T.tagName&&(u=!1),h++):ni(T)?u=!1:no(T)&&(p++,h=0)}),{align:g,headless:u}}(u),g=function(l,u){let p,h=-1,g=[];for(u&&g.push({type:"tableRow",children:[]});++h<l.length;){let u=l[h];"tableRow"===u.type?(p&&(u.children.unshift(...p),p=void 0),g.push(u)):(p||(p=[]),p.push(u))}for(p&&g[g.length-1].children.push(...p),h=-1;++h<g.length;)g[h].children=function(l){let u,p;let h=[],g=-1;for(;++g<l.length;)"tableCell"===(u=l[g]).type?(p&&(u.children.unshift(...p),p=void 0),h.push(u)):(p||(p=[]),p.push(u));return p&&((u=h[h.length-1])||h.push(u={type:"tableCell",children:[]}),u.children.push(...p)),h}(g[h].children);return g}(all_all(l,u),p),T=1,E=-1;for(;++E<g.length;){let l=g[E].children,u=-1;for(;++u<l.length;){let p=l[u];if(p.data){let l=Number.parseInt(String(p.data.colSpan),10)||1,h=Number.parseInt(String(p.data.rowSpan),10)||1;if(l>1||h>1){let p=E-1;for(;++p<E+h;){let h=u-1;for(;++h<u+l&&g[p];){let l=[];(p!==E||h!==u)&&l.push({type:"tableCell",children:[]}),g[p].children.splice(h,0,...l)}}}"colSpan"in p.data&&delete p.data.colSpan,"rowSpan"in p.data&&delete p.data.rowSpan,0===Object.keys(p.data).length&&delete p.data}}l.length>T&&(T=l.length)}for(E=-1;++E<g.length;){let l=g[E].children,u=l.length-1;for(;++u<T;)l.push({type:"tableCell",children:[]})}let v=h.length-1;for(;++v<T;)h.push(null);return l.inTable=!1,l(u,"table",{align:h},g)},td:tableCell,textarea:function(l,u){return l(u,"text",wrapText(l,toText(u)))},th:tableCell,tr:function(l,u){return l(u,"tableRow",all_all(l,u))},tt:inlineCode,u:em,ul:list_list,var:inlineCode,video:media,wbr:function(l,u){return l(u,"text","​")},xmp:code};function ignore(){}let nl=convert(["heading","paragraph","root"]);function toMdast(l,u={}){let p;let h={},g=Object.assign((l,u,p,h)=>{let g;"string"==typeof p||Array.isArray(p)?(h=p,g={}):g=p;let T={type:u,...g};return"string"==typeof h?T.value=h:h&&(T.children=h),l.position&&(T.position=l.position),T},{nodeById:h,baseFound:!1,inTable:!1,wrapText:!0,frozenBaseUrl:null,qNesting:0,handlers:u.handlers?{...ns,...u.handlers}:ns,document:u.document,checked:u.checked||"[x]",unchecked:u.unchecked||"[ ]",quotes:u.quotes||['"']});visit(l,"element",l=>{let u=l.properties&&"id"in l.properties&&String(l.properties.id).toUpperCase();u&&!tH.call(h,u)&&(h[u]=l)}),(function(l={}){var u;let p=(u=l.newlines?replaceNewlines:replaceWhitespace,function(l){return String(l).replace(/[\t\n\v\f\r ]+/g,u)});return l=>{(function minify(l,u){if("children"in l){let p=Object.assign({},u);return("root"===l.type||isElement(l,tR))&&(p.before=!0,p.after=!0),p.whitespace=function(l,u){if("tagName"in l&&l.properties)switch(l.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return l.properties.wrap?"pre-wrap":"pre";case"td":case"th":return l.properties.noWrap?"nowrap":u.whitespace;case"textarea":return"pre-wrap"}return u.whitespace}(l,u),function(l,u){let p=u.before,h=u.after,g=l.children,T=g.length,E=-1;for(;++E<T;){let l=minify(g[E],Object.assign({},u,{before:p,after:function collapsableAfter(l,u,p){for(;++u<l.length;){let p=l[u],h=function(l){if("element"===l.type){if(rehype_minify_whitespace_content(l))return!1;if(isElement(l,tR))return!0}else if("text"===l.type){if(!function(l){let u=l&&"object"==typeof l&&"text"===l.type?l.value||"":l;return"string"==typeof u&&""===u.replace(/[ \t\n\f\r]/g,"")}(l))return!1}else if(!tD(l))return!1}(p);if(void 0===h&&"children"in p&&!("properties"in p&&p.properties&&p.properties.hidden||tD(p)||isElement(p,tP))&&(h=collapsableAfter(p.children,-1)),"boolean"==typeof h)return h}return p}(g,E,h)}));l.remove?(g.splice(E,1),E--,T--):l.ignore||(p=l.stripAtStart),rehype_minify_whitespace_content(g[E])&&(p=!1)}return{remove:!1,ignore:!1,stripAtStart:!!(p||h)}}(l,p)}if("text"===l.type){if("normal"===u.whitespace)return function(l,u){let p=u.collapse(l.value),h={remove:!1,ignore:!1,stripAtStart:!1},g=0,T=p.length;return u.before&&removable(p.charAt(0))&&g++,g!==T&&removable(p.charAt(T-1))&&(u.after?T--:h.stripAtStart=!0),g===T?h.remove=!0:l.value=p.slice(g,T),h}(l,u);"nowrap"===u.whitespace&&(l.value=u.collapse(l.value))}return{remove:!1,ignore:tD(l),stripAtStart:!1}})(l,{collapse:p,whitespace:"normal"})}})({newlines:!0===u.newlines})(l);let T=one_one(g,l,void 0);return visit(p=T?Array.isArray(T)?{type:"root",children:T}:T:{type:"root",children:[]},"text",function(l,u,p){if(null===u||!p)return;let h=p.children[u-1];return h&&h.type===l.type?(h.value+=l.value,p.children.splice(u,1),h.position&&l.position&&(h.position.end=l.position.end),u-1):(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),p&&nl(p)&&(u||(l.value=l.value.replace(/^[\t ]+/,"")),u===p.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),l.value)?void 0:(p.children.splice(u,1),u)}),p}var lib=function(l,u){var p,h;let g,T;return"function"==typeof l?(T=l,g=u||{}):g=l||{},(void 0===g.document||null===g.document)&&(g=Object.assign({},g,{document:!0})),T?(p=T,h=g,(l,u,g)=>{p.run(toMdast(l,h),u,l=>{g(l)})}):function(l={}){return u=>{let p=toMdast(u,l);return p}}(g)};function splice(l,u,p,h){let g;let T=l.length,E=0;if(u=u<0?-u>T?0:T+u:u>T?T:u,p=p>0?p:0,h.length<1e4)(g=Array.from(h)).unshift(u,p),l.splice(...g);else for(p&&l.splice(u,p);E<h.length;)(g=h.slice(E,E+1e4)).unshift(u,0),l.splice(...g),E+=1e4,u+=1e4}function push(l,u){return l.length>0?(splice(l,l.length,0,u),l):u}let nc={}.hasOwnProperty;function combineExtensions(l){let u={},p=-1;for(;++p<l.length;)!function(l,u){let p;for(p in u){let h;let g=nc.call(l,p)?l[p]:void 0,T=g||(l[p]={}),E=u[p];if(E)for(h in E){nc.call(T,h)||(T[h]=[]);let l=E[h];!function(l,u){let p=-1,h=[];for(;++p<u.length;)("after"===u[p].add?l:h).push(u[p]);splice(l,0,0,h)}(T[h],Array.isArray(l)?l:l?[l]:[])}}}(u,l[p]);return u}let nu=regexCheck(/[A-Za-z]/),nd=regexCheck(/[\dA-Za-z]/),np=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(l){return null!==l&&(l<32||127===l)}let nh=regexCheck(/\d/),nf=regexCheck(/[\dA-Fa-f]/),nm=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(l){return null!==l&&l<-2}function markdownLineEndingOrSpace(l){return null!==l&&(l<0||32===l)}function markdownSpace(l){return -2===l||-1===l||32===l}let ng=regexCheck(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),ny=regexCheck(/\s/);function regexCheck(l){return function(u){return null!==u&&l.test(String.fromCharCode(u))}}let nb={tokenize:function(l,u,p){let h=0;return function wwwPrefixInside(u){return(87===u||119===u)&&h<3?(h++,l.consume(u),wwwPrefixInside):46===u&&3===h?(l.consume(u),wwwPrefixAfter):p(u)};function wwwPrefixAfter(l){return null===l?p(l):u(l)}},partial:!0},nT={tokenize:function(l,u,p){let h,g,T;return domainInside;function domainInside(u){return 46===u||95===u?l.check(nv,domainAfter,domainAtPunctuation)(u):null===u||markdownLineEndingOrSpace(u)||ny(u)||45!==u&&ng(u)?domainAfter(u):(T=!0,l.consume(u),domainInside)}function domainAtPunctuation(u){return 95===u?h=!0:(g=h,h=void 0),l.consume(u),domainInside}function domainAfter(l){return g||h||!T?p(l):u(l)}},partial:!0},nE={tokenize:function(l,u){let p=0,h=0;return pathInside;function pathInside(g){return 40===g?(p++,l.consume(g),pathInside):41===g&&h<p?pathAtPunctuation(g):33===g||34===g||38===g||39===g||41===g||42===g||44===g||46===g||58===g||59===g||60===g||63===g||93===g||95===g||126===g?l.check(nv,u,pathAtPunctuation)(g):null===g||markdownLineEndingOrSpace(g)||ny(g)?u(g):(l.consume(g),pathInside)}function pathAtPunctuation(u){return 41===u&&h++,l.consume(u),pathInside}},partial:!0},nv={tokenize:function(l,u,p){return trail;function trail(h){return 33===h||34===h||39===h||41===h||42===h||44===h||46===h||58===h||59===h||63===h||95===h||126===h?(l.consume(h),trail):38===h?(l.consume(h),trailCharRefStart):93===h?(l.consume(h),trailBracketAfter):60===h||null===h||markdownLineEndingOrSpace(h)||ny(h)?u(h):p(h)}function trailBracketAfter(l){return null===l||40===l||91===l||markdownLineEndingOrSpace(l)||ny(l)?u(l):trail(l)}function trailCharRefStart(u){return nu(u)?function trailCharRefInside(u){return 59===u?(l.consume(u),trail):nu(u)?(l.consume(u),trailCharRefInside):p(u)}(u):p(u)}},partial:!0},nk={tokenize:function(l,u,p){return function(u){return l.consume(u),after};function after(l){return nd(l)?p(l):u(l)}},partial:!0},nS={tokenize:function(l,u,p){let h=this;return function(u){return 87!==u&&119!==u||!previousWww.call(h,h.previous)||previousUnbalanced(h.events)?p(u):(l.enter("literalAutolink"),l.enter("literalAutolinkWww"),l.check(nb,l.attempt(nT,l.attempt(nE,wwwAfter),p),p)(u))};function wwwAfter(p){return l.exit("literalAutolinkWww"),l.exit("literalAutolink"),u(p)}},previous:previousWww},nC={tokenize:function(l,u,p){let h=this,g="",T=!1;return function(u){return(72===u||104===u)&&previousProtocol.call(h,h.previous)&&!previousUnbalanced(h.events)?(l.enter("literalAutolink"),l.enter("literalAutolinkHttp"),g+=String.fromCodePoint(u),l.consume(u),protocolPrefixInside):p(u)};function protocolPrefixInside(u){if(nu(u)&&g.length<5)return g+=String.fromCodePoint(u),l.consume(u),protocolPrefixInside;if(58===u){let p=g.toLowerCase();if("http"===p||"https"===p)return l.consume(u),protocolSlashesInside}return p(u)}function protocolSlashesInside(u){return 47===u?(l.consume(u),T)?afterProtocol:(T=!0,protocolSlashesInside):p(u)}function afterProtocol(u){return null===u||asciiControl(u)||markdownLineEndingOrSpace(u)||ny(u)||ng(u)?p(u):l.attempt(nT,l.attempt(nE,protocolAfter),p)(u)}function protocolAfter(p){return l.exit("literalAutolinkHttp"),l.exit("literalAutolink"),u(p)}},previous:previousProtocol},nw={tokenize:function(l,u,p){let h,g;let T=this;return function(u){return!gfmAtext(u)||!previousEmail.call(T,T.previous)||previousUnbalanced(T.events)?p(u):(l.enter("literalAutolink"),l.enter("literalAutolinkEmail"),function atext(u){return gfmAtext(u)?(l.consume(u),atext):64===u?(l.consume(u),emailDomain):p(u)}(u))};function emailDomain(u){return 46===u?l.check(nk,emailDomainAfter,emailDomainDot)(u):45===u||95===u||nd(u)?(g=!0,l.consume(u),emailDomain):emailDomainAfter(u)}function emailDomainDot(u){return l.consume(u),h=!0,emailDomain}function emailDomainAfter(E){return g&&h&&nu(T.previous)?(l.exit("literalAutolinkEmail"),l.exit("literalAutolink"),u(E)):p(E)}},previous:previousEmail},nx={},nA={text:nx},n_=48;for(;n_<123;)nx[n_]=nw,58==++n_?n_=65:91===n_&&(n_=97);function previousWww(l){return null===l||40===l||42===l||95===l||91===l||93===l||126===l||markdownLineEndingOrSpace(l)}function previousProtocol(l){return!nu(l)}function previousEmail(l){return!(47===l||gfmAtext(l))}function gfmAtext(l){return 43===l||45===l||46===l||95===l||nd(l)}function previousUnbalanced(l){let u=l.length,p=!1;for(;u--;){let h=l[u][1];if(("labelLink"===h.type||"labelImage"===h.type)&&!h._balanced){p=!0;break}if(h._gfmAutolinkLiteralWalkedInto){p=!1;break}}return l.length>0&&!p&&(l[l.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),p}function factorySpace(l,u,p,h){let g=h?h-1:Number.POSITIVE_INFINITY,T=0;return function(h){return markdownSpace(h)?(l.enter(p),function prefix(h){return markdownSpace(h)&&T++<g?(l.consume(h),prefix):(l.exit(p),u(h))}(h)):u(h)}}nx[43]=nw,nx[45]=nw,nx[46]=nw,nx[95]=nw,nx[72]=[nw,nC],nx[104]=[nw,nC],nx[87]=[nw,nS],nx[119]=[nw,nS];let nN={tokenize:function(l,u,p){return function(u){return markdownSpace(u)?factorySpace(l,after,"linePrefix")(u):after(u)};function after(l){return null===l||markdownLineEnding(l)?u(l):p(l)}},partial:!0};function normalizeIdentifier(l){return l.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let nM={tokenize:function(l,u,p){let h=this;return factorySpace(l,function(l){let g=h.events[h.events.length-1];return g&&"gfmFootnoteDefinitionIndent"===g[1].type&&4===g[2].sliceSerialize(g[1],!0).length?u(l):p(l)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function tokenizePotentialGfmFootnoteCall(l,u,p){let h;let g=this,T=g.events.length,E=g.parser.gfmFootnotes||(g.parser.gfmFootnotes=[]);for(;T--;){let l=g.events[T][1];if("labelImage"===l.type){h=l;break}if("gfmFootnoteCall"===l.type||"labelLink"===l.type||"label"===l.type||"image"===l.type||"link"===l.type)break}return function(T){if(!h||!h._balanced)return p(T);let v=normalizeIdentifier(g.sliceSerialize({start:h.end,end:g.now()}));return 94===v.codePointAt(0)&&E.includes(v.slice(1))?(l.enter("gfmFootnoteCallLabelMarker"),l.consume(T),l.exit("gfmFootnoteCallLabelMarker"),u(T)):p(T)}}function resolveToPotentialGfmFootnoteCall(l,u){let p=l.length;for(;p--;)if("labelImage"===l[p][1].type&&"enter"===l[p][0]){l[p][1];break}l[p+1][1].type="data",l[p+3][1].type="gfmFootnoteCallLabelMarker";let h={type:"gfmFootnoteCall",start:Object.assign({},l[p+3][1].start),end:Object.assign({},l[l.length-1][1].end)},g={type:"gfmFootnoteCallMarker",start:Object.assign({},l[p+3][1].end),end:Object.assign({},l[p+3][1].end)};g.end.column++,g.end.offset++,g.end._bufferIndex++;let T={type:"gfmFootnoteCallString",start:Object.assign({},g.end),end:Object.assign({},l[l.length-1][1].start)},E={type:"chunkString",contentType:"string",start:Object.assign({},T.start),end:Object.assign({},T.end)},v=[l[p+1],l[p+2],["enter",h,u],l[p+3],l[p+4],["enter",g,u],["exit",g,u],["enter",T,u],["enter",E,u],["exit",E,u],["exit",T,u],l[l.length-2],l[l.length-1],["exit",h,u]];return l.splice(p,l.length-p+1,...v),l}function tokenizeGfmFootnoteCall(l,u,p){let h;let g=this,T=g.parser.gfmFootnotes||(g.parser.gfmFootnotes=[]),E=0;return function(u){return l.enter("gfmFootnoteCall"),l.enter("gfmFootnoteCallLabelMarker"),l.consume(u),l.exit("gfmFootnoteCallLabelMarker"),callStart};function callStart(u){return 94!==u?p(u):(l.enter("gfmFootnoteCallMarker"),l.consume(u),l.exit("gfmFootnoteCallMarker"),l.enter("gfmFootnoteCallString"),l.enter("chunkString").contentType="string",callData)}function callData(v){if(E>999||93===v&&!h||null===v||91===v||markdownLineEndingOrSpace(v))return p(v);if(93===v){l.exit("chunkString");let h=l.exit("gfmFootnoteCallString");return T.includes(normalizeIdentifier(g.sliceSerialize(h)))?(l.enter("gfmFootnoteCallLabelMarker"),l.consume(v),l.exit("gfmFootnoteCallLabelMarker"),l.exit("gfmFootnoteCall"),u):p(v)}return markdownLineEndingOrSpace(v)||(h=!0),E++,l.consume(v),92===v?callEscape:callData}function callEscape(u){return 91===u||92===u||93===u?(l.consume(u),E++,callData):callData(u)}}function tokenizeDefinitionStart(l,u,p){let h,g;let T=this,E=T.parser.gfmFootnotes||(T.parser.gfmFootnotes=[]),v=0;return function(u){return l.enter("gfmFootnoteDefinition")._container=!0,l.enter("gfmFootnoteDefinitionLabel"),l.enter("gfmFootnoteDefinitionLabelMarker"),l.consume(u),l.exit("gfmFootnoteDefinitionLabelMarker"),labelAtMarker};function labelAtMarker(u){return 94===u?(l.enter("gfmFootnoteDefinitionMarker"),l.consume(u),l.exit("gfmFootnoteDefinitionMarker"),l.enter("gfmFootnoteDefinitionLabelString"),l.enter("chunkString").contentType="string",labelInside):p(u)}function labelInside(u){if(v>999||93===u&&!g||null===u||91===u||markdownLineEndingOrSpace(u))return p(u);if(93===u){l.exit("chunkString");let p=l.exit("gfmFootnoteDefinitionLabelString");return h=normalizeIdentifier(T.sliceSerialize(p)),l.enter("gfmFootnoteDefinitionLabelMarker"),l.consume(u),l.exit("gfmFootnoteDefinitionLabelMarker"),l.exit("gfmFootnoteDefinitionLabel"),labelAfter}return markdownLineEndingOrSpace(u)||(g=!0),v++,l.consume(u),92===u?labelEscape:labelInside}function labelEscape(u){return 91===u||92===u||93===u?(l.consume(u),v++,labelInside):labelInside(u)}function labelAfter(u){return 58===u?(l.enter("definitionMarker"),l.consume(u),l.exit("definitionMarker"),E.includes(h)||E.push(h),factorySpace(l,whitespaceAfter,"gfmFootnoteDefinitionWhitespace")):p(u)}function whitespaceAfter(l){return u(l)}}function tokenizeDefinitionContinuation(l,u,p){return l.check(nN,u,l.attempt(nM,u,p))}function gfmFootnoteDefinitionEnd(l){l.exit("gfmFootnoteDefinition")}function classifyCharacter(l){return null===l||markdownLineEndingOrSpace(l)||ny(l)?1:ng(l)?2:void 0}function resolveAll(l,u,p){let h=[],g=-1;for(;++g<l.length;){let T=l[g].resolveAll;T&&!h.includes(T)&&(u=T(u,p),h.push(T))}return u}let EditMap=class EditMap{constructor(){this.map=[]}add(l,u,p){!function(l,u,p,h){let g=0;if(0!==p||0!==h.length){for(;g<l.map.length;){if(l.map[g][0]===u){l.map[g][1]+=p,l.map[g][2].push(...h);return}g+=1}l.map.push([u,p,h])}}(this,l,u,p)}consume(l){if(this.map.sort((l,u)=>l[0]-u[0]),0===this.map.length)return;let u=this.map.length,p=[];for(;u>0;)u-=1,p.push(l.slice(this.map[u][0]+this.map[u][1])),p.push(this.map[u][2]),l.length=this.map[u][0];p.push([...l]),l.length=0;let h=p.pop();for(;h;)l.push(...h),h=p.pop();this.map.length=0}};let nO={flow:{null:{tokenize:function(l,u,p){let h;let g=this,T=0,E=0;return function(l){let u=g.events.length-1;for(;u>-1;){let l=g.events[u][1].type;if("lineEnding"===l||"linePrefix"===l)u--;else break}let h=u>-1?g.events[u][1].type:null,T="tableHead"===h||"tableRow"===h?bodyRowStart:headRowBefore;return T===bodyRowStart&&g.parser.lazy[g.now().line]?p(l):T(l)};function headRowBefore(u){return l.enter("tableHead"),l.enter("tableRow"),124===u||(h=!0,E+=1),headRowBreak(u)}function headRowBreak(u){return null===u?p(u):markdownLineEnding(u)?E>1?(E=0,g.interrupt=!0,l.exit("tableRow"),l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),headDelimiterStart):p(u):markdownSpace(u)?factorySpace(l,headRowBreak,"whitespace")(u):(E+=1,h&&(h=!1,T+=1),124===u)?(l.enter("tableCellDivider"),l.consume(u),l.exit("tableCellDivider"),h=!0,headRowBreak):(l.enter("data"),headRowData(u))}function headRowData(u){return null===u||124===u||markdownLineEndingOrSpace(u)?(l.exit("data"),headRowBreak(u)):(l.consume(u),92===u?headRowEscape:headRowData)}function headRowEscape(u){return 92===u||124===u?(l.consume(u),headRowData):headRowData(u)}function headDelimiterStart(u){return(g.interrupt=!1,g.parser.lazy[g.now().line])?p(u):(l.enter("tableDelimiterRow"),h=!1,markdownSpace(u))?factorySpace(l,headDelimiterBefore,"linePrefix",g.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):headDelimiterBefore(u)}function headDelimiterBefore(u){return 45===u||58===u?headDelimiterValueBefore(u):124===u?(h=!0,l.enter("tableCellDivider"),l.consume(u),l.exit("tableCellDivider"),headDelimiterCellBefore):p(u)}function headDelimiterCellBefore(u){return markdownSpace(u)?factorySpace(l,headDelimiterValueBefore,"whitespace")(u):headDelimiterValueBefore(u)}function headDelimiterValueBefore(u){return 58===u?(E+=1,h=!0,l.enter("tableDelimiterMarker"),l.consume(u),l.exit("tableDelimiterMarker"),headDelimiterLeftAlignmentAfter):45===u?(E+=1,headDelimiterLeftAlignmentAfter(u)):null===u||markdownLineEnding(u)?headDelimiterCellAfter(u):p(u)}function headDelimiterLeftAlignmentAfter(u){return 45===u?(l.enter("tableDelimiterFiller"),function headDelimiterFiller(u){return 45===u?(l.consume(u),headDelimiterFiller):58===u?(h=!0,l.exit("tableDelimiterFiller"),l.enter("tableDelimiterMarker"),l.consume(u),l.exit("tableDelimiterMarker"),headDelimiterRightAlignmentAfter):(l.exit("tableDelimiterFiller"),headDelimiterRightAlignmentAfter(u))}(u)):p(u)}function headDelimiterRightAlignmentAfter(u){return markdownSpace(u)?factorySpace(l,headDelimiterCellAfter,"whitespace")(u):headDelimiterCellAfter(u)}function headDelimiterCellAfter(g){return 124===g?headDelimiterBefore(g):null===g||markdownLineEnding(g)?h&&T===E?(l.exit("tableDelimiterRow"),l.exit("tableHead"),u(g)):p(g):p(g)}function bodyRowStart(u){return l.enter("tableRow"),bodyRowBreak(u)}function bodyRowBreak(p){return 124===p?(l.enter("tableCellDivider"),l.consume(p),l.exit("tableCellDivider"),bodyRowBreak):null===p||markdownLineEnding(p)?(l.exit("tableRow"),u(p)):markdownSpace(p)?factorySpace(l,bodyRowBreak,"whitespace")(p):(l.enter("data"),bodyRowData(p))}function bodyRowData(u){return null===u||124===u||markdownLineEndingOrSpace(u)?(l.exit("data"),bodyRowBreak(u)):(l.consume(u),92===u?bodyRowEscape:bodyRowData)}function bodyRowEscape(u){return 92===u||124===u?(l.consume(u),bodyRowData):bodyRowData(u)}},resolveAll:function(l,u){let p,h,g,T=-1,E=!0,v=0,C=[0,0,0,0],x=[0,0,0,0],M=!1,O=0,R=new EditMap;for(;++T<l.length;){let L=l[T],H=L[1];"enter"===L[0]?"tableHead"===H.type?(M=!1,0!==O&&(flushTableEnd(R,u,O,p,h),h=void 0,O=0),p={type:"table",start:Object.assign({},H.start),end:Object.assign({},H.end)},R.add(T,0,[["enter",p,u]])):"tableRow"===H.type||"tableDelimiterRow"===H.type?(E=!0,g=void 0,C=[0,0,0,0],x=[0,T+1,0,0],M&&(M=!1,h={type:"tableBody",start:Object.assign({},H.start),end:Object.assign({},H.end)},R.add(T,0,[["enter",h,u]])),v="tableDelimiterRow"===H.type?2:h?3:1):v&&("data"===H.type||"tableDelimiterMarker"===H.type||"tableDelimiterFiller"===H.type)?(E=!1,0===x[2]&&(0!==C[1]&&(x[0]=x[1],g=flushCell(R,u,C,v,void 0,g),C=[0,0,0,0]),x[2]=T)):"tableCellDivider"===H.type&&(E?E=!1:(0!==C[1]&&(x[0]=x[1],g=flushCell(R,u,C,v,void 0,g)),x=[(C=x)[1],T,0,0])):"tableHead"===H.type?(M=!0,O=T):"tableRow"===H.type||"tableDelimiterRow"===H.type?(O=T,0!==C[1]?(x[0]=x[1],g=flushCell(R,u,C,v,T,g)):0!==x[1]&&(g=flushCell(R,u,x,v,T,g)),v=0):v&&("data"===H.type||"tableDelimiterMarker"===H.type||"tableDelimiterFiller"===H.type)&&(x[3]=T)}for(0!==O&&flushTableEnd(R,u,O,p,h),R.consume(u.events),T=-1;++T<u.events.length;){let l=u.events[T];"enter"===l[0]&&"table"===l[1].type&&(l[1]._align=function(l,u){let p=!1,h=[];for(;u<l.length;){let g=l[u];if(p){if("enter"===g[0])"tableContent"===g[1].type&&h.push("tableDelimiterMarker"===l[u+1][1].type?"left":"none");else if("tableContent"===g[1].type){if("tableDelimiterMarker"===l[u-1][1].type){let l=h.length-1;h[l]="left"===h[l]?"center":"right"}}else if("tableDelimiterRow"===g[1].type)break}else"enter"===g[0]&&"tableDelimiterRow"===g[1].type&&(p=!0);u+=1}return h}(u.events,T))}return l}}}};function flushCell(l,u,p,h,g,T){0!==p[0]&&(T.end=Object.assign({},getPoint(u.events,p[0])),l.add(p[0],0,[["exit",T,u]]));let E=getPoint(u.events,p[1]);if(T={type:1===h?"tableHeader":2===h?"tableDelimiter":"tableData",start:Object.assign({},E),end:Object.assign({},E)},l.add(p[1],0,[["enter",T,u]]),0!==p[2]){let g=getPoint(u.events,p[2]),T=getPoint(u.events,p[3]),E={type:"tableContent",start:Object.assign({},g),end:Object.assign({},T)};if(l.add(p[2],0,[["enter",E,u]]),2!==h){let h=u.events[p[2]],g=u.events[p[3]];if(h[1].end=Object.assign({},g[1].end),h[1].type="chunkText",h[1].contentType="text",p[3]>p[2]+1){let u=p[2]+1,h=p[3]-p[2]-1;l.add(u,h,[])}}l.add(p[3]+1,0,[["exit",E,u]])}return void 0!==g&&(T.end=Object.assign({},getPoint(u.events,g)),l.add(g,0,[["exit",T,u]]),T=void 0),T}function flushTableEnd(l,u,p,h,g){let T=[],E=getPoint(u.events,p);g&&(g.end=Object.assign({},E),T.push(["exit",g,u])),h.end=Object.assign({},E),T.push(["exit",h,u]),l.add(p+1,0,T)}function getPoint(l,u){let p=l[u],h="enter"===p[0]?"start":"end";return p[1][h]}let nI={text:{91:{tokenize:function(l,u,p){let h=this;return function(u){return null===h.previous&&h._gfmTasklistFirstContentOfListItem?(l.enter("taskListCheck"),l.enter("taskListCheckMarker"),l.consume(u),l.exit("taskListCheckMarker"),inside):p(u)};function inside(u){return markdownLineEndingOrSpace(u)?(l.enter("taskListCheckValueUnchecked"),l.consume(u),l.exit("taskListCheckValueUnchecked"),close):88===u||120===u?(l.enter("taskListCheckValueChecked"),l.consume(u),l.exit("taskListCheckValueChecked"),close):p(u)}function close(u){return 93===u?(l.enter("taskListCheckMarker"),l.consume(u),l.exit("taskListCheckMarker"),l.exit("taskListCheck"),after):p(u)}function after(h){return markdownLineEnding(h)?u(h):markdownSpace(h)?l.check({tokenize:spaceThenNonSpace},u,p)(h):p(h)}}}}};function spaceThenNonSpace(l,u,p){return factorySpace(l,function(l){return null===l?p(l):u(l)},"whitespace")}let mdast_util_find_and_replace_node_modules_unist_util_is_lib_convert=function(l){if(null==l)return mdast_util_find_and_replace_node_modules_unist_util_is_lib_ok;if("string"==typeof l)return mdast_util_find_and_replace_node_modules_unist_util_is_lib_castFactory(function(u){return u&&u.type===l});if("object"==typeof l)return Array.isArray(l)?function(l){let u=[],p=-1;for(;++p<l.length;)u[p]=mdast_util_find_and_replace_node_modules_unist_util_is_lib_convert(l[p]);return mdast_util_find_and_replace_node_modules_unist_util_is_lib_castFactory(function(...l){let p=-1;for(;++p<u.length;)if(u[p].call(this,...l))return!0;return!1})}(l):mdast_util_find_and_replace_node_modules_unist_util_is_lib_castFactory(function(u){let p;for(p in l)if(u[p]!==l[p])return!1;return!0});if("function"==typeof l)return mdast_util_find_and_replace_node_modules_unist_util_is_lib_castFactory(l);throw Error("Expected function, string, or object as test")};function mdast_util_find_and_replace_node_modules_unist_util_is_lib_castFactory(l){return function(u,...p){return!!(u&&"object"==typeof u&&"type"in u&&l.call(this,u,...p))}}function mdast_util_find_and_replace_node_modules_unist_util_is_lib_ok(){return!0}let lib_visitParents=function(l,u,p,h){"function"==typeof u&&"function"!=typeof p&&(h=p,p=u,u=null);let g=mdast_util_find_and_replace_node_modules_unist_util_is_lib_convert(u),T=h?-1:1;(function factory(l,E,v){let C=l&&"object"==typeof l?l:{};if("string"==typeof C.type){let u="string"==typeof C.tagName?C.tagName:"string"==typeof C.name?C.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+l.type+(u?"<"+u+">":"")+")"})}return visit;function visit(){var C;let x,M,O,R=[];if((!u||g(l,E,v[v.length-1]||null))&&!1===(R=Array.isArray(C=p(l,v))?C:"number"==typeof C?[!0,C]:[C])[0])return R;if(l.children&&"skip"!==R[0])for(M=(h?l.children.length:-1)+T,O=v.concat(l);M>-1&&M<l.children.length;){if(!1===(x=factory(l.children[M],M,O)())[0])return x;M="number"==typeof x[1]?x[1]:M+T}return R}})(l,void 0,[])()},nR={}.hasOwnProperty,findAndReplace=function(l,u,p,h){let g,T;"string"==typeof u||u instanceof RegExp?(T=[[u,p]],g=h):(T=u,g=p),g||(g={});let E=mdast_util_find_and_replace_node_modules_unist_util_is_lib_convert(g.ignore||[]),v=function(l){let u=[];if("object"!=typeof l)throw TypeError("Expected array or object as schema");if(Array.isArray(l)){let p=-1;for(;++p<l.length;)u.push([toExpression(l[p][0]),toFunction(l[p][1])])}else{let p;for(p in l)nR.call(l,p)&&u.push([toExpression(p),toFunction(l[p])])}return u}(T),C=-1;for(;++C<v.length;)lib_visitParents(l,"text",visitor);return l;function visitor(l,u){let p,h=-1;for(;++h<u.length;){let l=u[h];if(E(l,p?p.children.indexOf(l):void 0,p))return;p=l}if(p)return function(l,u){let p=u[u.length-1],h=v[C][0],g=v[C][1],T=0,E=p.children.indexOf(l),x=!1,M=[];h.lastIndex=0;let O=h.exec(l.value);for(;O;){let p=O.index,E={index:O.index,input:O.input,stack:[...u,l]},v=g(...O,E);if("string"==typeof v&&(v=v.length>0?{type:"text",value:v}:void 0),!1!==v&&(T!==p&&M.push({type:"text",value:l.value.slice(T,p)}),Array.isArray(v)?M.push(...v):v&&M.push(v),T=p+O[0].length,x=!0),!h.global)break;O=h.exec(l.value)}return x?(T<l.value.length&&M.push({type:"text",value:l.value.slice(T)}),p.children.splice(E,1,...M)):M=[l],E+M.length}(l,u)}};function toExpression(l){return"string"==typeof l?RegExp(function(l){if("string"!=typeof l)throw TypeError("Expected a string");return l.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(l),"g"):l}function toFunction(l){return"function"==typeof l?l:()=>l}let nL="phrasing",nP=["autolink","link","image","label"],nD={transforms:[function(l){findAndReplace(l,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,findEmail]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(l){this.enter({type:"link",title:null,url:"",children:[]},l)},literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:function(l){this.exit(l)},literalAutolinkEmail:function(l){this.config.exit.autolinkEmail.call(this,l)},literalAutolinkHttp:function(l){this.config.exit.autolinkProtocol.call(this,l)},literalAutolinkWww:function(l){this.config.exit.data.call(this,l);let u=this.stack[this.stack.length-1];u.url="http://"+this.sliceSerialize(l)}}},nB={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:nL,notInConstruct:nP},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:nL,notInConstruct:nP},{character:":",before:"[ps]",after:"\\/",inConstruct:nL,notInConstruct:nP}]};function enterLiteralAutolinkValue(l){this.config.enter.autolinkProtocol.call(this,l)}function findUrl(l,u,p,h,g){let T="";if(!previous(g)||(/^w/i.test(u)&&(p=u+p,u="",T="http://"),!function(l){let u=l.split(".");return!(u.length<2||u[u.length-1]&&(/_/.test(u[u.length-1])||!/[a-zA-Z\d]/.test(u[u.length-1]))||u[u.length-2]&&(/_/.test(u[u.length-2])||!/[a-zA-Z\d]/.test(u[u.length-2])))}(p)))return!1;let E=function(l){let u=/[!"&'),.:;<>?\]}]+$/.exec(l);if(!u)return[l,void 0];l=l.slice(0,u.index);let p=u[0],h=p.indexOf(")"),g=ccount(l,"("),T=ccount(l,")");for(;-1!==h&&g>T;)l+=p.slice(0,h+1),h=(p=p.slice(h+1)).indexOf(")"),T++;return[l,p]}(p+h);if(!E[0])return!1;let v={type:"link",title:null,url:T+u+E[0],children:[{type:"text",value:u+E[0]}]};return E[1]?[v,{type:"text",value:E[1]}]:v}function findEmail(l,u,p,h){return!(!previous(h,!0)||/[-\d_]$/.test(p))&&{type:"link",title:null,url:"mailto:"+u+"@"+p,children:[{type:"text",value:u+"@"+p}]}}function previous(l,u){let p=l.input.charCodeAt(l.index-1);return(0===l.index||ny(p)||ng(p))&&(!u||47!==p)}let nH=document.createElement("i");function decodeNamedCharacterReference(l){let u="&"+l+";";nH.innerHTML=u;let p=nH.textContent;return(59!==p.charCodeAt(p.length-1)||"semi"===l)&&p!==u&&p}function decodeNumericCharacterReference(l,u){let p=Number.parseInt(l,u);return p<9||11===p||p>13&&p<32||p>126&&p<160||p>55295&&p<57344||p>64975&&p<65008||(65535&p)==65535||(65535&p)==65534||p>1114111?"�":String.fromCharCode(p)}let nF=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(l){return l.replace(nF,decode)}function decode(l,u,p){if(u)return u;let h=p.charCodeAt(0);if(35===h){let l=p.charCodeAt(1),u=120===l||88===l;return decodeNumericCharacterReference(p.slice(u?2:1),u?16:10)}return decodeNamedCharacterReference(p)||l}function association(l){return l.label||!l.identifier?l.label||"":decodeString(l.identifier)}function containerFlow(l,u,p){let h=u.indexStack,g=l.children||[],T=u.createTracker(p),E=[],v=-1;for(h.push(-1);++v<g.length;){let p=g[v];h[h.length-1]=v,E.push(T.move(u.handle(p,l,u,{before:"\n",after:"\n",...T.current()}))),"list"!==p.type&&(u.bulletLastUsed=void 0),v<g.length-1&&E.push(T.move(function(l,u,p,h){let g=h.join.length;for(;g--;){let T=h.join[g](l,u,p,h);if(!0===T||1===T)break;if("number"==typeof T)return"\n".repeat(1+T);if(!1===T)return"\n\n<!---->\n\n"}return"\n\n"}(p,g[v+1],l,u)))}return h.pop(),E.join("")}let nU=/\r?\n|\r/g;function indentLines(l,u){let p;let h=[],g=0,T=0;for(;p=nU.exec(l);)one(l.slice(g,p.index)),h.push(p[0]),g=p.index+p[0].length,T++;return one(l.slice(g)),h.join("");function one(l){h.push(u(l,T,!l))}}function patternCompile(l){if(!l._compiled){let u=(l.atBreak?"[\\r\\n][\\t ]*":"")+(l.before?"(?:"+l.before+")":"");l._compiled=RegExp((u?"("+u+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(l.character)?"\\":"")+l.character+(l.after?"(?:"+l.after+")":""),"g")}return l._compiled}function patternInScope(l,u){return listInScope(l,u.inConstruct,!0)&&!listInScope(l,u.notInConstruct,!1)}function listInScope(l,u,p){if("string"==typeof u&&(u=[u]),!u||0===u.length)return p;let h=-1;for(;++h<u.length;)if(l.includes(u[h]))return!0;return!1}function safe(l,u,p){let h=(p.before||"")+(u||"")+(p.after||""),g=[],T=[],E={},v=-1;for(;++v<l.unsafe.length;){let u;let p=l.unsafe[v];if(!patternInScope(l.stack,p))continue;let T=patternCompile(p);for(;u=T.exec(h);){let l="before"in p||!!p.atBreak,h="after"in p,T=u.index+(l?u[1].length:0);g.includes(T)?(E[T].before&&!l&&(E[T].before=!1),E[T].after&&!h&&(E[T].after=!1)):(g.push(T),E[T]={before:l,after:h})}}g.sort(numerical);let C=p.before?p.before.length:0,x=h.length-(p.after?p.after.length:0);for(v=-1;++v<g.length;){let l=g[v];!(l<C)&&!(l>=x)&&(!(l+1<x)||g[v+1]!==l+1||!E[l].after||E[l+1].before||E[l+1].after)&&(g[v-1]!==l-1||!E[l].before||E[l-1].before||E[l-1].after)&&(C!==l&&T.push(escapeBackslashes(h.slice(C,l),"\\")),C=l,!/[!-/:-@[-`{-~]/.test(h.charAt(l))||p.encode&&p.encode.includes(h.charAt(l))?(T.push("&#x"+h.charCodeAt(l).toString(16).toUpperCase()+";"),C++):T.push("\\"))}return T.push(escapeBackslashes(h.slice(C,x),p.after)),T.join("")}function numerical(l,u){return l-u}function escapeBackslashes(l,u){let p;let h=/\\(?=[!-/:-@[-`{-~])/g,g=[],T=[],E=l+u,v=-1,C=0;for(;p=h.exec(E);)g.push(p.index);for(;++v<g.length;)C!==g[v]&&T.push(l.slice(C,g[v])),T.push("\\"),C=g[v];return T.push(l.slice(C)),T.join("")}function track(l){let u=l||{},p=u.now||{},h=u.lineShift||0,g=p.line||1,T=p.column||1;return{move:function(l){let u=l||"",p=u.split(/\r?\n|\r/g),E=p[p.length-1];return g+=p.length-1,T=1===p.length?T+E.length:1+E.length+h,u},current:function(){return{now:{line:g,column:T},lineShift:h}},shift:function(l){h+=l}}}function enterFootnoteDefinition(l){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},l)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(l){let u=this.resume(),p=this.stack[this.stack.length-1];p.label=u,p.identifier=normalizeIdentifier(this.sliceSerialize(l)).toLowerCase()}function exitFootnoteDefinition(l){this.exit(l)}function enterFootnoteCall(l){this.enter({type:"footnoteReference",identifier:"",label:""},l)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(l){let u=this.resume(),p=this.stack[this.stack.length-1];p.label=u,p.identifier=normalizeIdentifier(this.sliceSerialize(l)).toLowerCase()}function exitFootnoteCall(l){this.exit(l)}function footnoteReference(l,u,p,h){let g=track(h),T=g.move("[^"),E=p.enter("footnoteReference"),v=p.enter("reference");return T+=g.move(safe(p,association(l),{...g.current(),before:T,after:"]"})),v(),E(),T+=g.move("]")}function footnoteDefinition(l,u,p,h){let g=track(h),T=g.move("[^"),E=p.enter("footnoteDefinition"),v=p.enter("label");return T+=g.move(safe(p,association(l),{...g.current(),before:T,after:"]"})),v(),T+=g.move("]:"+(l.children&&l.children.length>0?" ":"")),g.shift(4),T+=g.move(indentLines(containerFlow(l,p,g.current()),map)),E(),T}function map(l,u,p){return 0===u?l:(p?"":"    ")+l}function containerPhrasing(l,u,p){let h=u.indexStack,g=l.children||[],T=[],E=-1,v=p.before;h.push(-1);let C=u.createTracker(p);for(;++E<g.length;){let x;let M=g[E];if(h[h.length-1]=E,E+1<g.length){let p=u.handle.handlers[g[E+1].type];p&&p.peek&&(p=p.peek),x=p?p(g[E+1],l,u,{before:"",after:"",...C.current()}).charAt(0):""}else x=p.after;T.length>0&&("\r"===v||"\n"===v)&&"html"===M.type&&(T[T.length-1]=T[T.length-1].replace(/(\r?\n|\r)$/," "),v=" ",(C=u.createTracker(p)).move(T.join(""))),T.push(C.move(u.handle(M,l,u,{...C.current(),before:v,after:x}))),v=T[T.length-1].slice(-1)}return h.pop(),T.join("")}footnoteReference.peek=function(){return"["},handleDelete.peek=function(){return"~"};let nj={canContainEols:["delete"],enter:{strikethrough:function(l){this.enter({type:"delete",children:[]},l)}},exit:{strikethrough:function(l){this.exit(l)}}},nz={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]}],handlers:{delete:handleDelete}};function handleDelete(l,u,p,h){let g=track(h),T=p.enter("strikethrough"),E=g.move("~~");return E+=containerPhrasing(l,p,{...g.current(),before:E,after:"~"})+g.move("~~"),T(),E}function inline_code_inlineCode(l,u,p){let h=l.value||"",g="`",T=-1;for(;RegExp("(^|[^`])"+g+"([^`]|$)").test(h);)g+="`";for(/[^ \r\n]/.test(h)&&(/^[ \r\n]/.test(h)&&/[ \r\n]$/.test(h)||/^`|`$/.test(h))&&(h=" "+h+" ");++T<p.unsafe.length;){let l;let u=p.unsafe[T],g=patternCompile(u);if(u.atBreak)for(;l=g.exec(h);){let u=l.index;10===h.charCodeAt(u)&&13===h.charCodeAt(u-1)&&u--,h=h.slice(0,u)+" "+h.slice(l.index+1)}}return g+h+g}function defaultStringLength(l){return l.length}function toAlignment(l){let u="string"==typeof l?l.codePointAt(0):0;return 67===u||99===u?99:76===u||108===u?108:82===u||114===u?114:0}inline_code_inlineCode.peek=function(){return"`"};let nV={enter:{table:function(l){let u=l._align;this.enter({type:"table",align:u.map(l=>"none"===l?null:l),children:[]},l),this.setData("inTable",!0)},tableData:enterCell,tableHeader:enterCell,tableRow:function(l){this.enter({type:"tableRow",children:[]},l)}},exit:{codeText:function(l){let u=this.resume();this.getData("inTable")&&(u=u.replace(/\\([\\|])/g,replace));let p=this.stack[this.stack.length-1];p.value=u,this.exit(l)},table:function(l){this.exit(l),this.setData("inTable")},tableData:exit,tableHeader:exit,tableRow:exit}};function exit(l){this.exit(l)}function enterCell(l){this.enter({type:"tableCell",children:[]},l)}function replace(l,u){return"|"===u?u:l}function checkBullet(l){let u=l.options.bullet||"*";if("*"!==u&&"+"!==u&&"-"!==u)throw Error("Cannot serialize items with `"+u+"` for `options.bullet`, expected `*`, `+`, or `-`");return u}function listItem(l,u,p,h){let g=function(l){let u=l.options.listItemIndent||"tab";if(1===u||"1"===u)return"one";if("tab"!==u&&"one"!==u&&"mixed"!==u)throw Error("Cannot serialize items with `"+u+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return u}(p),T=p.bulletCurrent||checkBullet(p);u&&"list"===u.type&&u.ordered&&(T=("number"==typeof u.start&&u.start>-1?u.start:1)+(!1===p.options.incrementListMarker?0:u.children.indexOf(l))+T);let E=T.length+1;("tab"===g||"mixed"===g&&(u&&"list"===u.type&&u.spread||l.spread))&&(E=4*Math.ceil(E/4));let v=p.createTracker(h);v.move(T+" ".repeat(E-T.length)),v.shift(E);let C=p.enter("listItem"),x=p.indentLines(p.containerFlow(l,v.current()),function(l,u,p){return u?(p?"":" ".repeat(E))+l:(p?T:T+" ".repeat(E-T.length))+l});return C(),x}let n$={exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:function(l){let u=this.stack[this.stack.length-2];if(u&&"listItem"===u.type&&"boolean"==typeof u.checked){let l=this.stack[this.stack.length-1],p=l.children[0];if(p&&"text"===p.type){let h;let g=u.children,T=-1;for(;++T<g.length;){let l=g[T];if("paragraph"===l.type){h=l;break}}h===l&&(p.value=p.value.slice(1),0===p.value.length?l.children.shift():l.position&&p.position&&"number"==typeof p.position.start.offset&&(p.position.start.column++,p.position.start.offset++,l.position.start=Object.assign({},p.position.start)))}}this.exit(l)}}},nG={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(l,u,p,h){let g=l.children[0],T="boolean"==typeof l.checked&&g&&"paragraph"===g.type,E="["+(l.checked?"x":" ")+"] ",v=track(h);T&&v.move(E);let C=listItem(l,u,p,{...h,...v.current()});return T&&(C=C.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(l){return l+E})),C}}};function exitCheck(l){let u=this.stack[this.stack.length-2];u.checked="taskListCheckValueChecked"===l.type}function remarkGfm(l={}){let u=this.data();function add(l,p){let h=u[l]?u[l]:u[l]=[];h.push(p)}add("micromarkExtensions",combineExtensions([nA,{document:{91:{tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{tokenize:tokenizeGfmFootnoteCall},93:{add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}},function(l){let u=(l||{}).singleTilde,p={tokenize:function(l,p,h){let g=this.previous,T=this.events,E=0;return function(v){return 126===g&&"characterEscape"!==T[T.length-1][1].type?h(v):(l.enter("strikethroughSequenceTemporary"),function more(T){let v=classifyCharacter(g);if(126===T)return E>1?h(T):(l.consume(T),E++,more);if(E<2&&!u)return h(T);let C=l.exit("strikethroughSequenceTemporary"),x=classifyCharacter(T);return C._open=!x||2===x&&!!v,C._close=!v||2===v&&!!x,p(T)}(v))}},resolveAll:function(l,u){let p=-1;for(;++p<l.length;)if("enter"===l[p][0]&&"strikethroughSequenceTemporary"===l[p][1].type&&l[p][1]._close){let h=p;for(;h--;)if("exit"===l[h][0]&&"strikethroughSequenceTemporary"===l[h][1].type&&l[h][1]._open&&l[p][1].end.offset-l[p][1].start.offset==l[h][1].end.offset-l[h][1].start.offset){l[p][1].type="strikethroughSequence",l[h][1].type="strikethroughSequence";let g={type:"strikethrough",start:Object.assign({},l[h][1].start),end:Object.assign({},l[p][1].end)},T={type:"strikethroughText",start:Object.assign({},l[h][1].end),end:Object.assign({},l[p][1].start)},E=[["enter",g,u],["enter",l[h][1],u],["exit",l[h][1],u],["enter",T,u]],v=u.parser.constructs.insideSpan.null;v&&splice(E,E.length,0,resolveAll(v,l.slice(h+1,p),u)),splice(E,E.length,0,[["exit",T,u],["enter",l[p][1],u],["exit",l[p][1],u],["exit",g,u]]),splice(l,h-1,p-h+3,E),p=h+E.length-2;break}}for(p=-1;++p<l.length;)"strikethroughSequenceTemporary"===l[p][1].type&&(l[p][1].type="data");return l}};return null==u&&(u=!0),{text:{126:p},insideSpan:{null:[p]},attentionMarkers:{null:[126]}}}(l),nO,nI])),add("fromMarkdownExtensions",[nD,{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}},nj,nV,n$]),add("toMarkdownExtensions",{extensions:[nB,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}},nz,function(l){let u=l||{},p=u.tableCellPadding,h=u.tablePipeAlign,g=u.stringLength,T=p?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(l,u,p,h){return serializeData(function(l,u,p){let h=l.children,g=-1,T=[],E=u.enter("table");for(;++g<h.length;)T[g]=handleTableRowAsData(h[g],u,p);return E(),T}(l,p,h),l.align)},tableRow:function(l,u,p,h){let g=handleTableRowAsData(l,p,h),T=serializeData([g]);return T.slice(0,T.indexOf("\n"))},tableCell:handleTableCell,inlineCode:function(l,u,p){let h=inline_code_inlineCode(l,u,p);return p.stack.includes("tableCell")&&(h=h.replace(/\|/g,"\\$&")),h}}};function handleTableCell(l,u,p,h){let g=p.enter("tableCell"),E=p.enter("phrasing"),v=containerPhrasing(l,p,{...h,before:T,after:T});return E(),g(),v}function serializeData(l,u){return function(l,u={}){let p=(u.align||[]).concat(),h=u.stringLength||defaultStringLength,g=[],T=[],E=[],v=[],C=0,x=-1;for(;++x<l.length;){let p=[],g=[],O=-1;for(l[x].length>C&&(C=l[x].length);++O<l[x].length;){var M;let T=null==(M=l[x][O])?"":String(M);if(!1!==u.alignDelimiters){let l=h(T);g[O]=l,(void 0===v[O]||l>v[O])&&(v[O]=l)}p.push(T)}T[x]=p,E[x]=g}let O=-1;if("object"==typeof p&&"length"in p)for(;++O<C;)g[O]=toAlignment(p[O]);else{let l=toAlignment(p);for(;++O<C;)g[O]=l}O=-1;let R=[],L=[];for(;++O<C;){let l=g[O],p="",h="";99===l?(p=":",h=":"):108===l?p=":":114===l&&(h=":");let T=!1===u.alignDelimiters?1:Math.max(1,v[O]-p.length-h.length),E=p+"-".repeat(T)+h;!1!==u.alignDelimiters&&((T=p.length+T+h.length)>v[O]&&(v[O]=T),L[O]=T),R[O]=E}T.splice(1,0,R),E.splice(1,0,L),x=-1;let H=[];for(;++x<T.length;){let l=T[x],p=E[x];O=-1;let h=[];for(;++O<C;){let T=l[O]||"",E="",x="";if(!1!==u.alignDelimiters){let l=v[O]-(p[O]||0),u=g[O];114===u?E=" ".repeat(l):99===u?l%2?(E=" ".repeat(l/2+.5),x=" ".repeat(l/2-.5)):x=E=" ".repeat(l/2):x=" ".repeat(l)}!1===u.delimiterStart||O||h.push("|"),!1!==u.padding&&!(!1===u.alignDelimiters&&""===T)&&(!1!==u.delimiterStart||O)&&h.push(" "),!1!==u.alignDelimiters&&h.push(E),h.push(T),!1!==u.alignDelimiters&&h.push(x),!1!==u.padding&&h.push(" "),(!1!==u.delimiterEnd||O!==C-1)&&h.push("|")}H.push(!1===u.delimiterEnd?h.join("").replace(/ +$/,""):h.join(""))}return H.join("\n")}(l,{align:u,alignDelimiters:h,padding:p,stringLength:g})}function handleTableRowAsData(l,u,p){let h=l.children,g=-1,T=[],E=u.enter("tableRow");for(;++g<h.length;)T[g]=handleTableCell(h[g],l,u,p);return E(),T}}(l),nG]})}function configure(l,u){let p,h=-1;if(u.extensions)for(;++h<u.extensions.length;)configure(l,u.extensions[h]);for(p in u)"extensions"===p||("unsafe"===p||"join"===p?l[p]=[...l[p]||[],...u[p]||[]]:"handlers"===p?l[p]=Object.assign(l[p],u[p]||{}):l.options[p]=u[p]);return l}function blockquote_map(l,u,p){return">"+(p?"":" ")+l}function hardBreak(l,u,p,h){let g=-1;for(;++g<p.unsafe.length;)if("\n"===p.unsafe[g].character&&patternInScope(p.stack,p.unsafe[g]))return/[ \t]/.test(h.before)?"":" ";return"\\\n"}function formatCodeAsIndented(l,u){return!!(!u.options.fences&&l.value&&!l.lang&&/[^ \r\n]/.test(l.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(l.value))}function code_map(l,u,p){return(p?"":"    ")+l}function checkQuote(l){let u=l.options.quote||'"';if('"'!==u&&"'"!==u)throw Error("Cannot serialize title with `"+u+"` for `options.quote`, expected `\"`, or `'`");return u}function emphasis(l,u,p,h){let g=function(l){let u=l.options.emphasis||"*";if("*"!==u&&"_"!==u)throw Error("Cannot serialize emphasis with `"+u+"` for `options.emphasis`, expected `*`, or `_`");return u}(p),T=p.enter("emphasis"),E=p.createTracker(h),v=E.move(g);return v+=E.move(p.containerPhrasing(l,{before:v,after:g,...E.current()}))+E.move(g),T(),v}function formatHeadingAsSetext(l,u){let p=!1;return visit(l,l=>{if("value"in l&&/\r?\n|\r/.test(l.value)||"break"===l.type)return p=!0,!1}),!!((!l.depth||l.depth<3)&&lib_toString(l)&&(u.options.setext||p))}function html_html(l){return l.value||""}function image_image(l,u,p,h){let g=checkQuote(p),T='"'===g?"Quote":"Apostrophe",E=p.enter("image"),v=p.enter("label"),C=p.createTracker(h),x=C.move("![");return x+=C.move(p.safe(l.alt,{before:x,after:"]",...C.current()}))+C.move("]("),v(),!l.url&&l.title||/[\0- \u007F]/.test(l.url)?(v=p.enter("destinationLiteral"),x+=C.move("<"),x+=C.move(p.safe(l.url,{before:x,after:">",...C.current()}))+C.move(">")):(v=p.enter("destinationRaw"),x+=C.move(p.safe(l.url,{before:x,after:l.title?" ":")",...C.current()}))),v(),l.title&&(v=p.enter(`title${T}`),x+=C.move(" "+g),x+=C.move(p.safe(l.title,{before:x,after:g,...C.current()}))+C.move(g),v()),x+=C.move(")"),E(),x}function imageReference(l,u,p,h){let g=l.referenceType,T=p.enter("imageReference"),E=p.enter("label"),v=p.createTracker(h),C=v.move("!["),x=p.safe(l.alt,{before:C,after:"]",...v.current()});C+=v.move(x+"]["),E();let M=p.stack;p.stack=[],E=p.enter("reference");let O=p.safe(p.associationId(l),{before:C,after:"]",...v.current()});return E(),p.stack=M,T(),"full"!==g&&x&&x===O?"shortcut"===g?C=C.slice(0,-1):C+=v.move("]"):C+=v.move(O+"]"),C}function formatLinkAsAutolink(l,u){let p=lib_toString(l);return!!(!u.options.resourceLink&&l.url&&!l.title&&l.children&&1===l.children.length&&"text"===l.children[0].type&&(p===l.url||"mailto:"+p===l.url)&&/^[a-z][a-z+.-]+:/i.test(l.url)&&!/[\0- <>\u007F]/.test(l.url))}function link_link(l,u,p,h){let g,T;let E=checkQuote(p),v='"'===E?"Quote":"Apostrophe",C=p.createTracker(h);if(formatLinkAsAutolink(l,p)){let u=p.stack;p.stack=[],g=p.enter("autolink");let h=C.move("<");return h+=C.move(p.containerPhrasing(l,{before:h,after:">",...C.current()}))+C.move(">"),g(),p.stack=u,h}g=p.enter("link"),T=p.enter("label");let x=C.move("[");return x+=C.move(p.containerPhrasing(l,{before:x,after:"](",...C.current()}))+C.move("]("),T(),!l.url&&l.title||/[\0- \u007F]/.test(l.url)?(T=p.enter("destinationLiteral"),x+=C.move("<"),x+=C.move(p.safe(l.url,{before:x,after:">",...C.current()}))+C.move(">")):(T=p.enter("destinationRaw"),x+=C.move(p.safe(l.url,{before:x,after:l.title?" ":")",...C.current()}))),T(),l.title&&(T=p.enter(`title${v}`),x+=C.move(" "+E),x+=C.move(p.safe(l.title,{before:x,after:E,...C.current()}))+C.move(E),T()),x+=C.move(")"),g(),x}function linkReference(l,u,p,h){let g=l.referenceType,T=p.enter("linkReference"),E=p.enter("label"),v=p.createTracker(h),C=v.move("["),x=p.containerPhrasing(l,{before:C,after:"]",...v.current()});C+=v.move(x+"]["),E();let M=p.stack;p.stack=[],E=p.enter("reference");let O=p.safe(p.associationId(l),{before:C,after:"]",...v.current()});return E(),p.stack=M,T(),"full"!==g&&x&&x===O?"shortcut"===g?C=C.slice(0,-1):C+=v.move("]"):C+=v.move(O+"]"),C}function checkBulletOrdered(l){let u=l.options.bulletOrdered||".";if("."!==u&&")"!==u)throw Error("Cannot serialize items with `"+u+"` for `options.bulletOrdered`, expected `.` or `)`");return u}function checkRule(l){let u=l.options.rule||"*";if("*"!==u&&"-"!==u&&"_"!==u)throw Error("Cannot serialize rules with `"+u+"` for `options.rule`, expected `*`, `-`, or `_`");return u}function strong_strong(l,u,p,h){let g=function(l){let u=l.options.strong||"*";if("*"!==u&&"_"!==u)throw Error("Cannot serialize strong with `"+u+"` for `options.strong`, expected `*`, or `_`");return u}(p),T=p.enter("strong"),E=p.createTracker(h),v=E.move(g+g);return v+=E.move(p.containerPhrasing(l,{before:v,after:g,...E.current()}))+E.move(g+g),T(),v}emphasis.peek=function(l,u,p){return p.options.emphasis||"*"},html_html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},link_link.peek=function(l,u,p){return formatLinkAsAutolink(l,p)?"<":"["},linkReference.peek=function(){return"["},strong_strong.peek=function(l,u,p){return p.options.strong||"*"};let nK={blockquote:function(l,u,p,h){let g=p.enter("blockquote"),T=p.createTracker(h);T.move("> "),T.shift(2);let E=p.indentLines(p.containerFlow(l,T.current()),blockquote_map);return g(),E},break:hardBreak,code:function(l,u,p,h){let g=function(l){let u=l.options.fence||"`";if("`"!==u&&"~"!==u)throw Error("Cannot serialize code with `"+u+"` for `options.fence`, expected `` ` `` or `~`");return u}(p),T=l.value||"",E="`"===g?"GraveAccent":"Tilde";if(formatCodeAsIndented(l,p)){let l=p.enter("codeIndented"),u=p.indentLines(T,code_map);return l(),u}let v=p.createTracker(h),C=g.repeat(Math.max(function(l,u){let p=String(l),h=p.indexOf(u),g=h,T=0,E=0;if("string"!=typeof u)throw TypeError("Expected substring");for(;-1!==h;)h===g?++T>E&&(E=T):T=1,g=h+u.length,h=p.indexOf(u,g);return E}(T,g)+1,3)),x=p.enter("codeFenced"),M=v.move(C);if(l.lang){let u=p.enter(`codeFencedLang${E}`);M+=v.move(p.safe(l.lang,{before:M,after:" ",encode:["`"],...v.current()})),u()}if(l.lang&&l.meta){let u=p.enter(`codeFencedMeta${E}`);M+=v.move(" "),M+=v.move(p.safe(l.meta,{before:M,after:"\n",encode:["`"],...v.current()})),u()}return M+=v.move("\n"),T&&(M+=v.move(T+"\n")),M+=v.move(C),x(),M},definition:function(l,u,p,h){let g=checkQuote(p),T='"'===g?"Quote":"Apostrophe",E=p.enter("definition"),v=p.enter("label"),C=p.createTracker(h),x=C.move("[");return x+=C.move(p.safe(p.associationId(l),{before:x,after:"]",...C.current()}))+C.move("]: "),v(),!l.url||/[\0- \u007F]/.test(l.url)?(v=p.enter("destinationLiteral"),x+=C.move("<"),x+=C.move(p.safe(l.url,{before:x,after:">",...C.current()}))+C.move(">")):(v=p.enter("destinationRaw"),x+=C.move(p.safe(l.url,{before:x,after:l.title?" ":"\n",...C.current()}))),v(),l.title&&(v=p.enter(`title${T}`),x+=C.move(" "+g),x+=C.move(p.safe(l.title,{before:x,after:g,...C.current()}))+C.move(g),v()),E(),x},emphasis:emphasis,hardBreak:hardBreak,heading:function(l,u,p,h){let g=Math.max(Math.min(6,l.depth||1),1),T=p.createTracker(h);if(formatHeadingAsSetext(l,p)){let u=p.enter("headingSetext"),h=p.enter("phrasing"),E=p.containerPhrasing(l,{...T.current(),before:"\n",after:"\n"});return h(),u(),E+"\n"+(1===g?"=":"-").repeat(E.length-(Math.max(E.lastIndexOf("\r"),E.lastIndexOf("\n"))+1))}let E="#".repeat(g),v=p.enter("headingAtx"),C=p.enter("phrasing");T.move(E+" ");let x=p.containerPhrasing(l,{before:"# ",after:"\n",...T.current()});return/^[\t ]/.test(x)&&(x="&#x"+x.charCodeAt(0).toString(16).toUpperCase()+";"+x.slice(1)),x=x?E+" "+x:E,p.options.closeAtx&&(x+=" "+E),C(),v(),x},html:html_html,image:image_image,imageReference:imageReference,inlineCode:inline_code_inlineCode,link:link_link,linkReference:linkReference,list:function(l,u,p,h){let g=p.enter("list"),T=p.bulletCurrent,E=l.ordered?checkBulletOrdered(p):checkBullet(p),v=l.ordered?function(l){let u=checkBulletOrdered(l),p=l.options.bulletOrderedOther;if(!p)return"."===u?")":".";if("."!==p&&")"!==p)throw Error("Cannot serialize items with `"+p+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(p===u)throw Error("Expected `bulletOrdered` (`"+u+"`) and `bulletOrderedOther` (`"+p+"`) to be different");return p}(p):function(l){let u=checkBullet(l),p=l.options.bulletOther;if(!p)return"*"===u?"-":"*";if("*"!==p&&"+"!==p&&"-"!==p)throw Error("Cannot serialize items with `"+p+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(p===u)throw Error("Expected `bullet` (`"+u+"`) and `bulletOther` (`"+p+"`) to be different");return p}(p),C=p.bulletLastUsed,x=!1;if(u&&(l.ordered?p.options.bulletOrderedOther:p.options.bulletOther)&&C&&E===C&&(x=!0),!l.ordered){let u=l.children?l.children[0]:void 0;if("*"!==E&&"-"!==E||!u||u.children&&u.children[0]||"list"!==p.stack[p.stack.length-1]||"listItem"!==p.stack[p.stack.length-2]||"list"!==p.stack[p.stack.length-3]||"listItem"!==p.stack[p.stack.length-4]||0!==p.indexStack[p.indexStack.length-1]||0!==p.indexStack[p.indexStack.length-2]||0!==p.indexStack[p.indexStack.length-3]||(x=!0),checkRule(p)===E&&u){let u=-1;for(;++u<l.children.length;){let p=l.children[u];if(p&&"listItem"===p.type&&p.children&&p.children[0]&&"thematicBreak"===p.children[0].type){x=!0;break}}}}x&&(E=v),p.bulletCurrent=E;let M=p.containerFlow(l,h);return p.bulletLastUsed=E,p.bulletCurrent=T,g(),M},listItem:listItem,paragraph:function(l,u,p,h){let g=p.enter("paragraph"),T=p.enter("phrasing"),E=p.containerPhrasing(l,h);return T(),g(),E},root:function(l,u,p,h){let g=l.children.some(l=>tV(l)),T=g?p.containerPhrasing:p.containerFlow;return T.call(p,l,h)},strong:strong_strong,text:function(l,u,p,h){return p.safe(l.value,h)},thematicBreak:function(l,u,p){let h=(checkRule(p)+(p.options.ruleSpaces?" ":"")).repeat(function(l){let u=l.options.ruleRepetition||3;if(u<3)throw Error("Cannot serialize rules with repetition `"+u+"` for `options.ruleRepetition`, expected `3` or more");return u}(p));return p.options.ruleSpaces?h.slice(0,-1):h}},nW=[function(l,u,p,h){if("code"===u.type&&formatCodeAsIndented(u,h)&&("list"===l.type||l.type===u.type&&formatCodeAsIndented(l,h))||"list"===l.type&&l.type===u.type&&!!l.ordered==!!u.ordered&&!(l.ordered?h.options.bulletOrderedOther:h.options.bulletOther))return!1;if("spread"in p&&"boolean"==typeof p.spread){if("paragraph"===l.type&&(l.type===u.type||"definition"===u.type||"heading"===u.type&&formatHeadingAsSetext(u,h)))return;return p.spread?1:0}}],nq=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],nY=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:nq},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:nq},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:"(?:[ 	\r\n*])"},{character:"*",inConstruct:"phrasing",notInConstruct:nq},{atBreak:!0,character:"+",after:"(?:[ 	\r\n])"},{atBreak:!0,character:"-",after:"(?:[ 	\r\n-])"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ 	\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:nq},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:nq},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:nq},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:nq},{atBreak:!0,character:"~"}];function lib_invalid(l){throw Error("Cannot handle value `"+l+"`, expected node")}function lib_unknown(l){throw Error("Cannot handle unknown node `"+l.type+"`")}function joinDefinition(l,u){if("definition"===l.type&&l.type===u.type)return 0}function containerPhrasingBound(l,u){return containerPhrasing(l,this,u)}function containerFlowBound(l,u){return containerFlow(l,this,u)}function safeBound(l,u){return safe(this,l,u)}function remarkStringify(l){Object.assign(this,{Compiler:u=>{let p=this.data("settings");return function(l,u={}){let p={enter:function(l){return p.stack.push(l),function(){p.stack.pop()}},indentLines:indentLines,associationId:association,containerPhrasing:containerPhrasingBound,containerFlow:containerFlowBound,createTracker:track,safe:safeBound,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[],handle:void 0};configure(p,{unsafe:nY,join:nW,handlers:nK}),configure(p,u),p.options.tightDefinitions&&configure(p,{join:[joinDefinition]}),p.handle=zwitch("type",{invalid:lib_invalid,unknown:lib_unknown,handlers:p.handlers});let h=p.handle(l,void 0,p,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return h&&10!==h.charCodeAt(h.length-1)&&13!==h.charCodeAt(h.length-1)&&(h+="\n"),h}(u,Object.assign({},p,l,{extensions:this.data("toMarkdownExtensions")||[]}))}})}let nQ={tokenize:function(l){let u;let p=l.attempt(this.parser.constructs.contentInitial,function(u){if(null===u){l.consume(u);return}return l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),factorySpace(l,p,"linePrefix")},function(p){return l.enter("paragraph"),function lineStart(p){let h=l.enter("chunkText",{contentType:"text",previous:u});return u&&(u.next=h),u=h,function data(u){if(null===u){l.exit("chunkText"),l.exit("paragraph"),l.consume(u);return}return markdownLineEnding(u)?(l.consume(u),l.exit("chunkText"),lineStart):(l.consume(u),data)}(p)}(p)});return p}},nJ={tokenize:function(l){let u,p,h;let g=this,T=[],E=0;return start;function start(u){if(E<T.length){let p=T[E];return g.containerState=p[1],l.attempt(p[0].continuation,documentContinue,checkNewContainers)(u)}return checkNewContainers(u)}function documentContinue(l){if(E++,g.containerState._closeFlow){let p;g.containerState._closeFlow=void 0,u&&closeFlow();let h=g.events.length,T=h;for(;T--;)if("exit"===g.events[T][0]&&"chunkFlow"===g.events[T][1].type){p=g.events[T][1].end;break}exitContainers(E);let v=h;for(;v<g.events.length;)g.events[v][1].end=Object.assign({},p),v++;return splice(g.events,T+1,0,g.events.slice(h)),g.events.length=v,checkNewContainers(l)}return start(l)}function checkNewContainers(p){if(E===T.length){if(!u)return documentContinued(p);if(u.currentConstruct&&u.currentConstruct.concrete)return flowStart(p);g.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return g.containerState={},l.check(nX,thereIsANewContainer,thereIsNoNewContainer)(p)}function thereIsANewContainer(l){return u&&closeFlow(),exitContainers(E),documentContinued(l)}function thereIsNoNewContainer(l){return g.parser.lazy[g.now().line]=E!==T.length,h=g.now().offset,flowStart(l)}function documentContinued(u){return g.containerState={},l.attempt(nX,containerContinue,flowStart)(u)}function containerContinue(l){return E++,T.push([g.currentConstruct,g.containerState]),documentContinued(l)}function flowStart(h){if(null===h){u&&closeFlow(),exitContainers(0),l.consume(h);return}return u=u||g.parser.flow(g.now()),l.enter("chunkFlow",{contentType:"flow",previous:p,_tokenizer:u}),function flowContinue(u){if(null===u){writeToChild(l.exit("chunkFlow"),!0),exitContainers(0),l.consume(u);return}return markdownLineEnding(u)?(l.consume(u),writeToChild(l.exit("chunkFlow")),E=0,g.interrupt=void 0,start):(l.consume(u),flowContinue)}(h)}function writeToChild(l,T){let v=g.sliceStream(l);if(T&&v.push(null),l.previous=p,p&&(p.next=l),p=l,u.defineSkip(l.start),u.write(v),g.parser.lazy[l.start.line]){let l,p,T=u.events.length;for(;T--;)if(u.events[T][1].start.offset<h&&(!u.events[T][1].end||u.events[T][1].end.offset>h))return;let v=g.events.length,C=v;for(;C--;)if("exit"===g.events[C][0]&&"chunkFlow"===g.events[C][1].type){if(l){p=g.events[C][1].end;break}l=!0}for(exitContainers(E),T=v;T<g.events.length;)g.events[T][1].end=Object.assign({},p),T++;splice(g.events,C+1,0,g.events.slice(v)),g.events.length=T}}function exitContainers(u){let p=T.length;for(;p-- >u;){let u=T[p];g.containerState=u[1],u[0].exit.call(g,l)}T.length=u}function closeFlow(){u.write([null]),p=void 0,u=void 0,g.containerState._closeFlow=void 0}}},nX={tokenize:function(l,u,p){return factorySpace(l,l.attempt(this.parser.constructs.document,u,p),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function subtokenize(l){let u,p,h,g,T,E,v;let C={},x=-1;for(;++x<l.length;){for(;(x in C);)x=C[x];if(u=l[x],x&&"chunkFlow"===u[1].type&&"listItemPrefix"===l[x-1][1].type&&((h=0)<(E=u[1]._tokenizer.events).length&&"lineEndingBlank"===E[h][1].type&&(h+=2),h<E.length&&"content"===E[h][1].type))for(;++h<E.length&&"content"!==E[h][1].type;)"chunkText"===E[h][1].type&&(E[h][1]._isInFirstContentOfListItem=!0,h++);if("enter"===u[0])u[1].contentType&&(Object.assign(C,function(l,u){let p,h;let g=l[u][1],T=l[u][2],E=u-1,v=[],C=g._tokenizer||T.parser[g.contentType](g.start),x=C.events,M=[],O={},R=-1,L=g,H=0,U=0,j=[U];for(;L;){for(;l[++E][1]!==L;);v.push(E),!L._tokenizer&&(p=T.sliceStream(L),L.next||p.push(null),h&&C.defineSkip(L.start),L._isInFirstContentOfListItem&&(C._gfmTasklistFirstContentOfListItem=!0),C.write(p),L._isInFirstContentOfListItem&&(C._gfmTasklistFirstContentOfListItem=void 0)),h=L,L=L.next}for(L=g;++R<x.length;)"exit"===x[R][0]&&"enter"===x[R-1][0]&&x[R][1].type===x[R-1][1].type&&x[R][1].start.line!==x[R][1].end.line&&(U=R+1,j.push(U),L._tokenizer=void 0,L.previous=void 0,L=L.next);for(C.events=[],L?(L._tokenizer=void 0,L.previous=void 0):j.pop(),R=j.length;R--;){let u=x.slice(j[R],j[R+1]),p=v.pop();M.unshift([p,p+u.length-1]),splice(l,p,2,u)}for(R=-1;++R<M.length;)O[H+M[R][0]]=H+M[R][1],H+=M[R][1]-M[R][0]-1;return O}(l,x)),x=C[x],v=!0);else if(u[1]._container){for(h=x,p=void 0;h--;)if("lineEnding"===(g=l[h])[1].type||"lineEndingBlank"===g[1].type)"enter"===g[0]&&(p&&(l[p][1].type="lineEndingBlank"),g[1].type="lineEnding",p=h);else break;p&&(u[1].end=Object.assign({},l[p][1].start),(T=l.slice(p,x)).unshift(u),splice(l,p,x-p+1,T))}}return!v}let nZ={tokenize:function(l,u){let p;return function(u){return l.enter("content"),p=l.enter("chunkContent",{contentType:"content"}),chunkInside(u)};function chunkInside(u){return null===u?contentEnd(u):markdownLineEnding(u)?l.check(n1,contentContinue,contentEnd)(u):(l.consume(u),chunkInside)}function contentEnd(p){return l.exit("chunkContent"),l.exit("content"),u(p)}function contentContinue(u){return l.consume(u),l.exit("chunkContent"),p.next=l.enter("chunkContent",{contentType:"content",previous:p}),p=p.next,chunkInside}},resolve:function(l){return subtokenize(l),l}},n1={tokenize:function(l,u,p){let h=this;return function(u){return l.exit("chunkContent"),l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),factorySpace(l,prefixed,"linePrefix")};function prefixed(g){if(null===g||markdownLineEnding(g))return p(g);let T=h.events[h.events.length-1];return!h.parser.constructs.disable.null.includes("codeIndented")&&T&&"linePrefix"===T[1].type&&T[2].sliceSerialize(T[1],!0).length>=4?u(g):l.interrupt(h.parser.constructs.flow,p,u)(g)}},partial:!0},n0={tokenize:function(l){let u=this,p=l.attempt(nN,function(h){if(null===h){l.consume(h);return}return l.enter("lineEndingBlank"),l.consume(h),l.exit("lineEndingBlank"),u.currentConstruct=void 0,p},l.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(l,l.attempt(this.parser.constructs.flow,afterConstruct,l.attempt(nZ,afterConstruct)),"linePrefix")));return p;function afterConstruct(h){if(null===h){l.consume(h);return}return l.enter("lineEnding"),l.consume(h),l.exit("lineEnding"),u.currentConstruct=void 0,p}}},n9={resolveAll:createResolver()},n5=initializeFactory("string"),n4=initializeFactory("text");function initializeFactory(l){return{tokenize:function(u){let p=this,h=this.parser.constructs[l],g=u.attempt(h,start,notText);return start;function start(l){return atBreak(l)?g(l):notText(l)}function notText(l){if(null===l){u.consume(l);return}return u.enter("data"),u.consume(l),data}function data(l){return atBreak(l)?(u.exit("data"),g(l)):(u.consume(l),data)}function atBreak(l){if(null===l)return!0;let u=h[l],g=-1;if(u)for(;++g<u.length;){let l=u[g];if(!l.previous||l.previous.call(p,p.previous))return!0}return!1}},resolveAll:createResolver("text"===l?resolveAllLineSuffixes:void 0)}}function createResolver(l){return function(u,p){let h,g=-1;for(;++g<=u.length;)void 0===h?u[g]&&"data"===u[g][1].type&&(h=g,g++):u[g]&&"data"===u[g][1].type||(g!==h+2&&(u[h][1].end=u[g-1][1].end,u.splice(h+2,g-h-2),g=h+2),h=void 0);return l?l(u,p):u}}function resolveAllLineSuffixes(l,u){let p=0;for(;++p<=l.length;)if((p===l.length||"lineEnding"===l[p][1].type)&&"data"===l[p-1][1].type){let h;let g=l[p-1][1],T=u.sliceStream(g),E=T.length,v=-1,C=0;for(;E--;){let l=T[E];if("string"==typeof l){for(v=l.length;32===l.charCodeAt(v-1);)C++,v--;if(v)break;v=-1}else if(-2===l)h=!0,C++;else if(-1===l);else{E++;break}}if(C){let T={type:p===l.length||h||C<2?"lineSuffix":"hardBreakTrailing",start:{line:g.end.line,column:g.end.column-C,offset:g.end.offset-C,_index:g.start._index+E,_bufferIndex:E?v:g.start._bufferIndex+v},end:Object.assign({},g.end)};g.end=Object.assign({},T.start),g.start.offset===g.end.offset?Object.assign(g,T):(l.splice(p,0,["enter",T,u],["exit",T,u]),p+=2)}p++}return l}let n2={name:"thematicBreak",tokenize:function(l,u,p){let h,g=0;return function(T){return l.enter("thematicBreak"),h=T,function atBreak(T){return T===h?(l.enter("thematicBreakSequence"),function sequence(u){return u===h?(l.consume(u),g++,sequence):(l.exit("thematicBreakSequence"),markdownSpace(u)?factorySpace(l,atBreak,"whitespace")(u):atBreak(u))}(T)):g>=3&&(null===T||markdownLineEnding(T))?(l.exit("thematicBreak"),u(T)):p(T)}(T)}}},n8={name:"list",tokenize:function(l,u,p){let h=this,g=h.events[h.events.length-1],T=g&&"linePrefix"===g[1].type?g[2].sliceSerialize(g[1],!0).length:0,E=0;return function(u){let g=h.containerState.type||(42===u||43===u||45===u?"listUnordered":"listOrdered");if("listUnordered"===g?!h.containerState.marker||u===h.containerState.marker:nh(u)){if(h.containerState.type||(h.containerState.type=g,l.enter(g,{_container:!0})),"listUnordered"===g)return l.enter("listItemPrefix"),42===u||45===u?l.check(n2,p,atMarker)(u):atMarker(u);if(!h.interrupt||49===u)return l.enter("listItemPrefix"),l.enter("listItemValue"),function inside(u){return nh(u)&&++E<10?(l.consume(u),inside):(!h.interrupt||E<2)&&(h.containerState.marker?u===h.containerState.marker:41===u||46===u)?(l.exit("listItemValue"),atMarker(u)):p(u)}(u)}return p(u)};function atMarker(u){return l.enter("listItemMarker"),l.consume(u),l.exit("listItemMarker"),h.containerState.marker=h.containerState.marker||u,l.check(nN,h.interrupt?p:onBlank,l.attempt(n6,endOfPrefix,otherPrefix))}function onBlank(l){return h.containerState.initialBlankLine=!0,T++,endOfPrefix(l)}function otherPrefix(u){return markdownSpace(u)?(l.enter("listItemPrefixWhitespace"),l.consume(u),l.exit("listItemPrefixWhitespace"),endOfPrefix):p(u)}function endOfPrefix(p){return h.containerState.size=T+h.sliceSerialize(l.exit("listItemPrefix"),!0).length,u(p)}},continuation:{tokenize:function(l,u,p){let h=this;return h.containerState._closeFlow=void 0,l.check(nN,function(p){return h.containerState.furtherBlankLines=h.containerState.furtherBlankLines||h.containerState.initialBlankLine,factorySpace(l,u,"listItemIndent",h.containerState.size+1)(p)},function(p){return h.containerState.furtherBlankLines||!markdownSpace(p)?(h.containerState.furtherBlankLines=void 0,h.containerState.initialBlankLine=void 0,notInCurrentItem(p)):(h.containerState.furtherBlankLines=void 0,h.containerState.initialBlankLine=void 0,l.attempt(n3,u,notInCurrentItem)(p))});function notInCurrentItem(g){return h.containerState._closeFlow=!0,h.interrupt=void 0,factorySpace(l,l.attempt(n8,u,p),"linePrefix",h.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}},exit:function(l){l.exit(this.containerState.type)}},n6={tokenize:function(l,u,p){let h=this;return factorySpace(l,function(l){let g=h.events[h.events.length-1];return!markdownSpace(l)&&g&&"listItemPrefixWhitespace"===g[1].type?u(l):p(l)},"listItemPrefixWhitespace",h.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},n3={tokenize:function(l,u,p){let h=this;return factorySpace(l,function(l){let g=h.events[h.events.length-1];return g&&"listItemIndent"===g[1].type&&g[2].sliceSerialize(g[1],!0).length===h.containerState.size?u(l):p(l)},"listItemIndent",h.containerState.size+1)},partial:!0},n7={name:"blockQuote",tokenize:function(l,u,p){let h=this;return function(u){if(62===u){let p=h.containerState;return p.open||(l.enter("blockQuote",{_container:!0}),p.open=!0),l.enter("blockQuotePrefix"),l.enter("blockQuoteMarker"),l.consume(u),l.exit("blockQuoteMarker"),after}return p(u)};function after(p){return markdownSpace(p)?(l.enter("blockQuotePrefixWhitespace"),l.consume(p),l.exit("blockQuotePrefixWhitespace"),l.exit("blockQuotePrefix"),u):(l.exit("blockQuotePrefix"),u(p))}},continuation:{tokenize:function(l,u,p){let h=this;return function(u){return markdownSpace(u)?factorySpace(l,contBefore,"linePrefix",h.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):contBefore(u)};function contBefore(h){return l.attempt(n7,u,p)(h)}}},exit:function(l){l.exit("blockQuote")}};function factoryDestination(l,u,p,h,g,T,E,v,C){let x=C||Number.POSITIVE_INFINITY,M=0;return function(u){return 60===u?(l.enter(h),l.enter(g),l.enter(T),l.consume(u),l.exit(T),enclosedBefore):null===u||32===u||41===u||asciiControl(u)?p(u):(l.enter(h),l.enter(E),l.enter(v),l.enter("chunkString",{contentType:"string"}),raw(u))};function enclosedBefore(p){return 62===p?(l.enter(T),l.consume(p),l.exit(T),l.exit(g),l.exit(h),u):(l.enter(v),l.enter("chunkString",{contentType:"string"}),enclosed(p))}function enclosed(u){return 62===u?(l.exit("chunkString"),l.exit(v),enclosedBefore(u)):null===u||60===u||markdownLineEnding(u)?p(u):(l.consume(u),92===u?enclosedEscape:enclosed)}function enclosedEscape(u){return 60===u||62===u||92===u?(l.consume(u),enclosed):enclosed(u)}function raw(g){return!M&&(null===g||41===g||markdownLineEndingOrSpace(g))?(l.exit("chunkString"),l.exit(v),l.exit(E),l.exit(h),u(g)):M<x&&40===g?(l.consume(g),M++,raw):41===g?(l.consume(g),M--,raw):null===g||32===g||40===g||asciiControl(g)?p(g):(l.consume(g),92===g?rawEscape:raw)}function rawEscape(u){return 40===u||41===u||92===u?(l.consume(u),raw):raw(u)}}function factoryLabel(l,u,p,h,g,T){let E;let v=this,C=0;return function(u){return l.enter(h),l.enter(g),l.consume(u),l.exit(g),l.enter(T),atBreak};function atBreak(x){return C>999||null===x||91===x||93===x&&!E||94===x&&!C&&"_hiddenFootnoteSupport"in v.parser.constructs?p(x):93===x?(l.exit(T),l.enter(g),l.consume(x),l.exit(g),l.exit(h),u):markdownLineEnding(x)?(l.enter("lineEnding"),l.consume(x),l.exit("lineEnding"),atBreak):(l.enter("chunkString",{contentType:"string"}),labelInside(x))}function labelInside(u){return null===u||91===u||93===u||markdownLineEnding(u)||C++>999?(l.exit("chunkString"),atBreak(u)):(l.consume(u),E||(E=!markdownSpace(u)),92===u?labelEscape:labelInside)}function labelEscape(u){return 91===u||92===u||93===u?(l.consume(u),C++,labelInside):labelInside(u)}}function factoryTitle(l,u,p,h,g,T){let E;return function(u){return 34===u||39===u||40===u?(l.enter(h),l.enter(g),l.consume(u),l.exit(g),E=40===u?41:u,begin):p(u)};function begin(p){return p===E?(l.enter(g),l.consume(p),l.exit(g),l.exit(h),u):(l.enter(T),atBreak(p))}function atBreak(u){return u===E?(l.exit(T),begin(E)):null===u?p(u):markdownLineEnding(u)?(l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),factorySpace(l,atBreak,"linePrefix")):(l.enter("chunkString",{contentType:"string"}),inside(u))}function inside(u){return u===E||null===u||markdownLineEnding(u)?(l.exit("chunkString"),atBreak(u)):(l.consume(u),92===u?escape:inside)}function escape(u){return u===E||92===u?(l.consume(u),inside):inside(u)}}function factoryWhitespace(l,u){let p;return function start(h){return markdownLineEnding(h)?(l.enter("lineEnding"),l.consume(h),l.exit("lineEnding"),p=!0,start):markdownSpace(h)?factorySpace(l,start,p?"linePrefix":"lineSuffix")(h):u(h)}}let re={tokenize:function(l,u,p){return function(u){return markdownLineEndingOrSpace(u)?factoryWhitespace(l,beforeMarker)(u):p(u)};function beforeMarker(u){return factoryTitle(l,titleAfter,p,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function titleAfter(u){return markdownSpace(u)?factorySpace(l,titleAfterOptionalWhitespace,"whitespace")(u):titleAfterOptionalWhitespace(u)}function titleAfterOptionalWhitespace(l){return null===l||markdownLineEnding(l)?u(l):p(l)}},partial:!0},rr={name:"codeIndented",tokenize:function(l,u,p){let h=this;return function(u){return l.enter("codeIndented"),factorySpace(l,afterPrefix,"linePrefix",5)(u)};function afterPrefix(u){let g=h.events[h.events.length-1];return g&&"linePrefix"===g[1].type&&g[2].sliceSerialize(g[1],!0).length>=4?function atBreak(u){return null===u?after(u):markdownLineEnding(u)?l.attempt(ri,atBreak,after)(u):(l.enter("codeFlowValue"),function inside(u){return null===u||markdownLineEnding(u)?(l.exit("codeFlowValue"),atBreak(u)):(l.consume(u),inside)}(u))}(u):p(u)}function after(p){return l.exit("codeIndented"),u(p)}}},ri={tokenize:function(l,u,p){let h=this;return furtherStart;function furtherStart(u){return h.parser.lazy[h.now().line]?p(u):markdownLineEnding(u)?(l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),furtherStart):factorySpace(l,afterPrefix,"linePrefix",5)(u)}function afterPrefix(l){let g=h.events[h.events.length-1];return g&&"linePrefix"===g[1].type&&g[2].sliceSerialize(g[1],!0).length>=4?u(l):markdownLineEnding(l)?furtherStart(l):p(l)}},partial:!0},ra={name:"setextUnderline",tokenize:function(l,u,p){let h;let g=this;return function(u){let T,E=g.events.length;for(;E--;)if("lineEnding"!==g.events[E][1].type&&"linePrefix"!==g.events[E][1].type&&"content"!==g.events[E][1].type){T="paragraph"===g.events[E][1].type;break}return!g.parser.lazy[g.now().line]&&(g.interrupt||T)?(l.enter("setextHeadingLine"),h=u,l.enter("setextHeadingLineSequence"),function inside(u){return u===h?(l.consume(u),inside):(l.exit("setextHeadingLineSequence"),markdownSpace(u)?factorySpace(l,after,"lineSuffix")(u):after(u))}(u)):p(u)};function after(h){return null===h||markdownLineEnding(h)?(l.exit("setextHeadingLine"),u(h)):p(h)}},resolveTo:function(l,u){let p,h,g,T=l.length;for(;T--;)if("enter"===l[T][0]){if("content"===l[T][1].type){p=T;break}"paragraph"===l[T][1].type&&(h=T)}else"content"===l[T][1].type&&l.splice(T,1),g||"definition"!==l[T][1].type||(g=T);let E={type:"setextHeading",start:Object.assign({},l[h][1].start),end:Object.assign({},l[l.length-1][1].end)};return l[h][1].type="setextHeadingText",g?(l.splice(h,0,["enter",E,u]),l.splice(g+1,0,["exit",l[p][1],u]),l[p][1].end=Object.assign({},l[g][1].end)):l[p][1]=E,l.push(["exit",E,u]),l}},rs=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rl=["pre","script","style","textarea"],rc={tokenize:function(l,u,p){return function(h){return l.enter("lineEnding"),l.consume(h),l.exit("lineEnding"),l.attempt(nN,u,p)}},partial:!0},ru={tokenize:function(l,u,p){let h=this;return function(u){return markdownLineEnding(u)?(l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),after):p(u)};function after(l){return h.parser.lazy[h.now().line]?p(l):u(l)}},partial:!0},rd={tokenize:function(l,u,p){let h=this;return function(u){return null===u?p(u):(l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),lineStart)};function lineStart(l){return h.parser.lazy[h.now().line]?p(l):u(l)}},partial:!0},rp={name:"codeFenced",tokenize:function(l,u,p){let h;let g=this,T={tokenize:function(l,u,p){let T=0;return function(u){return l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),start};function start(u){return l.enter("codeFencedFence"),markdownSpace(u)?factorySpace(l,beforeSequenceClose,"linePrefix",g.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):beforeSequenceClose(u)}function beforeSequenceClose(u){return u===h?(l.enter("codeFencedFenceSequence"),function sequenceClose(u){return u===h?(T++,l.consume(u),sequenceClose):T>=v?(l.exit("codeFencedFenceSequence"),markdownSpace(u)?factorySpace(l,sequenceCloseAfter,"whitespace")(u):sequenceCloseAfter(u)):p(u)}(u)):p(u)}function sequenceCloseAfter(h){return null===h||markdownLineEnding(h)?(l.exit("codeFencedFence"),u(h)):p(h)}},partial:!0},E=0,v=0;return function(u){return function(u){let T=g.events[g.events.length-1];return E=T&&"linePrefix"===T[1].type?T[2].sliceSerialize(T[1],!0).length:0,h=u,l.enter("codeFenced"),l.enter("codeFencedFence"),l.enter("codeFencedFenceSequence"),function sequenceOpen(u){return u===h?(v++,l.consume(u),sequenceOpen):v<3?p(u):(l.exit("codeFencedFenceSequence"),markdownSpace(u)?factorySpace(l,infoBefore,"whitespace")(u):infoBefore(u))}(u)}(u)};function infoBefore(T){return null===T||markdownLineEnding(T)?(l.exit("codeFencedFence"),g.interrupt?u(T):l.check(rd,atNonLazyBreak,after)(T)):(l.enter("codeFencedFenceInfo"),l.enter("chunkString",{contentType:"string"}),function info(u){return null===u||markdownLineEnding(u)?(l.exit("chunkString"),l.exit("codeFencedFenceInfo"),infoBefore(u)):markdownSpace(u)?(l.exit("chunkString"),l.exit("codeFencedFenceInfo"),factorySpace(l,metaBefore,"whitespace")(u)):96===u&&u===h?p(u):(l.consume(u),info)}(T))}function metaBefore(u){return null===u||markdownLineEnding(u)?infoBefore(u):(l.enter("codeFencedFenceMeta"),l.enter("chunkString",{contentType:"string"}),function meta(u){return null===u||markdownLineEnding(u)?(l.exit("chunkString"),l.exit("codeFencedFenceMeta"),infoBefore(u)):96===u&&u===h?p(u):(l.consume(u),meta)}(u))}function atNonLazyBreak(u){return l.attempt(T,after,contentBefore)(u)}function contentBefore(u){return l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),contentStart}function contentStart(u){return E>0&&markdownSpace(u)?factorySpace(l,beforeContentChunk,"linePrefix",E+1)(u):beforeContentChunk(u)}function beforeContentChunk(u){return null===u||markdownLineEnding(u)?l.check(rd,atNonLazyBreak,after)(u):(l.enter("codeFlowValue"),function contentChunk(u){return null===u||markdownLineEnding(u)?(l.exit("codeFlowValue"),beforeContentChunk(u)):(l.consume(u),contentChunk)}(u))}function after(p){return l.exit("codeFenced"),u(p)}},concrete:!0},rh={name:"characterReference",tokenize:function(l,u,p){let h,g;let T=this,E=0;return function(u){return l.enter("characterReference"),l.enter("characterReferenceMarker"),l.consume(u),l.exit("characterReferenceMarker"),open};function open(u){return 35===u?(l.enter("characterReferenceMarkerNumeric"),l.consume(u),l.exit("characterReferenceMarkerNumeric"),numeric):(l.enter("characterReferenceValue"),h=31,g=nd,value(u))}function numeric(u){return 88===u||120===u?(l.enter("characterReferenceMarkerHexadecimal"),l.consume(u),l.exit("characterReferenceMarkerHexadecimal"),l.enter("characterReferenceValue"),h=6,g=nf,value):(l.enter("characterReferenceValue"),h=7,g=nh,value(u))}function value(v){if(59===v&&E){let h=l.exit("characterReferenceValue");return g!==nd||decodeNamedCharacterReference(T.sliceSerialize(h))?(l.enter("characterReferenceMarker"),l.consume(v),l.exit("characterReferenceMarker"),l.exit("characterReference"),u):p(v)}return g(v)&&E++<h?(l.consume(v),value):p(v)}}},rf={name:"characterEscape",tokenize:function(l,u,p){return function(u){return l.enter("characterEscape"),l.enter("escapeMarker"),l.consume(u),l.exit("escapeMarker"),inside};function inside(h){return nm(h)?(l.enter("characterEscapeValue"),l.consume(h),l.exit("characterEscapeValue"),l.exit("characterEscape"),u):p(h)}}},rm={name:"lineEnding",tokenize:function(l,u){return function(p){return l.enter("lineEnding"),l.consume(p),l.exit("lineEnding"),factorySpace(l,u,"linePrefix")}}},rg={name:"labelEnd",tokenize:function(l,u,p){let h,g;let T=this,E=T.events.length;for(;E--;)if(("labelImage"===T.events[E][1].type||"labelLink"===T.events[E][1].type)&&!T.events[E][1]._balanced){h=T.events[E][1];break}return function(u){return h?h._inactive?labelEndNok(u):(g=T.parser.defined.includes(normalizeIdentifier(T.sliceSerialize({start:h.end,end:T.now()}))),l.enter("labelEnd"),l.enter("labelMarker"),l.consume(u),l.exit("labelMarker"),l.exit("labelEnd"),after):p(u)};function after(u){return 40===u?l.attempt(ry,labelEndOk,g?labelEndOk:labelEndNok)(u):91===u?l.attempt(rb,labelEndOk,g?referenceNotFull:labelEndNok)(u):g?labelEndOk(u):labelEndNok(u)}function referenceNotFull(u){return l.attempt(rT,labelEndOk,labelEndNok)(u)}function labelEndOk(l){return u(l)}function labelEndNok(l){return h._balanced=!0,p(l)}},resolveTo:function(l,u){let p,h,g,T,E=l.length,v=0;for(;E--;)if(p=l[E][1],h){if("link"===p.type||"labelLink"===p.type&&p._inactive)break;"enter"===l[E][0]&&"labelLink"===p.type&&(p._inactive=!0)}else if(g){if("enter"===l[E][0]&&("labelImage"===p.type||"labelLink"===p.type)&&!p._balanced&&(h=E,"labelLink"!==p.type)){v=2;break}}else"labelEnd"===p.type&&(g=E);let C={type:"labelLink"===l[h][1].type?"link":"image",start:Object.assign({},l[h][1].start),end:Object.assign({},l[l.length-1][1].end)},x={type:"label",start:Object.assign({},l[h][1].start),end:Object.assign({},l[g][1].end)},M={type:"labelText",start:Object.assign({},l[h+v+2][1].end),end:Object.assign({},l[g-2][1].start)};return T=push(T=[["enter",C,u],["enter",x,u]],l.slice(h+1,h+v+3)),T=push(T,[["enter",M,u]]),T=push(T,resolveAll(u.parser.constructs.insideSpan.null,l.slice(h+v+4,g-3),u)),T=push(T,[["exit",M,u],l[g-2],l[g-1],["exit",x,u]]),T=push(T,l.slice(g+1)),T=push(T,[["exit",C,u]]),splice(l,h,l.length,T),l},resolveAll:function(l){let u=-1;for(;++u<l.length;){let p=l[u][1];("labelImage"===p.type||"labelLink"===p.type||"labelEnd"===p.type)&&(l.splice(u+1,"labelImage"===p.type?4:2),p.type="data",u++)}return l}},ry={tokenize:function(l,u,p){return function(u){return l.enter("resource"),l.enter("resourceMarker"),l.consume(u),l.exit("resourceMarker"),resourceBefore};function resourceBefore(u){return markdownLineEndingOrSpace(u)?factoryWhitespace(l,resourceOpen)(u):resourceOpen(u)}function resourceOpen(u){return 41===u?resourceEnd(u):factoryDestination(l,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function resourceDestinationAfter(u){return markdownLineEndingOrSpace(u)?factoryWhitespace(l,resourceBetween)(u):resourceEnd(u)}function resourceDestinationMissing(l){return p(l)}function resourceBetween(u){return 34===u||39===u||40===u?factoryTitle(l,resourceTitleAfter,p,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):resourceEnd(u)}function resourceTitleAfter(u){return markdownLineEndingOrSpace(u)?factoryWhitespace(l,resourceEnd)(u):resourceEnd(u)}function resourceEnd(h){return 41===h?(l.enter("resourceMarker"),l.consume(h),l.exit("resourceMarker"),l.exit("resource"),u):p(h)}}},rb={tokenize:function(l,u,p){let h=this;return function(u){return factoryLabel.call(h,l,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(u)};function referenceFullAfter(l){return h.parser.defined.includes(normalizeIdentifier(h.sliceSerialize(h.events[h.events.length-1][1]).slice(1,-1)))?u(l):p(l)}function referenceFullMissing(l){return p(l)}}},rT={tokenize:function(l,u,p){return function(u){return l.enter("reference"),l.enter("referenceMarker"),l.consume(u),l.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(h){return 93===h?(l.enter("referenceMarker"),l.consume(h),l.exit("referenceMarker"),l.exit("reference"),u):p(h)}}},rE={name:"labelStartImage",tokenize:function(l,u,p){let h=this;return function(u){return l.enter("labelImage"),l.enter("labelImageMarker"),l.consume(u),l.exit("labelImageMarker"),open};function open(u){return 91===u?(l.enter("labelMarker"),l.consume(u),l.exit("labelMarker"),l.exit("labelImage"),after):p(u)}function after(l){return 94===l&&"_hiddenFootnoteSupport"in h.parser.constructs?p(l):u(l)}},resolveAll:rg.resolveAll},rv={name:"attention",tokenize:function(l,u){let p;let h=this.parser.constructs.attentionMarkers.null,g=this.previous,T=classifyCharacter(g);return function(E){return p=E,l.enter("attentionSequence"),function inside(E){if(E===p)return l.consume(E),inside;let v=l.exit("attentionSequence"),C=classifyCharacter(E),x=!C||2===C&&T||h.includes(E),M=!T||2===T&&C||h.includes(g);return v._open=!!(42===p?x:x&&(T||!M)),v._close=!!(42===p?M:M&&(C||!x)),u(E)}(E)}},resolveAll:function(l,u){let p,h,g,T,E,v,C,x,M=-1;for(;++M<l.length;)if("enter"===l[M][0]&&"attentionSequence"===l[M][1].type&&l[M][1]._close){for(p=M;p--;)if("exit"===l[p][0]&&"attentionSequence"===l[p][1].type&&l[p][1]._open&&u.sliceSerialize(l[p][1]).charCodeAt(0)===u.sliceSerialize(l[M][1]).charCodeAt(0)){if((l[p][1]._close||l[M][1]._open)&&(l[M][1].end.offset-l[M][1].start.offset)%3&&!((l[p][1].end.offset-l[p][1].start.offset+l[M][1].end.offset-l[M][1].start.offset)%3))continue;v=l[p][1].end.offset-l[p][1].start.offset>1&&l[M][1].end.offset-l[M][1].start.offset>1?2:1;let O=Object.assign({},l[p][1].end),R=Object.assign({},l[M][1].start);movePoint(O,-v),movePoint(R,v),T={type:v>1?"strongSequence":"emphasisSequence",start:O,end:Object.assign({},l[p][1].end)},E={type:v>1?"strongSequence":"emphasisSequence",start:Object.assign({},l[M][1].start),end:R},g={type:v>1?"strongText":"emphasisText",start:Object.assign({},l[p][1].end),end:Object.assign({},l[M][1].start)},h={type:v>1?"strong":"emphasis",start:Object.assign({},T.start),end:Object.assign({},E.end)},l[p][1].end=Object.assign({},T.start),l[M][1].start=Object.assign({},E.end),C=[],l[p][1].end.offset-l[p][1].start.offset&&(C=push(C,[["enter",l[p][1],u],["exit",l[p][1],u]])),C=push(C,[["enter",h,u],["enter",T,u],["exit",T,u],["enter",g,u]]),C=push(C,resolveAll(u.parser.constructs.insideSpan.null,l.slice(p+1,M),u)),C=push(C,[["exit",g,u],["enter",E,u],["exit",E,u],["exit",h,u]]),l[M][1].end.offset-l[M][1].start.offset?(x=2,C=push(C,[["enter",l[M][1],u],["exit",l[M][1],u]])):x=0,splice(l,p-1,M-p+3,C),M=p+C.length-x-2;break}}for(M=-1;++M<l.length;)"attentionSequence"===l[M][1].type&&(l[M][1].type="data");return l}};function movePoint(l,u){l.column+=u,l.offset+=u,l._bufferIndex+=u}let rk={name:"labelStartLink",tokenize:function(l,u,p){let h=this;return function(u){return l.enter("labelLink"),l.enter("labelMarker"),l.consume(u),l.exit("labelMarker"),l.exit("labelLink"),after};function after(l){return 94===l&&"_hiddenFootnoteSupport"in h.parser.constructs?p(l):u(l)}},resolveAll:rg.resolveAll},rS={42:n8,43:n8,45:n8,48:n8,49:n8,50:n8,51:n8,52:n8,53:n8,54:n8,55:n8,56:n8,57:n8,62:n7},rC={91:{name:"definition",tokenize:function(l,u,p){let h;let g=this;return function(u){return l.enter("definition"),factoryLabel.call(g,l,labelAfter,p,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)};function labelAfter(u){return(h=normalizeIdentifier(g.sliceSerialize(g.events[g.events.length-1][1]).slice(1,-1)),58===u)?(l.enter("definitionMarker"),l.consume(u),l.exit("definitionMarker"),markerAfter):p(u)}function markerAfter(u){return markdownLineEndingOrSpace(u)?factoryWhitespace(l,destinationBefore)(u):destinationBefore(u)}function destinationBefore(u){return factoryDestination(l,destinationAfter,p,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(u)}function destinationAfter(u){return l.attempt(re,after,after)(u)}function after(u){return markdownSpace(u)?factorySpace(l,afterWhitespace,"whitespace")(u):afterWhitespace(u)}function afterWhitespace(T){return null===T||markdownLineEnding(T)?(l.exit("definition"),g.parser.defined.push(h),u(T)):p(T)}}}},rw={[-2]:rr,[-1]:rr,32:rr},rx={35:{name:"headingAtx",tokenize:function(l,u,p){let h=0;return function(g){return l.enter("atxHeading"),l.enter("atxHeadingSequence"),function sequenceOpen(g){return 35===g&&h++<6?(l.consume(g),sequenceOpen):null===g||markdownLineEndingOrSpace(g)?(l.exit("atxHeadingSequence"),function atBreak(p){return 35===p?(l.enter("atxHeadingSequence"),function sequenceFurther(u){return 35===u?(l.consume(u),sequenceFurther):(l.exit("atxHeadingSequence"),atBreak(u))}(p)):null===p||markdownLineEnding(p)?(l.exit("atxHeading"),u(p)):markdownSpace(p)?factorySpace(l,atBreak,"whitespace")(p):(l.enter("atxHeadingText"),function data(u){return null===u||35===u||markdownLineEndingOrSpace(u)?(l.exit("atxHeadingText"),atBreak(u)):(l.consume(u),data)}(p))}(g)):p(g)}(g)}},resolve:function(l,u){let p,h,g=l.length-2,T=3;return"whitespace"===l[3][1].type&&(T+=2),g-2>T&&"whitespace"===l[g][1].type&&(g-=2),"atxHeadingSequence"===l[g][1].type&&(T===g-1||g-4>T&&"whitespace"===l[g-2][1].type)&&(g-=T+1===g?2:4),g>T&&(p={type:"atxHeadingText",start:l[T][1].start,end:l[g][1].end},h={type:"chunkText",start:l[T][1].start,end:l[g][1].end,contentType:"text"},splice(l,T,g-T+1,[["enter",p,u],["enter",h,u],["exit",h,u],["exit",p,u]])),l}},42:n2,45:[ra,n2],60:{name:"htmlFlow",tokenize:function(l,u,p){let h,g,T,E,v;let C=this;return function(u){return l.enter("htmlFlow"),l.enter("htmlFlowData"),l.consume(u),open};function open(E){return 33===E?(l.consume(E),declarationOpen):47===E?(l.consume(E),g=!0,tagCloseStart):63===E?(l.consume(E),h=3,C.interrupt?u:continuationDeclarationInside):nu(E)?(l.consume(E),T=String.fromCharCode(E),tagName):p(E)}function declarationOpen(g){return 45===g?(l.consume(g),h=2,commentOpenInside):91===g?(l.consume(g),h=5,E=0,cdataOpenInside):nu(g)?(l.consume(g),h=4,C.interrupt?u:continuationDeclarationInside):p(g)}function commentOpenInside(h){return 45===h?(l.consume(h),C.interrupt?u:continuationDeclarationInside):p(h)}function cdataOpenInside(h){let g="CDATA[";return h===g.charCodeAt(E++)?(l.consume(h),E===g.length)?C.interrupt?u:continuation:cdataOpenInside:p(h)}function tagCloseStart(u){return nu(u)?(l.consume(u),T=String.fromCharCode(u),tagName):p(u)}function tagName(E){if(null===E||47===E||62===E||markdownLineEndingOrSpace(E)){let v=47===E,x=T.toLowerCase();return!v&&!g&&rl.includes(x)?(h=1,C.interrupt?u(E):continuation(E)):rs.includes(T.toLowerCase())?(h=6,v)?(l.consume(E),basicSelfClosing):C.interrupt?u(E):continuation(E):(h=7,C.interrupt&&!C.parser.lazy[C.now().line]?p(E):g?function completeClosingTagAfter(u){return markdownSpace(u)?(l.consume(u),completeClosingTagAfter):completeEnd(u)}(E):completeAttributeNameBefore(E))}return 45===E||nd(E)?(l.consume(E),T+=String.fromCharCode(E),tagName):p(E)}function basicSelfClosing(h){return 62===h?(l.consume(h),C.interrupt?u:continuation):p(h)}function completeAttributeNameBefore(u){return 47===u?(l.consume(u),completeEnd):58===u||95===u||nu(u)?(l.consume(u),completeAttributeName):markdownSpace(u)?(l.consume(u),completeAttributeNameBefore):completeEnd(u)}function completeAttributeName(u){return 45===u||46===u||58===u||95===u||nd(u)?(l.consume(u),completeAttributeName):completeAttributeNameAfter(u)}function completeAttributeNameAfter(u){return 61===u?(l.consume(u),completeAttributeValueBefore):markdownSpace(u)?(l.consume(u),completeAttributeNameAfter):completeAttributeNameBefore(u)}function completeAttributeValueBefore(u){return null===u||60===u||61===u||62===u||96===u?p(u):34===u||39===u?(l.consume(u),v=u,completeAttributeValueQuoted):markdownSpace(u)?(l.consume(u),completeAttributeValueBefore):function completeAttributeValueUnquoted(u){return null===u||34===u||39===u||47===u||60===u||61===u||62===u||96===u||markdownLineEndingOrSpace(u)?completeAttributeNameAfter(u):(l.consume(u),completeAttributeValueUnquoted)}(u)}function completeAttributeValueQuoted(u){return u===v?(l.consume(u),v=null,completeAttributeValueQuotedAfter):null===u||markdownLineEnding(u)?p(u):(l.consume(u),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(l){return 47===l||62===l||markdownSpace(l)?completeAttributeNameBefore(l):p(l)}function completeEnd(u){return 62===u?(l.consume(u),completeAfter):p(u)}function completeAfter(u){return null===u||markdownLineEnding(u)?continuation(u):markdownSpace(u)?(l.consume(u),completeAfter):p(u)}function continuation(u){return 45===u&&2===h?(l.consume(u),continuationCommentInside):60===u&&1===h?(l.consume(u),continuationRawTagOpen):62===u&&4===h?(l.consume(u),continuationClose):63===u&&3===h?(l.consume(u),continuationDeclarationInside):93===u&&5===h?(l.consume(u),continuationCdataInside):markdownLineEnding(u)&&(6===h||7===h)?(l.exit("htmlFlowData"),l.check(rc,continuationAfter,continuationStart)(u)):null===u||markdownLineEnding(u)?(l.exit("htmlFlowData"),continuationStart(u)):(l.consume(u),continuation)}function continuationStart(u){return l.check(ru,continuationStartNonLazy,continuationAfter)(u)}function continuationStartNonLazy(u){return l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),continuationBefore}function continuationBefore(u){return null===u||markdownLineEnding(u)?continuationStart(u):(l.enter("htmlFlowData"),continuation(u))}function continuationCommentInside(u){return 45===u?(l.consume(u),continuationDeclarationInside):continuation(u)}function continuationRawTagOpen(u){return 47===u?(l.consume(u),T="",continuationRawEndTag):continuation(u)}function continuationRawEndTag(u){if(62===u){let p=T.toLowerCase();return rl.includes(p)?(l.consume(u),continuationClose):continuation(u)}return nu(u)&&T.length<8?(l.consume(u),T+=String.fromCharCode(u),continuationRawEndTag):continuation(u)}function continuationCdataInside(u){return 93===u?(l.consume(u),continuationDeclarationInside):continuation(u)}function continuationDeclarationInside(u){return 62===u?(l.consume(u),continuationClose):45===u&&2===h?(l.consume(u),continuationDeclarationInside):continuation(u)}function continuationClose(u){return null===u||markdownLineEnding(u)?(l.exit("htmlFlowData"),continuationAfter(u)):(l.consume(u),continuationClose)}function continuationAfter(p){return l.exit("htmlFlow"),u(p)}},resolveTo:function(l){let u=l.length;for(;u--&&("enter"!==l[u][0]||"htmlFlow"!==l[u][1].type););return u>1&&"linePrefix"===l[u-2][1].type&&(l[u][1].start=l[u-2][1].start,l[u+1][1].start=l[u-2][1].start,l.splice(u-2,2)),l},concrete:!0},61:ra,95:n2,96:rp,126:rp},rA={38:rh,92:rf},r_={[-5]:rm,[-4]:rm,[-3]:rm,33:rE,38:rh,42:rv,60:[{name:"autolink",tokenize:function(l,u,p){let h=0;return function(u){return l.enter("autolink"),l.enter("autolinkMarker"),l.consume(u),l.exit("autolinkMarker"),l.enter("autolinkProtocol"),open};function open(u){return nu(u)?(l.consume(u),schemeOrEmailAtext):emailAtext(u)}function schemeOrEmailAtext(u){return 43===u||45===u||46===u||nd(u)?(h=1,function schemeInsideOrEmailAtext(u){return 58===u?(l.consume(u),h=0,urlInside):(43===u||45===u||46===u||nd(u))&&h++<32?(l.consume(u),schemeInsideOrEmailAtext):(h=0,emailAtext(u))}(u)):emailAtext(u)}function urlInside(h){return 62===h?(l.exit("autolinkProtocol"),l.enter("autolinkMarker"),l.consume(h),l.exit("autolinkMarker"),l.exit("autolink"),u):null===h||32===h||60===h||asciiControl(h)?p(h):(l.consume(h),urlInside)}function emailAtext(u){return 64===u?(l.consume(u),emailAtSignOrDot):np(u)?(l.consume(u),emailAtext):p(u)}function emailAtSignOrDot(g){return nd(g)?function emailLabel(g){return 46===g?(l.consume(g),h=0,emailAtSignOrDot):62===g?(l.exit("autolinkProtocol").type="autolinkEmail",l.enter("autolinkMarker"),l.consume(g),l.exit("autolinkMarker"),l.exit("autolink"),u):function emailValue(u){if((45===u||nd(u))&&h++<63){let p=45===u?emailValue:emailLabel;return l.consume(u),p}return p(u)}(g)}(g):p(g)}}},{name:"htmlText",tokenize:function(l,u,p){let h,g,T;let E=this;return function(u){return l.enter("htmlText"),l.enter("htmlTextData"),l.consume(u),open};function open(u){return 33===u?(l.consume(u),declarationOpen):47===u?(l.consume(u),tagCloseStart):63===u?(l.consume(u),instruction):nu(u)?(l.consume(u),tagOpen):p(u)}function declarationOpen(u){return 45===u?(l.consume(u),commentOpenInside):91===u?(l.consume(u),g=0,cdataOpenInside):nu(u)?(l.consume(u),declaration):p(u)}function commentOpenInside(u){return 45===u?(l.consume(u),commentEnd):p(u)}function comment(u){return null===u?p(u):45===u?(l.consume(u),commentClose):markdownLineEnding(u)?(T=comment,lineEndingBefore(u)):(l.consume(u),comment)}function commentClose(u){return 45===u?(l.consume(u),commentEnd):comment(u)}function commentEnd(l){return 62===l?end(l):45===l?commentClose(l):comment(l)}function cdataOpenInside(u){let h="CDATA[";return u===h.charCodeAt(g++)?(l.consume(u),g===h.length?cdata:cdataOpenInside):p(u)}function cdata(u){return null===u?p(u):93===u?(l.consume(u),cdataClose):markdownLineEnding(u)?(T=cdata,lineEndingBefore(u)):(l.consume(u),cdata)}function cdataClose(u){return 93===u?(l.consume(u),cdataEnd):cdata(u)}function cdataEnd(u){return 62===u?end(u):93===u?(l.consume(u),cdataEnd):cdata(u)}function declaration(u){return null===u||62===u?end(u):markdownLineEnding(u)?(T=declaration,lineEndingBefore(u)):(l.consume(u),declaration)}function instruction(u){return null===u?p(u):63===u?(l.consume(u),instructionClose):markdownLineEnding(u)?(T=instruction,lineEndingBefore(u)):(l.consume(u),instruction)}function instructionClose(l){return 62===l?end(l):instruction(l)}function tagCloseStart(u){return nu(u)?(l.consume(u),tagClose):p(u)}function tagClose(u){return 45===u||nd(u)?(l.consume(u),tagClose):function tagCloseBetween(u){return markdownLineEnding(u)?(T=tagCloseBetween,lineEndingBefore(u)):markdownSpace(u)?(l.consume(u),tagCloseBetween):end(u)}(u)}function tagOpen(u){return 45===u||nd(u)?(l.consume(u),tagOpen):47===u||62===u||markdownLineEndingOrSpace(u)?tagOpenBetween(u):p(u)}function tagOpenBetween(u){return 47===u?(l.consume(u),end):58===u||95===u||nu(u)?(l.consume(u),tagOpenAttributeName):markdownLineEnding(u)?(T=tagOpenBetween,lineEndingBefore(u)):markdownSpace(u)?(l.consume(u),tagOpenBetween):end(u)}function tagOpenAttributeName(u){return 45===u||46===u||58===u||95===u||nd(u)?(l.consume(u),tagOpenAttributeName):function tagOpenAttributeNameAfter(u){return 61===u?(l.consume(u),tagOpenAttributeValueBefore):markdownLineEnding(u)?(T=tagOpenAttributeNameAfter,lineEndingBefore(u)):markdownSpace(u)?(l.consume(u),tagOpenAttributeNameAfter):tagOpenBetween(u)}(u)}function tagOpenAttributeValueBefore(u){return null===u||60===u||61===u||62===u||96===u?p(u):34===u||39===u?(l.consume(u),h=u,tagOpenAttributeValueQuoted):markdownLineEnding(u)?(T=tagOpenAttributeValueBefore,lineEndingBefore(u)):markdownSpace(u)?(l.consume(u),tagOpenAttributeValueBefore):(l.consume(u),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(u){return u===h?(l.consume(u),h=void 0,tagOpenAttributeValueQuotedAfter):null===u?p(u):markdownLineEnding(u)?(T=tagOpenAttributeValueQuoted,lineEndingBefore(u)):(l.consume(u),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(u){return null===u||34===u||39===u||60===u||61===u||96===u?p(u):47===u||62===u||markdownLineEndingOrSpace(u)?tagOpenBetween(u):(l.consume(u),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(l){return 47===l||62===l||markdownLineEndingOrSpace(l)?tagOpenBetween(l):p(l)}function end(h){return 62===h?(l.consume(h),l.exit("htmlTextData"),l.exit("htmlText"),u):p(h)}function lineEndingBefore(u){return l.exit("htmlTextData"),l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(u){return markdownSpace(u)?factorySpace(l,lineEndingAfterPrefix,"linePrefix",E.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):lineEndingAfterPrefix(u)}function lineEndingAfterPrefix(u){return l.enter("htmlTextData"),T(u)}}}],91:rk,92:[{name:"hardBreakEscape",tokenize:function(l,u,p){return function(u){return l.enter("hardBreakEscape"),l.consume(u),after};function after(h){return markdownLineEnding(h)?(l.exit("hardBreakEscape"),u(h)):p(h)}}},rf],93:rg,95:rv,96:{name:"codeText",tokenize:function(l,u,p){let h,g,T=0;return function(u){return l.enter("codeText"),l.enter("codeTextSequence"),function sequenceOpen(u){return 96===u?(l.consume(u),T++,sequenceOpen):(l.exit("codeTextSequence"),between(u))}(u)};function between(E){return null===E?p(E):32===E?(l.enter("space"),l.consume(E),l.exit("space"),between):96===E?(g=l.enter("codeTextSequence"),h=0,function sequenceClose(p){return 96===p?(l.consume(p),h++,sequenceClose):h===T?(l.exit("codeTextSequence"),l.exit("codeText"),u(p)):(g.type="codeTextData",data(p))}(E)):markdownLineEnding(E)?(l.enter("lineEnding"),l.consume(E),l.exit("lineEnding"),between):(l.enter("codeTextData"),data(E))}function data(u){return null===u||32===u||96===u||markdownLineEnding(u)?(l.exit("codeTextData"),between(u)):(l.consume(u),data)}},resolve:function(l){let u,p,h=l.length-4,g=3;if(("lineEnding"===l[3][1].type||"space"===l[g][1].type)&&("lineEnding"===l[h][1].type||"space"===l[h][1].type)){for(u=g;++u<h;)if("codeTextData"===l[u][1].type){l[g][1].type="codeTextPadding",l[h][1].type="codeTextPadding",g+=2,h-=2;break}}for(u=g-1,h++;++u<=h;)void 0===p?u!==h&&"lineEnding"!==l[u][1].type&&(p=u):(u===h||"lineEnding"===l[u][1].type)&&(l[p][1].type="codeTextData",u!==p+2&&(l[p][1].end=l[u-1][1].end,l.splice(p+2,u-p-2),h-=u-p-2,u=p+2),p=void 0);return l},previous:function(l){return 96!==l||"characterEscape"===this.events[this.events.length-1][1].type}}},rN={null:[rv,n9]},rM={null:[42,95]},rO={null:[]},rI=/[\0\t\n\r]/g,rR={}.hasOwnProperty,fromMarkdown=function(l,u,p){let h,g,T,E;return"string"!=typeof u&&(p=u,u=void 0),(function(l){let u={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(l){return{type:"listItem",spread:l._spread,checked:null,children:[]}}),listItemValue:function(l){if(p.expectingFirstListItemValue){let u=this.stack[this.stack.length-2];u.start=Number.parseInt(this.sliceSerialize(l),10),p.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){p.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){p.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(l){let u=this.stack[this.stack.length-1];if(!u.depth){let p=this.sliceSerialize(l).length;u.depth=p}},autolink:closer(),autolinkEmail:function(l){onexitdata.call(this,l);let u=this.stack[this.stack.length-1];u.url="mailto:"+this.sliceSerialize(l)},autolinkProtocol:function(l){onexitdata.call(this,l);let u=this.stack[this.stack.length-1];u.url=this.sliceSerialize(l)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(l){let u;let h=this.sliceSerialize(l),g=p.characterReferenceType;if(g)u=decodeNumericCharacterReference(h,"characterReferenceMarkerNumeric"===g?10:16),p.characterReferenceType=void 0;else{let l=decodeNamedCharacterReference(h);u=l}let T=this.stack.pop();T.value+=u,T.position.end=mdast_util_from_markdown_lib_point(l.end)},codeFenced:closer(function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.value=l.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),p.flowCodeInside=void 0}),codeFencedFence:function(){!p.flowCodeInside&&(this.buffer(),p.flowCodeInside=!0)},codeFencedFenceInfo:function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.lang=l},codeFencedFenceMeta:function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.meta=l},codeFlowValue:onexitdata,codeIndented:closer(function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.value=l.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.value=l}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.url=l},definitionLabelString:function(l){let u=this.resume(),p=this.stack[this.stack.length-1];p.label=u,p.identifier=normalizeIdentifier(this.sliceSerialize(l)).toLowerCase()},definitionTitleString:function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.title=l},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.value=l}),htmlFlowData:onexitdata,htmlText:closer(function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.value=l}),htmlTextData:onexitdata,image:closer(function(){let l=this.stack[this.stack.length-1];if(p.inReference){let u=p.referenceType||"shortcut";l.type+="Reference",l.referenceType=u,delete l.url,delete l.title}else delete l.identifier,delete l.label;p.referenceType=void 0}),label:function(){let l=this.stack[this.stack.length-1],u=this.resume(),h=this.stack[this.stack.length-1];if(p.inReference=!0,"link"===h.type){let u=l.children;h.children=u}else h.alt=u},labelText:function(l){let u=this.sliceSerialize(l),p=this.stack[this.stack.length-2];p.label=decodeString(u),p.identifier=normalizeIdentifier(u).toLowerCase()},lineEnding:function(l){let h=this.stack[this.stack.length-1];if(p.atHardBreak){let u=h.children[h.children.length-1];u.position.end=mdast_util_from_markdown_lib_point(l.end),p.atHardBreak=void 0;return}!p.setextHeadingSlurpLineEnding&&u.canContainEols.includes(h.type)&&(onenterdata.call(this,l),onexitdata.call(this,l))},link:closer(function(){let l=this.stack[this.stack.length-1];if(p.inReference){let u=p.referenceType||"shortcut";l.type+="Reference",l.referenceType=u,delete l.url,delete l.title}else delete l.identifier,delete l.label;p.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(l){let u=this.resume(),h=this.stack[this.stack.length-1];h.label=u,h.identifier=normalizeIdentifier(this.sliceSerialize(l)).toLowerCase(),p.referenceType="full"},resourceDestinationString:function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.url=l},resourceTitleString:function(){let l=this.resume(),u=this.stack[this.stack.length-1];u.title=l},resource:function(){p.inReference=void 0},setextHeading:closer(function(){p.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(l){let u=this.stack[this.stack.length-1];u.depth=61===this.sliceSerialize(l).charCodeAt(0)?1:2},setextHeadingText:function(){p.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};!function lib_configure(l,u){let p=-1;for(;++p<u.length;){let h=u[p];Array.isArray(h)?lib_configure(l,h):function(l,u){let p;for(p in u)if(rR.call(u,p)){if("canContainEols"===p){let h=u[p];h&&l[p].push(...h)}else if("transforms"===p){let h=u[p];h&&l[p].push(...h)}else if("enter"===p||"exit"===p){let h=u[p];h&&Object.assign(l[p],h)}}}(l,h)}}(u,(l||{}).mdastExtensions||[]);let p={};return function(l){let p={type:"root",children:[]},h={stack:[p],tokenStack:[],config:u,enter,exit,buffer,resume,setData,getData},g=[],T=-1;for(;++T<l.length;)if("listOrdered"===l[T][1].type||"listUnordered"===l[T][1].type){if("enter"===l[T][0])g.push(T);else{let u=g.pop();T=function(l,u,p){let h,g,T,E,v=u-1,C=-1,x=!1;for(;++v<=p;){let u=l[v];if("listUnordered"===u[1].type||"listOrdered"===u[1].type||"blockQuote"===u[1].type?("enter"===u[0]?C++:C--,E=void 0):"lineEndingBlank"===u[1].type?"enter"===u[0]&&(!h||E||C||T||(T=v),E=void 0):"linePrefix"===u[1].type||"listItemValue"===u[1].type||"listItemMarker"===u[1].type||"listItemPrefix"===u[1].type||"listItemPrefixWhitespace"===u[1].type||(E=void 0),!C&&"enter"===u[0]&&"listItemPrefix"===u[1].type||-1===C&&"exit"===u[0]&&("listUnordered"===u[1].type||"listOrdered"===u[1].type)){if(h){let E=v;for(g=void 0;E--;){let u=l[E];if("lineEnding"===u[1].type||"lineEndingBlank"===u[1].type){if("exit"===u[0])continue;g&&(l[g][1].type="lineEndingBlank",x=!0),u[1].type="lineEnding",g=E}else if("linePrefix"===u[1].type||"blockQuotePrefix"===u[1].type||"blockQuotePrefixWhitespace"===u[1].type||"blockQuoteMarker"===u[1].type||"listItemIndent"===u[1].type);else break}T&&(!g||T<g)&&(h._spread=!0),h.end=Object.assign({},g?l[g][1].start:u[1].end),l.splice(g||v,0,["exit",h,u[2]]),v++,p++}"listItemPrefix"===u[1].type&&(h={type:"listItem",_spread:!1,start:Object.assign({},u[1].start),end:void 0},l.splice(v,0,["enter",h,u[2]]),v++,p++,T=void 0,E=!0)}}return l[u][1]._spread=x,p}(l,u,T)}}for(T=-1;++T<l.length;){let p=u[l[T][0]];rR.call(p,l[T][1].type)&&p[l[T][1].type].call(Object.assign({sliceSerialize:l[T][2].sliceSerialize},h),l[T][1])}if(h.tokenStack.length>0){let l=h.tokenStack[h.tokenStack.length-1],u=l[1]||defaultOnError;u.call(h,void 0,l[0])}for(p.position={start:mdast_util_from_markdown_lib_point(l.length>0?l[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(l.length>0?l[l.length-2][1].end:{line:1,column:1,offset:0})},T=-1;++T<u.transforms.length;)p=u.transforms[T](p)||p;return p};function setData(l,u){p[l]=u}function getData(l){return p[l]}function opener(l,u){return function(p){enter.call(this,l(p),p),u&&u.call(this,p)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(l,u,p){let h=this.stack[this.stack.length-1];return h.children.push(l),this.stack.push(l),this.tokenStack.push([u,p]),l.position={start:mdast_util_from_markdown_lib_point(u.start)},l}function closer(l){return function(u){l&&l.call(this,u),exit.call(this,u)}}function exit(l,u){let p=this.stack.pop(),h=this.tokenStack.pop();if(h){if(h[0].type!==l.type){if(u)u.call(this,l,h[0]);else{let u=h[1]||defaultOnError;u.call(this,l,h[0])}}}else throw Error("Cannot close `"+l.type+"` ("+stringifyPosition({start:l.start,end:l.end})+"): it’s not open");return p.position.end=mdast_util_from_markdown_lib_point(l.end),p}function resume(){return lib_toString(this.stack.pop())}function onenterdata(l){let u=this.stack[this.stack.length-1],p=u.children[u.children.length-1];p&&"text"===p.type||((p={type:"text",value:""}).position={start:mdast_util_from_markdown_lib_point(l.start)},u.children.push(p)),this.stack.push(p)}function onexitdata(l){let u=this.stack.pop();u.value+=this.sliceSerialize(l),u.position.end=mdast_util_from_markdown_lib_point(l.end)}function onexithardbreak(){p.atHardBreak=!0}function onexitcharacterreferencemarker(l){var u;u=l.type,p.characterReferenceType=u}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:void 0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(l){return{type:"list",ordered:"listOrdered"===l.type,start:null,spread:l._spread,children:[]}}})(p)(function(l){for(;!subtokenize(l););return l}((function(l){let u=combineExtensions([M,...(l||{}).extensions||[]]),p={defined:[],lazy:{},constructs:u,content:create(nQ),document:create(nJ),flow:create(n0),string:create(n5),text:create(n4)};return p;function create(l){return function(u){return function(l,u,p){let h=Object.assign(p?Object.assign({},p):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),g={},T=[],E=[],v=[],C={consume:function(l){markdownLineEnding(l)?(h.line++,h.column=1,h.offset+=-3===l?2:1,accountForPotentialSkip()):-1!==l&&(h.column++,h.offset++),h._bufferIndex<0?h._index++:(h._bufferIndex++,h._bufferIndex===E[h._index].length&&(h._bufferIndex=-1,h._index++)),x.previous=l},enter:function(l,u){let p=u||{};return p.type=l,p.start=now(),x.events.push(["enter",p,x]),v.push(p),p},exit:function(l){let u=v.pop();return u.end=now(),x.events.push(["exit",u,x]),u},attempt:constructFactory(function(l,u){addResult(l,u.from)}),check:constructFactory(onsuccessfulcheck),interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},x={previous:null,code:null,containerState:{},events:[],parser:l,sliceStream,sliceSerialize:function(l,u){return function(l,u){let p,h=-1,g=[];for(;++h<l.length;){let T;let E=l[h];if("string"==typeof E)T=E;else switch(E){case -5:T="\r";break;case -4:T="\n";break;case -3:T="\r\n";break;case -2:T=u?" ":"	";break;case -1:if(!u&&p)continue;T=" ";break;default:T=String.fromCharCode(E)}p=-2===E,g.push(T)}return g.join("")}(sliceStream(l),u)},now,defineSkip:function(l){g[l.line]=l.column,accountForPotentialSkip()},write:function(l){return(E=push(E,l),function(){let l;for(;h._index<E.length;){var u;let p=E[h._index];if("string"==typeof p)for(l=h._index,h._bufferIndex<0&&(h._bufferIndex=0);h._index===l&&h._bufferIndex<p.length;)u=p.charCodeAt(h._bufferIndex),M=M(u);else M=M(p)}}(),null!==E[E.length-1])?[]:(addResult(u,0),x.events=resolveAll(T,x.events,x),x.events)}},M=u.tokenize.call(x,C);return u.resolveAll&&T.push(u),x;function sliceStream(l){return function(l,u){let p;let h=u.start._index,g=u.start._bufferIndex,T=u.end._index,E=u.end._bufferIndex;if(h===T)p=[l[h].slice(g,E)];else{if(p=l.slice(h,T),g>-1){let l=p[0];"string"==typeof l?p[0]=l.slice(g):p.shift()}E>0&&p.push(l[T].slice(0,E))}return p}(E,l)}function now(){let{line:l,column:u,offset:p,_index:g,_bufferIndex:T}=h;return{line:l,column:u,offset:p,_index:g,_bufferIndex:T}}function onsuccessfulcheck(l,u){u.restore()}function constructFactory(l,u){return function(p,g,T){let E,M,O,R;return Array.isArray(p)?handleListOfConstructs(p):"tokenize"in p?handleListOfConstructs([p]):function(l){let u=null!==l&&p[l],h=null!==l&&p.null,g=[...Array.isArray(u)?u:u?[u]:[],...Array.isArray(h)?h:h?[h]:[]];return handleListOfConstructs(g)(l)};function handleListOfConstructs(l){return(E=l,M=0,0===l.length)?T:handleConstruct(l[M])}function handleConstruct(l){return function(p){return(R=function(){let l=now(),u=x.previous,p=x.currentConstruct,g=x.events.length,T=Array.from(v);return{restore:function(){h=l,x.previous=u,x.currentConstruct=p,x.events.length=g,v=T,accountForPotentialSkip()},from:g}}(),O=l,l.partial||(x.currentConstruct=l),l.name&&x.parser.constructs.disable.null.includes(l.name))?nok(p):l.tokenize.call(u?Object.assign(Object.create(x),u):x,C,ok,nok)(p)}}function ok(u){return l(O,R),g}function nok(l){return(R.restore(),++M<E.length)?handleConstruct(E[M]):T}}}function addResult(l,u){l.resolveAll&&!T.includes(l)&&T.push(l),l.resolve&&splice(x.events,u,x.events.length-u,l.resolve(x.events.slice(u),x)),l.resolveTo&&(x.events=l.resolveTo(x.events,x))}function accountForPotentialSkip(){h.line in g&&h.column<2&&(h.column=g[h.line],h.offset+=g[h.line]-1)}}(p,l,u)}}})(p).document().write((g=1,T="",E=!0,function(l,u,p){let v,C,x,M,O;let R=[];for(l=T+l.toString(u),x=0,T="",E&&(65279===l.charCodeAt(0)&&x++,E=void 0);x<l.length;){if(rI.lastIndex=x,M=(v=rI.exec(l))&&void 0!==v.index?v.index:l.length,O=l.charCodeAt(M),!v){T=l.slice(x);break}if(10===O&&x===M&&h)R.push(-3),h=void 0;else switch(h&&(R.push(-5),h=void 0),x<M&&(R.push(l.slice(x,M)),g+=M-x),O){case 0:R.push(65533),g++;break;case 9:for(C=4*Math.ceil(g/4),R.push(-2);g++<C;)R.push(-1);break;case 10:R.push(-4),g=1;break;default:h=!0,g=1}x=M+1}return p&&(h&&R.push(-5),T&&R.push(T),R.push(null)),R})(l,u,!0))))};function mdast_util_from_markdown_lib_point(l){return{line:l.line,column:l.column,offset:l.offset}}function defaultOnError(l,u){if(l)throw Error("Cannot close `"+l.type+"` ("+stringifyPosition({start:l.start,end:l.end})+"): a different token (`"+u.type+"`, "+stringifyPosition({start:u.start,end:u.end})+") is open");throw Error("Cannot close document, a token (`"+u.type+"`, "+stringifyPosition({start:u.start,end:u.end})+") is still open")}function remarkParse(l){Object.assign(this,{Parser:u=>{let p=this.data("settings");return fromMarkdown(u,Object.assign({},p,l,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function normalizeUri(l){let u=[],p=-1,h=0,g=0;for(;++p<l.length;){let T=l.charCodeAt(p),E="";if(37===T&&nd(l.charCodeAt(p+1))&&nd(l.charCodeAt(p+2)))g=2;else if(T<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(T))||(E=String.fromCharCode(T));else if(T>55295&&T<57344){let u=l.charCodeAt(p+1);T<56320&&u>56319&&u<57344?(E=String.fromCharCode(T,u),g=1):E="�"}else E=String.fromCharCode(T);E&&(u.push(l.slice(h,p),encodeURIComponent(E)),h=p+g+1,E=""),g&&(p+=g,g=0)}return u.join("")+l.slice(h)}let rL=unist_util_position_lib_point("start"),rP=unist_util_position_lib_point("end");function unist_util_position_lib_point(l){return function(u){let p=u&&u.position&&u.position[l]||{};return{line:p.line||null,column:p.column||null,offset:p.offset>-1?p.offset:null}}}let rD={}.hasOwnProperty;function clean(l){return String(l||"").toUpperCase()}function footnote_reference_footnoteReference(l,u){let p;let h=String(u.identifier).toUpperCase(),g=normalizeUri(h.toLowerCase()),T=l.footnoteOrder.indexOf(h);-1===T?(l.footnoteOrder.push(h),l.footnoteCounts[h]=1,p=l.footnoteOrder.length):(l.footnoteCounts[h]++,p=T+1);let E=l.footnoteCounts[h],v={type:"element",tagName:"a",properties:{href:"#"+l.clobberPrefix+"fn-"+g,id:l.clobberPrefix+"fnref-"+g+(E>1?"-"+E:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(p)}]};l.patch(u,v);let C={type:"element",tagName:"sup",properties:{},children:[v]};return l.patch(u,C),l.applyData(u,C)}function revert(l,u){let p=u.referenceType,h="]";if("collapsed"===p?h+="[]":"full"===p&&(h+="["+(u.label||u.identifier)+"]"),"imageReference"===u.type)return{type:"text",value:"!["+u.alt+h};let g=l.all(u),T=g[0];T&&"text"===T.type?T.value="["+T.value:g.unshift({type:"text",value:"["});let E=g[g.length-1];return E&&"text"===E.type?E.value+=h:g.push({type:"text",value:h}),g}function listItemLoose(l){let u=l.spread;return null==u?l.children.length>1:u}function trimLine(l,u,p){let h=0,g=l.length;if(u){let u=l.codePointAt(h);for(;9===u||32===u;)h++,u=l.codePointAt(h)}if(p){let u=l.codePointAt(g-1);for(;9===u||32===u;)g--,u=l.codePointAt(g-1)}return g>h?l.slice(h,g):""}let rB={blockquote:function(l,u){let p={type:"element",tagName:"blockquote",properties:{},children:l.wrap(l.all(u),!0)};return l.patch(u,p),l.applyData(u,p)},break:function(l,u){let p={type:"element",tagName:"br",properties:{},children:[]};return l.patch(u,p),[l.applyData(u,p),{type:"text",value:"\n"}]},code:function(l,u){let p=u.value?u.value+"\n":"",h=u.lang?u.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,g={};h&&(g.className=["language-"+h]);let T={type:"element",tagName:"code",properties:g,children:[{type:"text",value:p}]};return u.meta&&(T.data={meta:u.meta}),l.patch(u,T),T={type:"element",tagName:"pre",properties:{},children:[T=l.applyData(u,T)]},l.patch(u,T),T},delete:function(l,u){let p={type:"element",tagName:"del",properties:{},children:l.all(u)};return l.patch(u,p),l.applyData(u,p)},emphasis:function(l,u){let p={type:"element",tagName:"em",properties:{},children:l.all(u)};return l.patch(u,p),l.applyData(u,p)},footnoteReference:footnote_reference_footnoteReference,footnote:function(l,u){let p=l.footnoteById,h=1;for(;(h in p);)h++;let g=String(h);return p[g]={type:"footnoteDefinition",identifier:g,children:[{type:"paragraph",children:u.children}],position:u.position},footnote_reference_footnoteReference(l,{type:"footnoteReference",identifier:g,position:u.position})},heading:function(l,u){let p={type:"element",tagName:"h"+u.depth,properties:{},children:l.all(u)};return l.patch(u,p),l.applyData(u,p)},html:function(l,u){if(l.dangerous){let p={type:"raw",value:u.value};return l.patch(u,p),l.applyData(u,p)}return null},imageReference:function(l,u){let p=l.definition(u.identifier);if(!p)return revert(l,u);let h={src:normalizeUri(p.url||""),alt:u.alt};null!==p.title&&void 0!==p.title&&(h.title=p.title);let g={type:"element",tagName:"img",properties:h,children:[]};return l.patch(u,g),l.applyData(u,g)},image:function(l,u){let p={src:normalizeUri(u.url)};null!==u.alt&&void 0!==u.alt&&(p.alt=u.alt),null!==u.title&&void 0!==u.title&&(p.title=u.title);let h={type:"element",tagName:"img",properties:p,children:[]};return l.patch(u,h),l.applyData(u,h)},inlineCode:function(l,u){let p={type:"text",value:u.value.replace(/\r?\n|\r/g," ")};l.patch(u,p);let h={type:"element",tagName:"code",properties:{},children:[p]};return l.patch(u,h),l.applyData(u,h)},linkReference:function(l,u){let p=l.definition(u.identifier);if(!p)return revert(l,u);let h={href:normalizeUri(p.url||"")};null!==p.title&&void 0!==p.title&&(h.title=p.title);let g={type:"element",tagName:"a",properties:h,children:l.all(u)};return l.patch(u,g),l.applyData(u,g)},link:function(l,u){let p={href:normalizeUri(u.url)};null!==u.title&&void 0!==u.title&&(p.title=u.title);let h={type:"element",tagName:"a",properties:p,children:l.all(u)};return l.patch(u,h),l.applyData(u,h)},listItem:function(l,u,p){let h=l.all(u),g=p?function(l){let u=!1;if("list"===l.type){u=l.spread||!1;let p=l.children,h=-1;for(;!u&&++h<p.length;)u=listItemLoose(p[h])}return u}(p):listItemLoose(u),T={},E=[];if("boolean"==typeof u.checked){let l;let p=h[0];p&&"element"===p.type&&"p"===p.tagName?l=p:(l={type:"element",tagName:"p",properties:{},children:[]},h.unshift(l)),l.children.length>0&&l.children.unshift({type:"text",value:" "}),l.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:u.checked,disabled:!0},children:[]}),T.className=["task-list-item"]}let v=-1;for(;++v<h.length;){let l=h[v];(g||0!==v||"element"!==l.type||"p"!==l.tagName)&&E.push({type:"text",value:"\n"}),"element"!==l.type||"p"!==l.tagName||g?E.push(l):E.push(...l.children)}let C=h[h.length-1];C&&(g||"element"!==C.type||"p"!==C.tagName)&&E.push({type:"text",value:"\n"});let x={type:"element",tagName:"li",properties:T,children:E};return l.patch(u,x),l.applyData(u,x)},list:function(l,u){let p={},h=l.all(u),g=-1;for("number"==typeof u.start&&1!==u.start&&(p.start=u.start);++g<h.length;){let l=h[g];if("element"===l.type&&"li"===l.tagName&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){p.className=["contains-task-list"];break}}let T={type:"element",tagName:u.ordered?"ol":"ul",properties:p,children:l.wrap(h,!0)};return l.patch(u,T),l.applyData(u,T)},paragraph:function(l,u){let p={type:"element",tagName:"p",properties:{},children:l.all(u)};return l.patch(u,p),l.applyData(u,p)},root:function(l,u){let p={type:"root",children:l.wrap(l.all(u))};return l.patch(u,p),l.applyData(u,p)},strong:function(l,u){let p={type:"element",tagName:"strong",properties:{},children:l.all(u)};return l.patch(u,p),l.applyData(u,p)},table:function(l,u){let p=l.all(u),h=p.shift(),g=[];if(h){let p={type:"element",tagName:"thead",properties:{},children:l.wrap([h],!0)};l.patch(u.children[0],p),g.push(p)}if(p.length>0){let h={type:"element",tagName:"tbody",properties:{},children:l.wrap(p,!0)},T=rL(u.children[1]),E=rP(u.children[u.children.length-1]);T.line&&E.line&&(h.position={start:T,end:E}),g.push(h)}let T={type:"element",tagName:"table",properties:{},children:l.wrap(g,!0)};return l.patch(u,T),l.applyData(u,T)},tableCell:function(l,u){let p={type:"element",tagName:"td",properties:{},children:l.all(u)};return l.patch(u,p),l.applyData(u,p)},tableRow:function(l,u,p){let h=p?p.children:void 0,g=h?h.indexOf(u):1,T=0===g?"th":"td",E=p&&"table"===p.type?p.align:void 0,v=E?E.length:u.children.length,C=-1,x=[];for(;++C<v;){let p=u.children[C],h={},g=E?E[C]:void 0;g&&(h.align=g);let v={type:"element",tagName:T,properties:h,children:[]};p&&(v.children=l.all(p),l.patch(p,v),v=l.applyData(u,v)),x.push(v)}let M={type:"element",tagName:"tr",properties:{},children:l.wrap(x,!0)};return l.patch(u,M),l.applyData(u,M)},text:function(l,u){let p={type:"text",value:function(l){let u=String(l),p=/\r?\n|\r/g,h=p.exec(u),g=0,T=[];for(;h;)T.push(trimLine(u.slice(g,h.index),g>0,!0),h[0]),g=h.index+h[0].length,h=p.exec(u);return T.push(trimLine(u.slice(g),g>0,!1)),T.join("")}(String(u.value))};return l.patch(u,p),l.applyData(u,p)},thematicBreak:function(l,u){let p={type:"element",tagName:"hr",properties:{},children:[]};return l.patch(u,p),l.applyData(u,p)},toml:handlers_ignore,yaml:handlers_ignore,definition:handlers_ignore,footnoteDefinition:handlers_ignore};function handlers_ignore(){return null}let rH={}.hasOwnProperty;function state_patch(l,u){l.position&&(u.position={start:rL(l),end:rP(l)})}function applyData(l,u){let p=u;if(l&&l.data){let u=l.data.hName,h=l.data.hChildren,g=l.data.hProperties;"string"==typeof u&&("element"===p.type?p.tagName=u:p={type:"element",tagName:u,properties:{},children:[]}),"element"===p.type&&g&&(p.properties={...p.properties,...g}),"children"in p&&p.children&&null!=h&&(p.children=h)}return p}function state_one(l,u,p){let h=u&&u.type;if(!h)throw Error("Expected node, got `"+u+"`");return rH.call(l.handlers,h)?l.handlers[h](l,u,p):l.passThrough&&l.passThrough.includes(h)?"children"in u?{...u,children:state_all(l,u)}:u:l.unknownHandler?l.unknownHandler(l,u,p):function(l,u){let p=u.data||{},h="value"in u&&!(rH.call(p,"hProperties")||rH.call(p,"hChildren"))?{type:"text",value:u.value}:{type:"element",tagName:"div",properties:{},children:state_all(l,u)};return l.patch(u,h),l.applyData(u,h)}(l,u)}function state_all(l,u){let p=[];if("children"in u){let h=u.children,g=-1;for(;++g<h.length;){let T=state_one(l,h[g],u);if(T){if(g&&"break"===h[g-1].type&&(Array.isArray(T)||"text"!==T.type||(T.value=T.value.replace(/^\s+/,"")),!Array.isArray(T)&&"element"===T.type)){let l=T.children[0];l&&"text"===l.type&&(l.value=l.value.replace(/^\s+/,""))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}function state_wrap(l,u){let p=[],h=-1;for(u&&p.push({type:"text",value:"\n"});++h<l.length;)h&&p.push({type:"text",value:"\n"}),p.push(l[h]);return u&&l.length>0&&p.push({type:"text",value:"\n"}),p}function toHast(l,u){let p=function(l,u){let p=u||{},h=p.allowDangerousHtml||!1,g={};return state.dangerous=h,state.clobberPrefix=void 0===p.clobberPrefix||null===p.clobberPrefix?"user-content-":p.clobberPrefix,state.footnoteLabel=p.footnoteLabel||"Footnotes",state.footnoteLabelTagName=p.footnoteLabelTagName||"h2",state.footnoteLabelProperties=p.footnoteLabelProperties||{className:["sr-only"]},state.footnoteBackLabel=p.footnoteBackLabel||"Back to content",state.unknownHandler=p.unknownHandler,state.passThrough=p.passThrough,state.handlers={...rB,...p.handlers},state.definition=function(l){let u=Object.create(null);if(!l||!l.type)throw Error("mdast-util-definitions expected node");return visit(l,"definition",l=>{let p=clean(l.identifier);p&&!rD.call(u,p)&&(u[p]=l)}),function(l){let p=clean(l);return p&&rD.call(u,p)?u[p]:null}}(l),state.footnoteById=g,state.footnoteOrder=[],state.footnoteCounts={},state.patch=state_patch,state.applyData=applyData,state.one=function(l,u){return state_one(state,l,u)},state.all=function(l){return state_all(state,l)},state.wrap=state_wrap,state.augment=augment,visit(l,"footnoteDefinition",l=>{let u=String(l.identifier).toUpperCase();rH.call(g,u)||(g[u]=l)}),state;function augment(l,u){if(l&&"data"in l&&l.data){let p=l.data;p.hName&&("element"!==u.type&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=p.hName),"element"===u.type&&p.hProperties&&(u.properties={...u.properties,...p.hProperties}),"children"in u&&u.children&&p.hChildren&&(u.children=p.hChildren)}if(l){let p="type"in l?l:{position:l};!p||!p.position||!p.position.start||!p.position.start.line||!p.position.start.column||!p.position.end||!p.position.end.line||!p.position.end.column||(u.position={start:rL(p),end:rP(p)})}return u}function state(l,u,p,h){return Array.isArray(p)&&(h=p,p={}),augment(l,{type:"element",tagName:u,properties:p||{},children:h||[]})}}(l,u),h=p.one(l,null),g=function(l){let u=[],p=-1;for(;++p<l.footnoteOrder.length;){let h=l.footnoteById[l.footnoteOrder[p]];if(!h)continue;let g=l.all(h),T=String(h.identifier).toUpperCase(),E=normalizeUri(T.toLowerCase()),v=0,C=[];for(;++v<=l.footnoteCounts[T];){let u={type:"element",tagName:"a",properties:{href:"#"+l.clobberPrefix+"fnref-"+E+(v>1?"-"+v:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:l.footnoteBackLabel},children:[{type:"text",value:"↩"}]};v>1&&u.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(v)}]}),C.length>0&&C.push({type:"text",value:" "}),C.push(u)}let x=g[g.length-1];if(x&&"element"===x.type&&"p"===x.tagName){let l=x.children[x.children.length-1];l&&"text"===l.type?l.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...C)}else g.push(...C);let M={type:"element",tagName:"li",properties:{id:l.clobberPrefix+"fn-"+E},children:l.wrap(g,!0)};l.patch(h,M),u.push(M)}if(0!==u.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(l.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:l.footnoteLabel}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:l.wrap(u,!0)},{type:"text",value:"\n"}]}}(p);return g&&h.children.push({type:"text",value:"\n"},g),Array.isArray(h)?{type:"root",children:h}:h}var remark_rehype_lib=function(l,u){var p;return l&&"run"in l?(p,h,g)=>{l.run(toHast(p,u),h,l=>{g(l)})}:(p=l||u,l=>toHast(l,p))};let rF=new e9.H$("y-sync"),rU=new e9.H$("y-undo"),rj=new e9.H$("yjs-cursor"),createMutex=()=>{let l=!0;return(u,p)=>{if(l){l=!1;try{u()}finally{l=!0}}else void 0!==p&&p()}};var rz=p(73583),rV=p(11530),r$=p(45791);let rG=/[\uD800-\uDBFF]/,rK=/[\uDC00-\uDFFF]/,simpleDiff=(l,u)=>{let p=0,h=0;for(;p<l.length&&p<u.length&&l[p]===u[p];)p++;for(p>0&&rG.test(l[p-1])&&p--;h+p<l.length&&h+p<u.length&&l[l.length-h-1]===u[u.length-h-1];)h++;return h>0&&rK.test(l[l.length-h])&&h--,{index:p,remove:l.length-p-h,insert:u.slice(p,u.length-h)}};var rW=p(80554),rq=p(87930),rY=p(35423);let createTimeoutClass=l=>class{constructor(l){this._=l}destroy(){l(this._)}},rQ=createTimeoutClass(clearTimeout),timeout=(l,u)=>new rQ(setTimeout(u,l));createTimeoutClass(clearInterval),createTimeoutClass(l=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(l)),createTimeoutClass(l=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(l));let rJ=null,updateMetas=()=>{let l=rJ;rJ=null,l.forEach((l,u)=>{let p=u.state.tr,h=rF.getState(u.state);h&&h.binding&&!h.binding.isDestroyed&&(l.forEach((l,u)=>{p.setMeta(u,l)}),u.dispatch(p))})},setMeta=(l,u,p)=>{rJ||(rJ=new Map,timeout(0,updateMetas)),rY.Yu(rJ,l,rY.Ue).set(u,p)},absolutePositionToRelativePosition=(l,u,p)=>{if(0===l)return rq.w$(u,0);let h=null===u._first?null:u._first.content.type;for(;null!==h&&u!==h;){if(h instanceof rq.eI){if(h._length>=l)return rq.w$(h,l);if(l-=h._length,null!==h._item&&null!==h._item.next)h=h._item.next.content.type;else{do h=null===h._item?null:h._item.parent,l--;while(h!==u&&null!==h&&null!==h._item&&null===h._item.next);null!==h&&h!==u&&(h=null===h._item?null:h._item.next.content.type)}}else{let g=(p.get(h)||{nodeSize:0}).nodeSize;if(null!==h._first&&l<g)h=h._first.content.type,l--;else{if(1===l&&0===h._length&&g>1)return new rq.Zi(null===h._item?null:h._item.id,null===h._item?rq.BW(h):null,null);if(l-=g,null!==h._item&&null!==h._item.next)h=h._item.next.content.type;else{if(0===l)return h=null===h._item?h:h._item.parent,new rq.Zi(null===h._item?null:h._item.id,null===h._item?rq.BW(h):null,null);do h=h._item.parent,l--;while(h!==u&&null===h._item.next);h!==u&&(h=h._item.next.content.type)}}}if(null===h)throw rW.zR();if(0===l&&h.constructor!==rq.eI&&h!==u)return createRelativePosition(h._item.parent,h._item)}return rq.w$(u,u._length)},createRelativePosition=(l,u)=>{let p=null,h=null;return null===l._item?h=rq.BW(l):p=rq.at(l._item.id.client,l._item.id.clock),new rq.Zi(p,h,u.id)},relativePositionToAbsolutePosition=(l,u,p,h)=>{let g=rq.or(p,l);if(null===g||g.type!==u&&!rq.$4(u,g.type._item))return null;let T=g.type,E=0;if(T.constructor===rq.eI)E=g.index;else if(null===T._item||!T._item.deleted){let l=T._first,u=0;for(;u<T._length&&u<g.index&&null!==l;){if(!l.deleted){let p=l.content.type;u++,p instanceof rq.eI?E+=p._length:E+=h.get(p).nodeSize}l=l.right}E+=1}for(;T!==u&&null!==T._item;){let l=T._item.parent;if(null===l._item||!l._item.deleted){E+=1;let u=l._first;for(;null!==u;){let l=u.content.type;if(l===T)break;u.deleted||(l instanceof rq.eI?E+=l._length:E+=h.get(l).nodeSize),u=u.right}}T=l}return E-1};var rX=p(16086),rZ=p(20917),r1=p(70842);let isVisible=(l,u)=>void 0===u?!l.deleted:u.sv.has(l.id.client)&&u.sv.get(l.id.client)>l.id.clock&&!rq.uY(u.ds,l.id),r0=[{light:"#ecd44433",dark:"#ecd444"}],getUserColor=(l,u,p)=>{if(!l.has(p)){if(l.size<u.length){let p=r$.Ue();l.forEach(l=>p.add(l)),u=u.filter(l=>!p.has(l))}l.set(p,rX.kw(u))}return l.get(p)},ySyncPlugin=(l,{colors:u=r0,colorMapping:p=new Map,permanentUserData:h=null,onFirstRender:g=()=>{}}={})=>{let T=!1,E=new e9.Sy({props:{editable:l=>{let u=rF.getState(l);return null==u.snapshot&&null==u.prevSnapshot}},key:rF,state:{init:(g,T)=>({type:l,doc:l.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:u,colorMapping:p,permanentUserData:h}),apply:(l,u)=>{let p=l.getMeta(rF);if(void 0!==p)for(let l in u=Object.assign({},u),p)u[l]=p[l];return u.addToHistory=!1!==l.getMeta("addToHistory"),u.isChangeOrigin=void 0!==p&&!!p.isChangeOrigin,u.isUndoRedoOperation=void 0!==p&&!!p.isChangeOrigin&&!!p.isUndoRedoOperation,null!==u.binding&&void 0!==p&&(null!=p.snapshot||null!=p.prevSnapshot)&&timeout(0,()=>{null==u.binding||u.binding.isDestroyed||(null==p.restore?u.binding._renderSnapshot(p.snapshot,p.prevSnapshot,u):(u.binding._renderSnapshot(p.snapshot,p.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,u.binding.mux(()=>{u.binding._prosemirrorChanged(u.binding.prosemirrorView.state.doc)})))}),u}},view:u=>{let p=new ProsemirrorBinding(l,u);return p._forceRerender(),g(),{update:()=>{let l=E.getState(u.state);if(null==l.snapshot&&null==l.prevSnapshot&&(T||null!==u.state.doc.content.findDiffStart(u.state.doc.type.createAndFill().content))){if(T=!0,!1===l.addToHistory&&!l.isChangeOrigin){let l=rU.getState(u.state),p=l&&l.undoManager;p&&p.stopCapturing()}p.mux(()=>{l.doc.transact(h=>{h.meta.set("addToHistory",l.addToHistory),p._prosemirrorChanged(u.state.doc)},rF)})}},destroy:()=>{p.destroy()}}}});return E},restoreRelativeSelection=(l,u,p)=>{if(null!==u&&null!==u.anchor&&null!==u.head){let h=relativePositionToAbsolutePosition(p.doc,p.type,u.anchor,p.mapping),g=relativePositionToAbsolutePosition(p.doc,p.type,u.head,p.mapping);null!==h&&null!==g&&(l=l.setSelection(e9.Bs.create(l.doc,h,g)))}},getRelativeSelection=(l,u)=>({anchor:absolutePositionToRelativePosition(u.selection.anchor,l.type,l.mapping),head:absolutePositionToRelativePosition(u.selection.head,l.type,l.mapping)});let ProsemirrorBinding=class ProsemirrorBinding{constructor(l,u){this.type=l,this.prosemirrorView=u,this.mux=createMutex(),this.isDestroyed=!1,this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=l.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{null===this.beforeTransactionSelection&&(this.beforeTransactionSelection=getRelativeSelection(this,u.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),l.observeDeep(this._observeFunction),this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return!!this.prosemirrorView.hasFocus()&&(rZ.jU&&null===this._domSelectionInView&&(timeout(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView)}_isDomSelectionInView(){let l=this.prosemirrorView._root.getSelection(),u=this.prosemirrorView._root.createRange();u.setStart(l.anchorNode,l.anchorOffset),u.setEnd(l.focusNode,l.focusOffset);let p=u.getClientRects();0===p.length&&u.startContainer&&u.collapsed&&u.selectNodeContents(u.startContainer);let h=u.getBoundingClientRect(),g=r1.JU.documentElement;return h.bottom>=0&&h.right>=0&&h.left<=(window.innerWidth||g.clientWidth||0)&&h.top<=(window.innerHeight||g.clientHeight||0)}renderSnapshot(l,u){u||(u=rq.Ox(rq.VG(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(rF,{snapshot:l,prevSnapshot:u}))}unrenderSnapshot(){this.mapping=new Map,this.mux(()=>{let l=this.type.toArray().map(l=>sync_plugin_createNodeFromYElement(l,this.prosemirrorView.state.schema,this.mapping)).filter(l=>null!==l),u=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new O.p2(O.HY.from(l),0,0));u.setMeta(rF,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(u)})}_forceRerender(){this.mapping=new Map,this.mux(()=>{let l=this.type.toArray().map(l=>sync_plugin_createNodeFromYElement(l,this.prosemirrorView.state.schema,this.mapping)).filter(l=>null!==l),u=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new O.p2(O.HY.from(l),0,0));this.prosemirrorView.dispatch(u.setMeta(rF,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(l,u,p){l||(l=rq.CO(this.doc)),this.mapping=new Map,this.mux(()=>{this.doc.transact(h=>{let g=p.permanentUserData;g&&g.dss.forEach(l=>{rq.UQ(h,l,l=>{})});let computeYChange=(l,u)=>{let h="added"===l?g.getUserByClientId(u.client):g.getUserByDeletedId(u);return{user:h,type:l,color:getUserColor(p.colorMapping,p.colors,h)}},T=rq.ud(this.type,new rq.aC(u.ds,l.sv)).map(p=>!p._item.deleted||isVisible(p._item,l)||isVisible(p._item,u)?sync_plugin_createNodeFromYElement(p,this.prosemirrorView.state.schema,new Map,l,u,computeYChange):null).filter(l=>null!==l),E=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new O.p2(O.HY.from(T),0,0));this.prosemirrorView.dispatch(E.setMeta(rF,{isChangeOrigin:!0}))},rF)})}_typeChanged(l,u){let p=rF.getState(this.prosemirrorView.state);if(0===l.length||null!=p.snapshot||null!=p.prevSnapshot){this.renderSnapshot(p.snapshot,p.prevSnapshot);return}this.mux(()=>{let delType=(l,u)=>this.mapping.delete(u);rq.UQ(u,u.deleteSet,l=>{if(l.constructor===rq.ck){let u=l.content.type;u&&this.mapping.delete(u)}}),u.changed.forEach(delType),u.changedParentTypes.forEach(delType);let l=this.type.toArray().map(l=>createNodeIfNotExists(l,this.prosemirrorView.state.schema,this.mapping)).filter(l=>null!==l),p=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new O.p2(O.HY.from(l),0,0));restoreRelativeSelection(p,this.beforeTransactionSelection,this),p=p.setMeta(rF,{isChangeOrigin:!0,isUndoRedoOperation:u.origin instanceof rq.H6}),null!==this.beforeTransactionSelection&&this._isLocalCursorInView()&&p.scrollIntoView(),this.prosemirrorView.dispatch(p)})}_prosemirrorChanged(l){this.doc.transact(()=>{sync_plugin_updateYFragment(this.doc,this.type,l,this.mapping),this.beforeTransactionSelection=getRelativeSelection(this,this.prosemirrorView.state)},rF)}destroy(){this.isDestroyed=!0,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}};let createNodeIfNotExists=(l,u,p,h,g,T)=>{let E=p.get(l);if(void 0===E){if(l instanceof rq.lt)return sync_plugin_createNodeFromYElement(l,u,p,h,g,T);throw rW.Nw()}return E},sync_plugin_createNodeFromYElement=(l,u,p,h,g,T)=>{let E=[],createChildren=l=>{if(l.constructor===rq.lt){let v=createNodeIfNotExists(l,u,p,h,g,T);null!==v&&E.push(v)}else{let v=createTextNodesFromYText(l,u,p,h,g,T);null!==v&&v.forEach(l=>{null!==l&&E.push(l)})}};void 0===h||void 0===g?l.toArray().forEach(createChildren):rq.ud(l,new rq.aC(g.ds,h.sv)).forEach(createChildren);try{let v=l.getAttributes(h);void 0===h||(isVisible(l._item,h)?isVisible(l._item,g)||(v.ychange=T?T("added",l._item.id):{type:"added"}):v.ychange=T?T("removed",l._item.id):{type:"removed"});let C=u.node(l.nodeName,v,E);return p.set(l,C),C}catch(u){return l.doc.transact(u=>{l._item.delete(u)},rF),p.delete(l),null}},createTextNodesFromYText=(l,u,p,h,g,T)=>{let E=[],v=l.toDelta(h,g,T);try{for(let l=0;l<v.length;l++){let p=v[l],h=[];for(let l in p.attributes)h.push(u.mark(l,p.attributes[l]));E.push(u.text(p.insert,h))}}catch(u){return l.doc.transact(u=>{l._item.delete(u)},rF),null}return E},createTypeFromTextNodes=(l,u)=>{let p=new rq.eI,h=l.map(l=>({insert:l.text,attributes:marksToAttributes(l.marks)}));return p.applyDelta(h),u.set(p,l),p},createTypeFromElementNode=(l,u)=>{let p=new rq.lt(l.type.name);for(let u in l.attrs){let h=l.attrs[u];null!==h&&"ychange"!==u&&p.setAttribute(u,h)}return p.insert(0,normalizePNodeContent(l).map(l=>createTypeFromTextOrElementNode(l,u))),u.set(p,l),p},createTypeFromTextOrElementNode=(l,u)=>l instanceof Array?createTypeFromTextNodes(l,u):createTypeFromElementNode(l,u),isObject=l=>"object"==typeof l&&null!==l,equalAttrs=(l,u)=>{let p=Object.keys(l).filter(u=>null!==l[u]),h=p.length===Object.keys(u).filter(l=>null!==u[l]).length;for(let g=0;g<p.length&&h;g++){let T=p[g],E=l[T],v=u[T];h="ychange"===T||E===v||isObject(E)&&isObject(v)&&equalAttrs(E,v)}return h},normalizePNodeContent=l=>{let u=l.content.content,p=[];for(let l=0;l<u.length;l++){let h=u[l];if(h.isText){let h=[];for(let p=u[l];l<u.length&&p.isText;p=u[++l])h.push(p);l--,p.push(h)}else p.push(h)}return p},equalYTextPText=(l,u)=>{let p=l.toDelta();return p.length===u.length&&p.every((l,p)=>l.insert===u[p].text&&rV.XP(l.attributes||{}).length===u[p].marks.length&&u[p].marks.every(u=>equalAttrs(l.attributes[u.type.name]||{},u.attrs)))},equalYTypePNode=(l,u)=>{if(l instanceof rq.lt&&!(u instanceof Array)&&matchNodeName(l,u)){let p=normalizePNodeContent(u);return l._length===p.length&&equalAttrs(l.getAttributes(),u.attrs)&&l.toArray().every((l,u)=>equalYTypePNode(l,p[u]))}return l instanceof rq.eI&&u instanceof Array&&equalYTextPText(l,u)},mappedIdentity=(l,u)=>l===u||l instanceof Array&&u instanceof Array&&l.length===u.length&&l.every((l,p)=>u[p]===l),computeChildEqualityFactor=(l,u,p)=>{let h=l.toArray(),g=normalizePNodeContent(u),T=g.length,E=h.length,v=rz.VV(E,T),C=0,x=0,M=!1;for(;C<v;C++){let l=h[C],u=g[C];if(mappedIdentity(p.get(l),u))M=!0;else if(!equalYTypePNode(l,u))break}for(;C+x<v;x++){let l=h[E-x-1],u=g[T-x-1];if(mappedIdentity(p.get(l),u))M=!0;else if(!equalYTypePNode(l,u))break}return{equalityFactor:C+x,foundMappedChild:M}},ytextTrans=l=>{let u="",p=l._start,h={};for(;null!==p;)!p.deleted&&(p.countable&&p.content instanceof rq.$_?u+=p.content.str:p.content instanceof rq.MM&&(h[p.content.key]=null)),p=p.right;return{str:u,nAttrs:h}},updateYText=(l,u,p)=>{p.set(l,u);let{nAttrs:h,str:g}=ytextTrans(l),T=u.map(l=>({insert:l.text,attributes:Object.assign({},h,marksToAttributes(l.marks))})),{insert:E,remove:v,index:C}=simpleDiff(g,T.map(l=>l.insert).join(""));l.delete(C,v),l.insert(C,E),l.applyDelta(T.map(l=>({retain:l.insert.length,attributes:l.attributes})))},marksToAttributes=l=>{let u={};return l.forEach(l=>{"ychange"!==l.type.name&&(u[l.type.name]=l.attrs)}),u},sync_plugin_updateYFragment=(l,u,p,h)=>{if(u instanceof rq.lt&&u.nodeName!==p.type.name)throw Error("node name mismatch!");if(h.set(u,p),u instanceof rq.lt){let l=u.getAttributes(),h=p.attrs;for(let p in h)null!==h[p]?l[p]!==h[p]&&"ychange"!==p&&u.setAttribute(p,h[p]):u.removeAttribute(p);for(let p in l)void 0===h[p]&&u.removeAttribute(p)}let g=normalizePNodeContent(p),T=g.length,E=u.toArray(),v=E.length,C=rz.VV(T,v),x=0,M=0;for(;x<C;x++){let l=E[x],u=g[x];if(!mappedIdentity(h.get(l),u)){if(equalYTypePNode(l,u))h.set(l,u);else break}}for(;M+x+1<C;M++){let l=E[v-M-1],u=g[T-M-1];if(!mappedIdentity(h.get(l),u)){if(equalYTypePNode(l,u))h.set(l,u);else break}}l.transact(()=>{for(;v-x-M>0&&T-x-M>0;){let p=E[x],C=g[x],O=E[v-M-1],R=g[T-M-1];if(p instanceof rq.eI&&C instanceof Array)equalYTextPText(p,C)||updateYText(p,C,h),x+=1;else{let g=p instanceof rq.lt&&matchNodeName(p,C),T=O instanceof rq.lt&&matchNodeName(O,R);if(g&&T){let l=computeChildEqualityFactor(p,C,h),u=computeChildEqualityFactor(O,R,h);l.foundMappedChild&&!u.foundMappedChild?T=!1:!l.foundMappedChild&&u.foundMappedChild?g=!1:l.equalityFactor<u.equalityFactor?g=!1:T=!1}g?(sync_plugin_updateYFragment(l,p,C,h),x+=1):T?(sync_plugin_updateYFragment(l,O,R,h),M+=1):(h.delete(u.get(x)),u.delete(x,1),u.insert(x,[createTypeFromTextOrElementNode(C,h)]),x+=1)}}let p=v-x-M;if(1===v&&0===T&&E[0]instanceof rq.eI?(h.delete(E[0]),E[0].delete(0,E[0].length)):p>0&&(u.slice(x,x+p).forEach(l=>h.delete(l)),u.delete(x,p)),x+M<T){let l=[];for(let u=x;u<T-M;u++)l.push(createTypeFromTextOrElementNode(g[u],h));u.insert(x,l)}},rF)},matchNodeName=(l,u)=>!(u instanceof Array)&&l.nodeName===u.type.name,undo=l=>{let u=rU.getState(l).undoManager;if(null!=u)return u.undo(),!0},redo=l=>{let u=rU.getState(l).undoManager;if(null!=u)return u.redo(),!0},r9=new Set(["paragraph"]),defaultDeleteFilter=(l,u)=>!(l instanceof rq.ck)||!(l.content instanceof rq.zc)||!(l.content.type instanceof rq.xv||l.content.type instanceof rq.lt&&u.has(l.content.type.nodeName))||0===l.content.type._length,yUndoPlugin=({protectedNodes:l=r9,trackedOrigins:u=[],undoManager:p=null}={})=>new e9.Sy({key:rU,state:{init:(h,g)=>{let T=rF.getState(g),E=p||new rq.H6(T.type,{trackedOrigins:new Set([rF].concat(u)),deleteFilter:u=>defaultDeleteFilter(u,l),captureTransaction:l=>!1!==l.meta.get("addToHistory")});return{undoManager:E,prevSel:null,hasUndoOps:E.undoStack.length>0,hasRedoOps:E.redoStack.length>0}},apply:(l,u,p,h)=>{let g=rF.getState(h).binding,T=u.undoManager,E=T.undoStack.length>0,v=T.redoStack.length>0;return g?{undoManager:T,prevSel:getRelativeSelection(g,p),hasUndoOps:E,hasRedoOps:v}:E!==u.hasUndoOps||v!==u.hasRedoOps?Object.assign({},u,{hasUndoOps:T.undoStack.length>0,hasRedoOps:T.redoStack.length>0}):u}},view:l=>{let u=rF.getState(l.state),p=rU.getState(l.state).undoManager;return p.on("stack-item-added",({stackItem:p})=>{let h=u.binding;h&&p.meta.set(h,rU.getState(l.state).prevSel)}),p.on("stack-item-popped",({stackItem:l})=>{let p=u.binding;p&&(p.beforeTransactionSelection=l.meta.get(p)||p.beforeTransactionSelection)}),{destroy:()=>{p.destroy()}}}}),r5=e0.hj.create({name:"collaboration",priority:1e3,addOptions:()=>({document:null,field:"default",fragment:null}),onCreate(){this.editor.extensionManager.extensions.find(l=>"history"===l.name)&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands:()=>({undo:()=>({tr:l,state:u,dispatch:p})=>{l.setMeta("preventDispatch",!0);let h=rU.getState(u).undoManager;return 0!==h.undoStack.length&&(!p||undo(u))},redo:()=>({tr:l,state:u,dispatch:p})=>{l.setMeta("preventDispatch",!0);let h=rU.getState(u).undoManager;return 0!==h.redoStack.length&&(!p||redo(u))}}),addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){let l=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),u=yUndoPlugin(),p=u.spec.view;u.spec.view=l=>{let{undoManager:u}=rU.getState(l.state);u.restore&&(u.restore(),u.restore=()=>{});let h=p?p(l):void 0;return{destroy:()=>{let l=u.trackedOrigins.has(u),p=u._observers;u.restore=()=>{l&&u.trackedOrigins.add(u),u.doc.on("afterTransaction",u.afterTransactionHandler),u._observers=p},(null==h?void 0:h.destroy)&&h.destroy()}}};let h=this.options.ySyncOptions,g=this.options.onFirstRender,T={...h?{...h}:{},...g?{onFirstRender:g}:{}},E=ySyncPlugin(l,T);return[E,u]}}),defaultAwarenessStateFilter=(l,u,p)=>l!==u,defaultCursorBuilder=l=>{let u=document.createElement("span");u.classList.add("ProseMirror-yjs-cursor"),u.setAttribute("style",`border-color: ${l.color}`);let p=document.createElement("div");p.setAttribute("style",`background-color: ${l.color}`),p.insertBefore(document.createTextNode(l.name),null);let h=document.createTextNode("⁠"),g=document.createTextNode("⁠");return u.insertBefore(h,null),u.insertBefore(p,null),u.insertBefore(g,null),u},defaultSelectionBuilder=l=>({style:`background-color: ${l.color}70`,class:"ProseMirror-yjs-selection"}),r4=/^#[0-9a-fA-F]{6}$/,createDecorations=(l,u,p,h,g)=>{let T=rF.getState(l),E=T.doc,v=[];return null!=T.snapshot||null!=T.prevSnapshot||null===T.binding?tE.EH.create(l.doc,[]):(u.getStates().forEach((u,C)=>{if(p(E.clientID,C,u)&&null!=u.cursor){let p=u.user||{};null==p.color?p.color="#ffa500":r4.test(p.color)||console.warn("A user uses an unsupported color format",p),null==p.name&&(p.name=`User: ${C}`);let x=relativePositionToAbsolutePosition(E,T.type,rq.og(u.cursor.anchor),T.binding.mapping),M=relativePositionToAbsolutePosition(E,T.type,rq.og(u.cursor.head),T.binding.mapping);if(null!==x&&null!==M){let u=rz.Fp(l.doc.content.size-1,0);x=rz.VV(x,u),M=rz.VV(M,u),v.push(tE.p.widget(M,()=>h(p),{key:C+"",side:10}));let T=rz.VV(x,M),E=rz.Fp(x,M);v.push(tE.p.inline(T,E,g(p),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),tE.EH.create(l.doc,v))},yCursorPlugin=(l,{awarenessStateFilter:u=defaultAwarenessStateFilter,cursorBuilder:p=defaultCursorBuilder,selectionBuilder:h=defaultSelectionBuilder,getSelection:g=l=>l.selection}={},T="cursor")=>new e9.Sy({key:rj,state:{init:(g,T)=>createDecorations(T,l,u,p,h),apply(g,T,E,v){let C=rF.getState(v),x=g.getMeta(rj);return C&&C.isChangeOrigin||x&&x.awarenessUpdated?createDecorations(v,l,u,p,h):T.map(g.mapping,g.doc)}},props:{decorations:l=>rj.getState(l)},view:u=>{let awarenessListener=()=>{u.docView&&setMeta(u,rj,{awarenessUpdated:!0})},updateCursorInfo=()=>{let p=rF.getState(u.state),h=l.getLocalState()||{};if(null!=p.binding){if(u.hasFocus()){let E=g(u.state),v=absolutePositionToRelativePosition(E.anchor,p.type,p.binding.mapping),C=absolutePositionToRelativePosition(E.head,p.type,p.binding.mapping);null!=h.cursor&&rq.Uq(rq.og(h.cursor.anchor),v)&&rq.Uq(rq.og(h.cursor.head),C)||l.setLocalStateField(T,{anchor:v,head:C})}else null!=h.cursor&&null!==relativePositionToAbsolutePosition(p.doc,p.type,rq.og(h.cursor.anchor),p.binding.mapping)&&l.setLocalStateField(T,null)}};return l.on("change",awarenessListener),u.dom.addEventListener("focusin",updateCursorInfo),u.dom.addEventListener("focusout",updateCursorInfo),{update:updateCursorInfo,destroy:()=>{u.dom.removeEventListener("focusin",updateCursorInfo),u.dom.removeEventListener("focusout",updateCursorInfo),l.off("change",awarenessListener),l.setLocalStateField(T,null)}}}}),awarenessStatesToArray=l=>Array.from(l.entries()).map(([l,u])=>({clientId:l,...u.user})),defaultOnUpdate=()=>null,r2=e0.hj.create({name:"collaborationCursor",addOptions:()=>({provider:null,user:{name:null,color:null},render:l=>{let u=document.createElement("span");u.classList.add("collaboration-cursor__caret"),u.setAttribute("style",`border-color: ${l.color}`);let p=document.createElement("div");return p.classList.add("collaboration-cursor__label"),p.setAttribute("style",`background-color: ${l.color}`),p.insertBefore(document.createTextNode(l.name),null),u.insertBefore(p,null),u},selectionRender:defaultSelectionBuilder,onUpdate:defaultOnUpdate}),onCreate(){this.options.onUpdate!==defaultOnUpdate&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor')},addStorage:()=>({users:[]}),addCommands(){return{updateUser:l=>()=>(this.options.user=l,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:l=>({editor:u})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),u.commands.updateUser(l))}},addProseMirrorPlugins(){return[yCursorPlugin((this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=awarenessStatesToArray(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=awarenessStatesToArray(this.options.provider.awareness.states)}),this.options.provider.awareness),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}});let DropCursorView=class DropCursorView{constructor(l,u){var p;this.editorView=l,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(p=u.width)&&void 0!==p?p:1,this.color=!1===u.color?void 0:u.color||"black",this.class=u.class,this.handlers=["dragover","dragend","drop","dragleave"].map(u=>{let handler=l=>{this[u](l)};return l.dom.addEventListener(u,handler),{name:u,handler}})}destroy(){this.handlers.forEach(({name:l,handler:u})=>this.editorView.dom.removeEventListener(l,u))}update(l,u){null!=this.cursorPos&&u.doc!=l.state.doc&&(this.cursorPos>l.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(l){l!=this.cursorPos&&(this.cursorPos=l,null==l?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let l,u,p=this.editorView.state.doc.resolve(this.cursorPos),h=!p.parent.inlineContent,g;if(h){let l=p.nodeBefore,u=p.nodeAfter;if(l||u){let p=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(p){let h=p.getBoundingClientRect(),T=l?h.bottom:h.top;l&&u&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),g={left:h.left,right:h.right,top:T-this.width/2,bottom:T+this.width/2}}}}if(!g){let l=this.editorView.coordsAtPos(this.cursorPos);g={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let T=this.editorView.dom.offsetParent;if(!this.element&&(this.element=T.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",h),this.element.classList.toggle("prosemirror-dropcursor-inline",!h),T&&(T!=document.body||"static"!=getComputedStyle(T).position)){let p=T.getBoundingClientRect();l=p.left-T.scrollLeft,u=p.top-T.scrollTop}else l=-pageXOffset,u=-pageYOffset;this.element.style.left=g.left-l+"px",this.element.style.top=g.top-u+"px",this.element.style.width=g.right-g.left+"px",this.element.style.height=g.bottom-g.top+"px"}scheduleRemoval(l){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),l)}dragover(l){if(!this.editorView.editable)return;let u=this.editorView.posAtCoords({left:l.clientX,top:l.clientY}),p=u&&u.inside>=0&&this.editorView.state.doc.nodeAt(u.inside),h=p&&p.type.spec.disableDropCursor,g="function"==typeof h?h(this.editorView,u,l):h;if(u&&!g){let l=u.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=(0,tk.nj)(this.editorView.state.doc,l,this.editorView.dragging.slice);null!=u&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(l){l.target!=this.editorView.dom&&this.editorView.dom.contains(l.relatedTarget)||this.setCursor(null)}};let r8=e0.hj.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[function(l={}){return new e9.Sy({view:u=>new DropCursorView(u,l)})}(this.options)]}});let GapCursor=class GapCursor extends e9.Y1{constructor(l){super(l,l)}map(l,u){let p=l.resolve(u.map(this.head));return GapCursor.valid(p)?new GapCursor(p):e9.Y1.near(p)}content(){return O.p2.empty}eq(l){return l instanceof GapCursor&&l.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(l,u){if("number"!=typeof u.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(l.resolve(u.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(l){let u=l.parent;if(u.isTextblock||!function(l){for(let u=l.depth;u>=0;u--){let p=l.index(u),h=l.node(u);if(0==p){if(h.type.spec.isolating)return!0;continue}for(let l=h.child(p-1);;l=l.lastChild){if(0==l.childCount&&!l.inlineContent||l.isAtom||l.type.spec.isolating)return!0;if(l.inlineContent)return!1}}return!0}(l)||!function(l){for(let u=l.depth;u>=0;u--){let p=l.indexAfter(u),h=l.node(u);if(p==h.childCount){if(h.type.spec.isolating)return!0;continue}for(let l=h.child(p);;l=l.firstChild){if(0==l.childCount&&!l.inlineContent||l.isAtom||l.type.spec.isolating)return!0;if(l.inlineContent)return!1}}return!0}(l))return!1;let p=u.type.spec.allowGapCursor;if(null!=p)return p;let h=u.contentMatchAt(l.index()).defaultType;return h&&h.isTextblock}static findGapCursorFrom(l,u,p=!1){e:for(;;){if(!p&&GapCursor.valid(l))return l;let h=l.pos,g=null;for(let p=l.depth;;p--){let T=l.node(p);if(u>0?l.indexAfter(p)<T.childCount:l.index(p)>0){g=T.child(u>0?l.indexAfter(p):l.index(p)-1);break}if(0==p)return null;h+=u;let E=l.doc.resolve(h);if(GapCursor.valid(E))return E}for(;;){let T=u>0?g.firstChild:g.lastChild;if(!T){if(g.isAtom&&!g.isText&&!e9.qv.isSelectable(g)){l=l.doc.resolve(h+g.nodeSize*u),p=!1;continue e}break}g=T,h+=u;let E=l.doc.resolve(h);if(GapCursor.valid(E))return E}return null}}};GapCursor.prototype.visible=!1,GapCursor.findFrom=GapCursor.findGapCursorFrom,e9.Y1.jsonID("gapcursor",GapCursor);let GapBookmark=class GapBookmark{constructor(l){this.pos=l}map(l){return new GapBookmark(l.map(this.pos))}resolve(l){let u=l.resolve(this.pos);return GapCursor.valid(u)?new GapCursor(u):e9.Y1.near(u)}};let r6=(0,tv.$)({ArrowLeft:dist_arrow("horiz",-1),ArrowRight:dist_arrow("horiz",1),ArrowUp:dist_arrow("vert",-1),ArrowDown:dist_arrow("vert",1)});function dist_arrow(l,u){let p="vert"==l?u>0?"down":"up":u>0?"right":"left";return function(l,h,g){let T=l.selection,E=u>0?T.$to:T.$from,v=T.empty;if(T instanceof e9.Bs){if(!g.endOfTextblock(p)||0==E.depth)return!1;v=!1,E=l.doc.resolve(u>0?E.after():E.before())}let C=GapCursor.findGapCursorFrom(E,u,v);return!!C&&(h&&h(l.tr.setSelection(new GapCursor(C))),!0)}}function handleClick(l,u,p){if(!l||!l.editable)return!1;let h=l.state.doc.resolve(u);if(!GapCursor.valid(h))return!1;let g=l.posAtCoords({left:p.clientX,top:p.clientY});return!(g&&g.inside>-1&&e9.qv.isSelectable(l.state.doc.nodeAt(g.inside)))&&(l.dispatch(l.state.tr.setSelection(new GapCursor(h))),!0)}function beforeinput(l,u){if("insertCompositionText"!=u.inputType||!(l.state.selection instanceof GapCursor))return!1;let{$from:p}=l.state.selection,h=p.parent.contentMatchAt(p.index()).findWrapping(l.state.schema.nodes.text);if(!h)return!1;let g=O.HY.empty;for(let l=h.length-1;l>=0;l--)g=O.HY.from(h[l].createAndFill(null,g));let T=l.state.tr.replace(p.pos,p.pos,new O.p2(g,0,0));return T.setSelection(e9.Bs.near(T.doc.resolve(p.pos+1))),l.dispatch(T),!1}function drawGapCursor(l){if(!(l.selection instanceof GapCursor))return null;let u=document.createElement("div");return u.className="ProseMirror-gapcursor",tE.EH.create(l.doc,[tE.p.widget(l.selection.head,u,{key:"gapcursor"})])}let r3=e0.hj.create({name:"gapCursor",addProseMirrorPlugins:()=>[new e9.Sy({props:{decorations:drawGapCursor,createSelectionBetween:(l,u,p)=>u.pos==p.pos&&GapCursor.valid(p)?new GapCursor(p):null,handleClick,handleKeyDown:r6,handleDOMEvents:{beforeinput:beforeinput}}})],extendNodeSchema(l){var u;let p={name:l.name,options:l.options,storage:l.storage};return{allowGapCursor:null!==(u=(0,e0.nU)((0,e0.Nl)(l,"allowGapCursor",p)))&&void 0!==u?u:null}}}),r7=e0.NB.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:l}){return["br",(0,e0.P1)(this.options.HTMLAttributes,l)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:l,chain:u,state:p,editor:h})=>l.first([()=>l.exitCode(),()=>l.command(()=>{let{selection:l,storedMarks:g}=p;if(l.$from.parent.type.spec.isolating)return!1;let{keepMarks:T}=this.options,{splittableMarks:E}=h.extensionManager,v=g||l.$to.parentOffset&&l.$from.marks();return u().insertContent({type:this.name}).command(({tr:l,dispatch:u})=>{if(u&&v&&T){let u=v.filter(l=>E.includes(l.type.name));l.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var RopeSequence=function(){};RopeSequence.prototype.append=function(l){return l.length?(l=RopeSequence.from(l),!this.length&&l||l.length<200&&this.leafAppend(l)||this.length<200&&l.leafPrepend(this)||this.appendInner(l)):this},RopeSequence.prototype.prepend=function(l){return l.length?RopeSequence.from(l).append(this):this},RopeSequence.prototype.appendInner=function(l){return new it(this,l)},RopeSequence.prototype.slice=function(l,u){return(void 0===l&&(l=0),void 0===u&&(u=this.length),l>=u)?RopeSequence.empty:this.sliceInner(Math.max(0,l),Math.min(this.length,u))},RopeSequence.prototype.get=function(l){if(!(l<0)&&!(l>=this.length))return this.getInner(l)},RopeSequence.prototype.forEach=function(l,u,p){void 0===u&&(u=0),void 0===p&&(p=this.length),u<=p?this.forEachInner(l,u,p,0):this.forEachInvertedInner(l,u,p,0)},RopeSequence.prototype.map=function(l,u,p){void 0===u&&(u=0),void 0===p&&(p=this.length);var h=[];return this.forEach(function(u,p){return h.push(l(u,p))},u,p),h},RopeSequence.from=function(l){return l instanceof RopeSequence?l:l&&l.length?new ie(l):RopeSequence.empty};var ie=function(l){function Leaf(u){l.call(this),this.values=u}l&&(Leaf.__proto__=l),Leaf.prototype=Object.create(l&&l.prototype),Leaf.prototype.constructor=Leaf;var u={length:{configurable:!0},depth:{configurable:!0}};return Leaf.prototype.flatten=function(){return this.values},Leaf.prototype.sliceInner=function(l,u){return 0==l&&u==this.length?this:new Leaf(this.values.slice(l,u))},Leaf.prototype.getInner=function(l){return this.values[l]},Leaf.prototype.forEachInner=function(l,u,p,h){for(var g=u;g<p;g++)if(!1===l(this.values[g],h+g))return!1},Leaf.prototype.forEachInvertedInner=function(l,u,p,h){for(var g=u-1;g>=p;g--)if(!1===l(this.values[g],h+g))return!1},Leaf.prototype.leafAppend=function(l){if(this.length+l.length<=200)return new Leaf(this.values.concat(l.flatten()))},Leaf.prototype.leafPrepend=function(l){if(this.length+l.length<=200)return new Leaf(l.flatten().concat(this.values))},u.length.get=function(){return this.values.length},u.depth.get=function(){return 0},Object.defineProperties(Leaf.prototype,u),Leaf}(RopeSequence);RopeSequence.empty=new ie([]);var it=function(l){function Append(u,p){l.call(this),this.left=u,this.right=p,this.length=u.length+p.length,this.depth=Math.max(u.depth,p.depth)+1}return l&&(Append.__proto__=l),Append.prototype=Object.create(l&&l.prototype),Append.prototype.constructor=Append,Append.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},Append.prototype.getInner=function(l){return l<this.left.length?this.left.get(l):this.right.get(l-this.left.length)},Append.prototype.forEachInner=function(l,u,p,h){var g=this.left.length;if(u<g&&!1===this.left.forEachInner(l,u,Math.min(p,g),h)||p>g&&!1===this.right.forEachInner(l,Math.max(u-g,0),Math.min(this.length,p)-g,h+g))return!1},Append.prototype.forEachInvertedInner=function(l,u,p,h){var g=this.left.length;if(u>g&&!1===this.right.forEachInvertedInner(l,u-g,Math.max(p,g)-g,h+g)||p<g&&!1===this.left.forEachInvertedInner(l,Math.min(u,g),p,h))return!1},Append.prototype.sliceInner=function(l,u){if(0==l&&u==this.length)return this;var p=this.left.length;return u<=p?this.left.slice(l,u):l>=p?this.right.slice(l-p,u-p):this.left.slice(l,p).append(this.right.slice(0,u-p))},Append.prototype.leafAppend=function(l){var u=this.right.leafAppend(l);if(u)return new Append(this.left,u)},Append.prototype.leafPrepend=function(l){var u=this.left.leafPrepend(l);if(u)return new Append(u,this.right)},Append.prototype.appendInner=function(l){return this.left.depth>=Math.max(this.right.depth,l.depth)+1?new Append(this.left,new Append(this.right,l)):new Append(this,l)},Append}(RopeSequence);let Branch=class Branch{constructor(l,u){this.items=l,this.eventCount=u}popEvent(l,u){let p,h,g,T;if(0==this.eventCount)return null;let E=this.items.length;for(;;E--)if(this.items.get(E-1).selection){--E;break}u&&(h=(p=this.remapping(E,this.items.length)).maps.length);let v=l.tr,C=[],x=[];return this.items.forEach((l,u)=>{if(!l.step){p||(h=(p=this.remapping(E,u+1)).maps.length),h--,x.push(l);return}if(p){x.push(new Item(l.map));let u=l.step.map(p.slice(h)),g;u&&v.maybeStep(u).doc&&(g=v.mapping.maps[v.mapping.maps.length-1],C.push(new Item(g,void 0,void 0,C.length+x.length))),h--,g&&p.appendMap(g,h)}else v.maybeStep(l.step);if(l.selection)return g=p?l.selection.map(p.slice(h)):l.selection,T=new Branch(this.items.slice(0,E).append(x.reverse().concat(C)),this.eventCount-1),!1},this.items.length,0),{remaining:T,transform:v,selection:g}}addTransform(l,u,p,h){var g,T;let E,v=[],C=this.eventCount,x=this.items,M=!h&&x.length?x.get(x.length-1):null;for(let p=0;p<l.steps.length;p++){let g=l.steps[p].invert(l.docs[p]),T=new Item(l.mapping.maps[p],g,u),E;(E=M&&M.merge(T))&&(T=E,p?v.pop():x=x.slice(0,x.length-1)),v.push(T),u&&(C++,u=void 0),h||(M=T)}let O=C-p.depth;return O>ir&&(g=x,T=O,g.forEach((l,u)=>{if(l.selection&&0==T--)return E=u,!1}),x=g.slice(E),C-=O),new Branch(x.append(v),C)}remapping(l,u){let p=new tk.vs;return this.items.forEach((u,h)=>{let g=null!=u.mirrorOffset&&h-u.mirrorOffset>=l?p.maps.length-u.mirrorOffset:void 0;p.appendMap(u.map,g)},l,u),p}addMaps(l){return 0==this.eventCount?this:new Branch(this.items.append(l.map(l=>new Item(l))),this.eventCount)}rebased(l,u){if(!this.eventCount)return this;let p=[],h=Math.max(0,this.items.length-u),g=l.mapping,T=l.steps.length,E=this.eventCount;this.items.forEach(l=>{l.selection&&E--},h);let v=u;this.items.forEach(u=>{let h=g.getMirror(--v);if(null==h)return;T=Math.min(T,h);let C=g.maps[h];if(u.step){let T=l.steps[h].invert(l.docs[h]),x=u.selection&&u.selection.map(g.slice(v+1,h));x&&E++,p.push(new Item(C,T,x))}else p.push(new Item(C))},h);let C=[];for(let l=u;l<T;l++)C.push(new Item(g.maps[l]));let x=this.items.slice(0,h).append(C).append(p),M=new Branch(x,E);return M.emptyItemCount()>500&&(M=M.compress(this.items.length-p.length)),M}emptyItemCount(){let l=0;return this.items.forEach(u=>{!u.step&&l++}),l}compress(l=this.items.length){let u=this.remapping(0,l),p=u.maps.length,h=[],g=0;return this.items.forEach((T,E)=>{if(E>=l)h.push(T),T.selection&&g++;else if(T.step){let l=T.step.map(u.slice(p)),E=l&&l.getMap();if(p--,E&&u.appendMap(E,p),l){let v=T.selection&&T.selection.map(u.slice(p));v&&g++;let C=new Item(E.invert(),l,v),x,M=h.length-1;(x=h.length&&h[M].merge(C))?h[M]=x:h.push(C)}}else T.map&&p--},this.items.length,0),new Branch(RopeSequence.from(h.reverse()),g)}};Branch.empty=new Branch(RopeSequence.empty,0);let Item=class Item{constructor(l,u,p,h){this.map=l,this.step=u,this.selection=p,this.mirrorOffset=h}merge(l){if(this.step&&l.step&&!l.selection){let u=l.step.merge(this.step);if(u)return new Item(u.getMap().invert(),u,this.selection)}}};let HistoryState=class HistoryState{constructor(l,u,p,h,g){this.done=l,this.undone=u,this.prevRanges=p,this.prevTime=h,this.prevComposition=g}};let ir=20;function rangesFor(l){let u=[];return l.forEach((l,p,h,g)=>u.push(h,g)),u}function mapRanges(l,u){if(!l)return null;let p=[];for(let h=0;h<l.length;h+=2){let g=u.map(l[h],1),T=u.map(l[h+1],-1);g<=T&&p.push(g,T)}return p}let ii=!1,ia=null;function mustPreserveItems(l){let u=l.plugins;if(ia!=u){ii=!1,ia=u;for(let l=0;l<u.length;l++)if(u[l].spec.historyPreserveItems){ii=!0;break}}return ii}let is=new e9.H$("history"),il=new e9.H$("closeHistory");function buildCommand(l,u){return(p,h)=>{let g=is.getState(p);if(!g||0==(l?g.undone:g.done).eventCount)return!1;if(h){let T=function(l,u,p){let h=mustPreserveItems(u),g=is.get(u).spec.config,T=(p?l.undone:l.done).popEvent(u,h);if(!T)return null;let E=T.selection.resolve(T.transform.doc),v=(p?l.done:l.undone).addTransform(T.transform,u.selection.getBookmark(),g,h),C=new HistoryState(p?v:T.remaining,p?T.remaining:v,null,0,-1);return T.transform.setSelection(E).setMeta(is,{redo:p,historyState:C})}(g,p,l);T&&h(u?T.scrollIntoView():T)}return!0}}let ic=buildCommand(!1,!0),iu=buildCommand(!0,!0);buildCommand(!1,!1),buildCommand(!0,!1);let ip=e0.hj.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:l,dispatch:u})=>ic(l,u),redo:()=>({state:l,dispatch:u})=>iu(l,u)}),addProseMirrorPlugins(){return[function(l={}){return l={depth:l.depth||100,newGroupDelay:l.newGroupDelay||500},new e9.Sy({key:is,state:{init:()=>new HistoryState(Branch.empty,Branch.empty,null,0,-1),apply:(u,p,h)=>(function(l,u,p,h){let g=p.getMeta(is),T;if(g)return g.historyState;p.getMeta(il)&&(l=new HistoryState(l.done,l.undone,null,0,-1));let E=p.getMeta("appendedTransaction");if(0==p.steps.length)return l;if(E&&E.getMeta(is))return E.getMeta(is).redo?new HistoryState(l.done.addTransform(p,void 0,h,mustPreserveItems(u)),l.undone,rangesFor(p.mapping.maps[p.steps.length-1]),l.prevTime,l.prevComposition):new HistoryState(l.done,l.undone.addTransform(p,void 0,h,mustPreserveItems(u)),null,l.prevTime,l.prevComposition);if(!1===p.getMeta("addToHistory")||E&&!1===E.getMeta("addToHistory"))return(T=p.getMeta("rebased"))?new HistoryState(l.done.rebased(p,T),l.undone.rebased(p,T),mapRanges(l.prevRanges,p.mapping),l.prevTime,l.prevComposition):new HistoryState(l.done.addMaps(p.mapping.maps),l.undone.addMaps(p.mapping.maps),mapRanges(l.prevRanges,p.mapping),l.prevTime,l.prevComposition);{let g=p.getMeta("composition"),T=0==l.prevTime||!E&&l.prevComposition!=g&&(l.prevTime<(p.time||0)-h.newGroupDelay||!function(l,u){if(!u)return!1;if(!l.docChanged)return!0;let p=!1;return l.mapping.maps[0].forEach((l,h)=>{for(let g=0;g<u.length;g+=2)l<=u[g+1]&&h>=u[g]&&(p=!0)}),p}(p,l.prevRanges)),v=E?mapRanges(l.prevRanges,p.mapping):rangesFor(p.mapping.maps[p.steps.length-1]);return new HistoryState(l.done.addTransform(p,T?u.selection.getBookmark():void 0,h,mustPreserveItems(u)),Branch.empty,v,p.time,null==g?l.prevComposition:g)}})(p,h,u,l)},config:l,props:{handleDOMEvents:{beforeinput(l,u){let p=u.inputType,h="historyUndo"==p?ic:"historyRedo"==p?iu:null;return!!h&&(u.preventDefault(),h(l.state,l.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),linkify_es_assign=(l,u)=>{for(let p in u)l[p]=u[p];return l},ih="numeric",im="ascii",ig="alpha",iy="asciinumeric",ib="alphanumeric",iT="domain",iE="emoji",iv="whitespace";function addToGroups(l,u,p){for(let h in u[ih]&&(u[iy]=!0,u[ib]=!0),u[im]&&(u[iy]=!0,u[ig]=!0),u[iy]&&(u[ib]=!0),u[ig]&&(u[ib]=!0),u[ib]&&(u[iT]=!0),u[iE]&&(u[iT]=!0),u){let u=(h in p||(p[h]=[]),p[h]);0>u.indexOf(l)&&u.push(l)}}function State(l){void 0===l&&(l=null),this.j={},this.jr=[],this.jd=null,this.t=l}State.groups={},State.prototype={accepts(){return!!this.t},go(l){let u=this.j[l];if(u)return u;for(let u=0;u<this.jr.length;u++){let p=this.jr[u][0],h=this.jr[u][1];if(h&&p.test(l))return h}return this.jd},has(l,u){return void 0===u&&(u=!1),u?l in this.j:!!this.go(l)},ta(l,u,p,h){for(let g=0;g<l.length;g++)this.tt(l[g],u,p,h)},tr(l,u,p,h){let g;return h=h||State.groups,u&&u.j?g=u:(g=new State(u),p&&h&&addToGroups(u,p,h)),this.jr.push([l,g]),g},ts(l,u,p,h){let g=this,T=l.length;if(!T)return g;for(let u=0;u<T-1;u++)g=g.tt(l[u]);return g.tt(l[T-1],u,p,h)},tt(l,u,p,h){if(h=h||State.groups,u&&u.j)return this.j[l]=u,u;let g,T=this.go(l);if(T?(linkify_es_assign((g=new State).j,T.j),g.jr.push.apply(g.jr,T.jr),g.jd=T.jd,g.t=T.t):g=new State,u){if(h){if(g.t&&"string"==typeof g.t){let l=linkify_es_assign(function(l,u){let p={};for(let h in u)u[h].indexOf(l)>=0&&(p[h]=!0);return p}(g.t,h),p);addToGroups(u,l,h)}else p&&addToGroups(u,p,h)}g.t=u}return this.j[l]=g,g}};let ta=(l,u,p,h,g)=>l.ta(u,p,h,g),linkify_es_tr=(l,u,p,h,g)=>l.tr(u,p,h,g),ts=(l,u,p,h,g)=>l.ts(u,p,h,g),tt=(l,u,p,h,g)=>l.tt(u,p,h,g),ik="WORD",iS="UWORD",iC="LOCALHOST",iw="UTLD",ix="SCHEME",iA="SLASH_SCHEME",i_="OPENBRACE",iN="CLOSEBRACE",iM="OPENBRACKET",iO="CLOSEBRACKET",iI="OPENPAREN",iR="CLOSEPAREN",iL="OPENANGLEBRACKET",iP="CLOSEANGLEBRACKET",iD="FULLWIDTHLEFTPAREN",iB="FULLWIDTHRIGHTPAREN",iH="LEFTCORNERBRACKET",iF="RIGHTCORNERBRACKET",iU="LEFTWHITECORNERBRACKET",ij="RIGHTWHITECORNERBRACKET",iz="FULLWIDTHLESSTHAN",iV="FULLWIDTHGREATERTHAN",i$="AMPERSAND",iG="APOSTROPHE",iK="ASTERISK",iW="BACKSLASH",iq="BACKTICK",iY="CARET",iQ="COLON",iJ="COMMA",iX="DOLLAR",iZ="EQUALS",i1="EXCLAMATION",i0="HYPHEN",i9="PERCENT",i5="PIPE",i4="PLUS",i2="POUND",i8="QUERY",i6="QUOTE",i3="SEMI",i7="SLASH",ot="TILDE",or="UNDERSCORE",oi="EMOJI";var oa=Object.freeze({__proto__:null,WORD:ik,UWORD:iS,LOCALHOST:iC,TLD:"TLD",UTLD:iw,SCHEME:ix,SLASH_SCHEME:iA,NUM:"NUM",WS:"WS",NL:"NL",OPENBRACE:i_,CLOSEBRACE:iN,OPENBRACKET:iM,CLOSEBRACKET:iO,OPENPAREN:iI,CLOSEPAREN:iR,OPENANGLEBRACKET:iL,CLOSEANGLEBRACKET:iP,FULLWIDTHLEFTPAREN:iD,FULLWIDTHRIGHTPAREN:iB,LEFTCORNERBRACKET:iH,RIGHTCORNERBRACKET:iF,LEFTWHITECORNERBRACKET:iU,RIGHTWHITECORNERBRACKET:ij,FULLWIDTHLESSTHAN:iz,FULLWIDTHGREATERTHAN:iV,AMPERSAND:i$,APOSTROPHE:iG,ASTERISK:iK,AT:"AT",BACKSLASH:iW,BACKTICK:iq,CARET:iY,COLON:iQ,COMMA:iJ,DOLLAR:iX,DOT:"DOT",EQUALS:iZ,EXCLAMATION:i1,HYPHEN:i0,PERCENT:i9,PIPE:i5,PLUS:i4,POUND:i2,QUERY:i8,QUOTE:i6,SEMI:i3,SLASH:i7,TILDE:ot,UNDERSCORE:or,EMOJI:oi,SYM:"SYM"});let ol=/[a-z]/,oc=/\p{L}/u,ou=/\p{Emoji}/u,od=/\d/,op=/\s/,oh=null,of=null;function fastts(l,u,p,h,g){let T;let E=u.length;for(let p=0;p<E-1;p++){let E=u[p];l.j[E]?T=l.j[E]:((T=new State(h)).jr=g.slice(),l.j[E]=T),l=T}return(T=new State(p)).jr=g.slice(),l.j[u[E-1]]=T,T}function decodeTlds(l){let u=[],p=[],h=0;for(;h<l.length;){let g=0;for(;"0123456789".indexOf(l[h+g])>=0;)g++;if(g>0){u.push(p.join(""));for(let u=parseInt(l.substring(h,h+g),10);u>0;u--)p.pop();h+=g}else p.push(l[h]),h++}return u}let om={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(l,u){void 0===u&&(u=null);let p=linkify_es_assign({},om);l&&(p=linkify_es_assign(p,l instanceof Options?l.o:l));let h=p.ignoreTags,g=[];for(let l=0;l<h.length;l++)g.push(h[l].toUpperCase());this.o=p,u&&(this.defaultRender=u),this.ignoreTags=g}function noop(l){return l}function MultiToken(l,u){this.t="token",this.v=l,this.tk=u}function createTokenClass(l,u){let Token=class Token extends MultiToken{constructor(u,p){super(u,p),this.t=l}};for(let l in u)Token.prototype[l]=u[l];return Token.t=l,Token}Options.prototype={o:om,ignoreTags:[],defaultRender:l=>l,check(l){return this.get("validate",l.toString(),l)},get(l,u,p){let h=null!=u,g=this.o[l];return g&&("object"==typeof g?"function"==typeof(g=p.t in g?g[p.t]:om[l])&&h&&(g=g(u,p)):"function"==typeof g&&h&&(g=g(u,p.t,p))),g},getObj(l,u,p){let h=this.o[l];return"function"==typeof h&&null!=u&&(h=h(u,p.t,p)),h},render(l){let u=l.render(this),p=this.get("render",null,l)||this.defaultRender;return p(u,l.t,l)}},MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(l){return this.toString()},toFormattedString(l){let u=this.toString(),p=l.get("truncate",u,this),h=l.get("format",u,this);return p&&h.length>p?h.substring(0,p)+"…":h},toFormattedHref(l){return l.get("formatHref",this.toHref(l.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(l){return void 0===l&&(l=om.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(l),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(l){return{type:this.t,value:this.toFormattedString(l),isLink:this.isLink,href:this.toFormattedHref(l),start:this.startIndex(),end:this.endIndex()}},validate(l){return l.get("validate",this.toString(),this)},render(l){let u=this.toHref(l.get("defaultProtocol")),p=l.get("formatHref",u,this),h=l.get("tagName",u,this),g=this.toFormattedString(l),T={},E=l.get("className",u,this),v=l.get("target",u,this),C=l.get("rel",u,this),x=l.getObj("attributes",u,this),M=l.getObj("events",u,this);return T.href=p,E&&(T.class=E),v&&(T.target=v),C&&(T.rel=C),x&&linkify_es_assign(T,x),{tagName:h,attributes:T,content:g,eventListeners:M}}};let og=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),oy=createTokenClass("text"),ob=createTokenClass("nl"),oT=createTokenClass("url",{isLink:!0,toHref(l){return void 0===l&&(l=om.defaultProtocol),this.hasProtocol()?this.v:`${l}://${this.v}`},hasProtocol(){let l=this.tk;return l.length>=2&&l[0].t!==iC&&l[1].t===iQ}}),makeState=l=>new State(l);function initMultiToken(l,u,p){let h=p[0].s,g=p[p.length-1].e,T=u.slice(h,g);return new l(T,p)}let oE="undefined"!=typeof console&&console&&console.warn||(()=>{}),ov={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function registerCustomProtocol(l,u){if(void 0===u&&(u=!1),ov.initialized&&oE(`linkifyjs: already initialized - will not register custom scheme "${l}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(l))throw Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ov.customSchemes.push([l,u])}function tokenize(l){return ov.initialized||function(){ov.scanner=function(l){void 0===l&&(l=[]);let u={};State.groups=u;let p=new State;null==oh&&(oh=decodeTlds("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==of&&(of=decodeTlds("ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2")),tt(p,"'",iG),tt(p,"{",i_),tt(p,"}",iN),tt(p,"[",iM),tt(p,"]",iO),tt(p,"(",iI),tt(p,")",iR),tt(p,"<",iL),tt(p,">",iP),tt(p,"（",iD),tt(p,"）",iB),tt(p,"「",iH),tt(p,"」",iF),tt(p,"『",iU),tt(p,"』",ij),tt(p,"＜",iz),tt(p,"＞",iV),tt(p,"&",i$),tt(p,"*",iK),tt(p,"@","AT"),tt(p,"`",iq),tt(p,"^",iY),tt(p,":",iQ),tt(p,",",iJ),tt(p,"$",iX),tt(p,".","DOT"),tt(p,"=",iZ),tt(p,"!",i1),tt(p,"-",i0),tt(p,"%",i9),tt(p,"|",i5),tt(p,"+",i4),tt(p,"#",i2),tt(p,"?",i8),tt(p,'"',i6),tt(p,"/",i7),tt(p,";",i3),tt(p,"~",ot),tt(p,"_",or),tt(p,"\\",iW);let h=linkify_es_tr(p,od,"NUM",{[ih]:!0});linkify_es_tr(h,od,h);let g=linkify_es_tr(p,ol,ik,{[im]:!0});linkify_es_tr(g,ol,g);let T=linkify_es_tr(p,oc,iS,{[ig]:!0});linkify_es_tr(T,ol),linkify_es_tr(T,oc,T);let E=linkify_es_tr(p,op,"WS",{[iv]:!0});tt(p,"\n","NL",{[iv]:!0}),tt(E,"\n"),linkify_es_tr(E,op,E);let v=linkify_es_tr(p,ou,oi,{[iE]:!0});linkify_es_tr(v,ou,v),tt(v,"️",v);let C=tt(v,"‍");linkify_es_tr(C,ou,v);let x=[[ol,g]],M=[[ol,null],[oc,T]];for(let l=0;l<oh.length;l++)fastts(p,oh[l],"TLD",ik,x);for(let l=0;l<of.length;l++)fastts(p,of[l],iw,iS,M);addToGroups("TLD",{tld:!0,ascii:!0},u),addToGroups(iw,{utld:!0,alpha:!0},u),fastts(p,"file",ix,ik,x),fastts(p,"mailto",ix,ik,x),fastts(p,"http",iA,ik,x),fastts(p,"https",iA,ik,x),fastts(p,"ftp",iA,ik,x),fastts(p,"ftps",iA,ik,x),addToGroups(ix,{scheme:!0,ascii:!0},u),addToGroups(iA,{slashscheme:!0,ascii:!0},u),l=l.sort((l,u)=>l[0]>u[0]?1:-1);for(let u=0;u<l.length;u++){let h=l[u][0],g=l[u][1],T=g?{scheme:!0}:{slashscheme:!0};h.indexOf("-")>=0?T[iT]=!0:ol.test(h)?od.test(h)?T[iy]=!0:T[im]=!0:T[ih]=!0,ts(p,h,h,T)}return ts(p,"localhost",iC,{ascii:!0}),p.jd=new State("SYM"),{start:p,tokens:linkify_es_assign({groups:u},oa)}}(ov.customSchemes);for(let l=0;l<ov.tokenQueue.length;l++)ov.tokenQueue[l][1]({scanner:ov.scanner});ov.parser=function(l){let{groups:u}=l,p=u.domain.concat([i$,iK,"AT",iW,iq,iY,iX,iZ,i0,"NUM",i9,i5,i4,i2,i7,"SYM",ot,or]),h=[iG,iQ,iJ,"DOT",i1,i8,i6,i3,iL,iP,i_,iN,iO,iM,iI,iR,iD,iB,iH,iF,iU,ij,iz,iV],g=[i$,iG,iK,iW,iq,iY,iX,iZ,i0,i_,iN,i9,i5,i4,i2,i8,i7,"SYM",ot,or],T=makeState(),E=tt(T,ot);ta(E,g,E),ta(E,u.domain,E);let v=makeState(),C=makeState(),x=makeState();ta(T,u.domain,v),ta(T,u.scheme,C),ta(T,u.slashscheme,x),ta(v,g,E),ta(v,u.domain,v);let M=tt(v,"AT");tt(E,"AT",M),tt(C,"AT",M),tt(x,"AT",M);let O=tt(E,"DOT");ta(O,g,E),ta(O,u.domain,E);let R=makeState();ta(M,u.domain,R),ta(R,u.domain,R);let L=tt(R,"DOT");ta(L,u.domain,R);let H=makeState(og);ta(L,u.tld,H),ta(L,u.utld,H),tt(M,iC,H);let U=tt(R,i0);ta(U,u.domain,R),ta(H,u.domain,R),tt(H,"DOT",L),tt(H,i0,U);let j=tt(H,iQ);ta(j,u.numeric,og);let G=tt(v,i0),W=tt(v,"DOT");ta(G,u.domain,v),ta(W,g,E),ta(W,u.domain,v);let q=makeState(oT);ta(W,u.tld,q),ta(W,u.utld,q),ta(q,u.domain,v),ta(q,g,E),tt(q,"DOT",W),tt(q,i0,G),tt(q,"AT",M);let Y=tt(q,iQ),X=makeState(oT);ta(Y,u.numeric,X);let Z=makeState(oT),er=makeState();ta(Z,p,Z),ta(Z,h,er),ta(er,p,Z),ta(er,h,er),tt(q,i7,Z),tt(X,i7,Z);let ea=tt(C,iQ),es=tt(x,iQ),el=tt(es,i7),ec=tt(el,i7);ta(C,u.domain,v),tt(C,"DOT",W),tt(C,i0,G),ta(x,u.domain,v),tt(x,"DOT",W),tt(x,i0,G),ta(ea,u.domain,Z),tt(ea,i7,Z),ta(ec,u.domain,Z),ta(ec,p,Z),tt(ec,i7,Z);let eu=[[i_,iN],[iM,iO],[iI,iR],[iL,iP],[iD,iB],[iH,iF],[iU,ij],[iz,iV]];for(let l=0;l<eu.length;l++){let[u,g]=eu[l],T=tt(Z,u);tt(er,u,T),tt(T,g,Z);let E=makeState(oT);ta(T,p,E);let v=makeState();ta(T,h),ta(E,p,E),ta(E,h,v),ta(v,p,E),ta(v,h,v),tt(E,g,Z),tt(v,g,Z)}return tt(T,iC,q),tt(T,"NL",ob),{start:T,tokens:oa}}(ov.scanner.tokens);for(let l=0;l<ov.pluginQueue.length;l++)ov.pluginQueue[l][1]({scanner:ov.scanner,parser:ov.parser});ov.initialized=!0}(),function(l,u,p){let h=p.length,g=0,T=[],E=[];for(;g<h;){let v=l,C=null,x=null,M=0,O=null,R=-1;for(;g<h&&!(C=v.go(p[g].t));)E.push(p[g++]);for(;g<h&&(x=C||v.go(p[g].t));)C=null,(v=x).accepts()?(R=0,O=v):R>=0&&R++,g++,M++;if(R<0)(g-=M)<h&&(E.push(p[g]),g++);else{E.length>0&&(T.push(initMultiToken(oy,u,E)),E=[]),g-=R,M-=R;let l=O.t,h=p.slice(g-M,g);T.push(initMultiToken(l,u,h))}}return E.length>0&&T.push(initMultiToken(oy,u,E)),T}(ov.parser.start,l,function(l,u){let p=function(l){let u=[],p=l.length,h=0;for(;h<p;){let g,T=l.charCodeAt(h),E=T<55296||T>56319||h+1===p||(g=l.charCodeAt(h+1))<56320||g>57343?l[h]:l.slice(h,h+2);u.push(E),h+=E.length}return u}(u.replace(/[A-Z]/g,l=>l.toLowerCase())),h=p.length,g=[],T=0,E=0;for(;E<h;){let v=l,C=null,x=0,M=null,O=-1,R=-1;for(;E<h&&(C=v.go(p[E]));)(v=C).accepts()?(O=0,R=0,M=v):O>=0&&(O+=p[E].length,R++),x+=p[E].length,T+=p[E].length,E++;T-=O,E-=R,x-=O,g.push({t:M.t,v:u.slice(T-x,T),s:T-x,e:T})}return g}(ov.scanner.start,l))}function linkify_es_find(l,u,p){if(void 0===u&&(u=null),void 0===p&&(p=null),u&&"object"==typeof u){if(p)throw Error(`linkifyjs: Invalid link type ${u}; must be a string`);p=u,u=null}let h=new Options(p),g=tokenize(l),T=[];for(let l=0;l<g.length;l++){let p=g[l];p.isLink&&(!u||p.t===u)&&h.check(p)&&T.push(p.toFormattedObject(h))}return T}let oS=e0.vc.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(l=>{if("string"==typeof l){registerCustomProtocol(l);return}registerCustomProtocol(l.scheme,l.optionalSlashes)})},onDestroy(){State.groups={},ov.scanner=null,ov.parser=null,ov.tokenQueue=[],ov.pluginQueue=[],ov.customSchemes=[],ov.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:l}){var u;return(null===(u=l.href)||void 0===u?void 0:u.startsWith("javascript:"))?["a",(0,e0.P1)(this.options.HTMLAttributes,{...l,href:""}),0]:["a",(0,e0.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{setLink:l=>({chain:u})=>u().setMark(this.name,l).setMeta("preventAutolink",!0).run(),toggleLink:l=>({chain:u})=>u().toggleMark(this.name,l,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:l})=>l().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,e0.K9)({find:l=>{let u=[];if(l){let p=linkify_es_find(l).filter(l=>l.isLink);p.length&&p.forEach(l=>u.push({text:l.value,data:{href:l.href},index:l.start}))}return u},type:this.type,getAttributes:l=>{var u;return{href:null===(u=l.data)||void 0===u?void 0:u.href}}})]},addProseMirrorPlugins(){var l,u,p;let h=[];return this.options.autolink&&h.push((l={type:this.type,validate:this.options.validate},new e9.Sy({key:new e9.H$("autolink"),appendTransaction:(u,p,h)=>{let g=u.some(l=>l.docChanged)&&!p.doc.eq(h.doc),T=u.some(l=>l.getMeta("preventAutolink"));if(!g||T)return;let{tr:E}=h,v=(0,e0.XP)(p.doc,[...u]),C=(0,e0.QC)(v);if(C.forEach(({newRange:u})=>{let p,g;let T=(0,e0.b5)(h.doc,u,l=>l.isTextblock);if(T.length>1?(p=T[0],g=h.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):T.length&&h.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(p=T[0],g=h.doc.textBetween(p.pos,u.to,void 0," ")),p&&g){let u=g.split(" ").filter(l=>""!==l);if(u.length<=0)return!1;let T=u[u.length-1],v=p.pos+g.lastIndexOf(T);if(!T)return!1;let C=tokenize(T).map(l=>l.toObject());if(!(1===C.length?C[0].isLink:3===C.length&&!!C[1].isLink&&["()","[]"].includes(C[0].value+C[2].value)))return!1;C.filter(l=>l.isLink).map(l=>({...l,from:v+l.start+1,to:v+l.end+1})).filter(l=>!h.schema.marks.code||!h.doc.rangeHasMark(l.from,l.to,h.schema.marks.code)).filter(u=>!l.validate||l.validate(u.value)).forEach(u=>{(0,e0.tI)(u.from,u.to,h.doc).some(u=>u.mark.type===l.type)||E.addMark(u.from,u.to,l.type.create({href:u.href}))})}}),E.steps.length)return E}}))),this.options.openOnClick&&h.push((u={type:this.type,whenNotEditable:"whenNotEditable"===this.options.openOnClick},new e9.Sy({key:new e9.H$("handleClickLink"),props:{handleClick:(l,p,h)=>{var g,T;if(u.whenNotEditable&&l.editable||0!==h.button)return!1;let E=h.target,v=[];for(;"DIV"!==E.nodeName;)v.push(E),E=E.parentNode;if(!v.find(l=>"A"===l.nodeName))return!1;let C=(0,e0.u9)(l.state,u.type.name),x=h.target,M=null!==(g=null==x?void 0:x.href)&&void 0!==g?g:C.href,O=null!==(T=null==x?void 0:x.target)&&void 0!==T?T:C.target;return!!x&&!!M&&(window.open(M,O),!0)}}}))),this.options.linkOnPaste&&h.push((p={editor:this.editor,type:this.type},new e9.Sy({key:new e9.H$("handlePasteLink"),props:{handlePaste:(l,u,h)=>{let{state:g}=l,{selection:T}=g,{empty:E}=T;if(E)return!1;let v="";h.content.forEach(l=>{v+=l.textContent});let C=linkify_es_find(v).find(l=>l.isLink&&l.value===v);return!!v&&!!C&&(p.editor.commands.setMark(p.type,{href:C.href}),!0)}}}))),h}}),oC=e0.NB.create({name:"text",group:"inline"});var ow=Object.defineProperty,fe=(l,u,p)=>u in l?ow(l,u,{enumerable:!0,configurable:!0,writable:!0,value:p}):l[u]=p,d=(l,u,p)=>(fe(l,"symbol"!=typeof u?u+"":u,p),p);let ox=e0.hj.create({name:"uniqueID",priority:1e4,addOptions:()=>({attributeName:"id",types:[],generateID:()=>{if("u">typeof window&&window.__TEST_OPTIONS){let l=window.__TEST_OPTIONS;return void 0===l.mockID?l.mockID=0:l.mockID++,l.mockID.toString()}return esm_browser_v4()},filterTransaction:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:l=>l.getAttribute(`data-${this.options.attributeName}`),renderHTML:l=>({[`data-${this.options.attributeName}`]:l[this.options.attributeName]})}}}]},addProseMirrorPlugins(){let l=null,u=!1;return[new e9.Sy({key:new e9.H$("uniqueID"),appendTransaction:(l,u,p)=>{let h=l.some(l=>l.docChanged)&&!u.doc.eq(p.doc),g=this.options.filterTransaction&&l.some(l=>{let u,p;return!(!(null===(p=(u=this.options).filterTransaction)||void 0===p)&&p.call(u,l))});if(!h||g)return;let{tr:T}=p,{types:E,attributeName:v,generateID:C}=this.options,x=(0,e0.XP)(u.doc,l),{mapping:M}=x;if((0,e0.QC)(x).forEach(({newRange:l})=>{let h=(0,e0.b5)(p.doc,l,l=>E.includes(l.type.name)),g=h.map(({node:l})=>l.attrs[v]).filter(l=>null!==l),x=function(l){let u=l.filter((u,p)=>l.indexOf(u)!==p);return function(l,u=JSON.stringify){let p={};return l.filter(l=>{let h=u(l);return!Object.prototype.hasOwnProperty.call(p,h)&&(p[h]=!0)})}(u)}(g);h.forEach(({node:l,pos:h})=>{let g;let E=null===(g=T.doc.nodeAt(h))||void 0===g?void 0:g.attrs[v];if(null===E){let g=u.doc.type.createAndFill().content;if(null===u.doc.content.findDiffStart(g)){let u=JSON.parse(JSON.stringify(p.doc.toJSON()));if(u.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(u.content)===JSON.stringify(g.toJSON())){T.setNodeMarkup(h,void 0,{...l.attrs,[v]:"initialBlockId"});return}}T.setNodeMarkup(h,void 0,{...l.attrs,[v]:C()});return}let{deleted:O}=M.invert().mapResult(h);O&&x.includes(E)&&T.setNodeMarkup(h,void 0,{...l.attrs,[v]:C()})})}),T.steps.length)return T},view(u){let o=p=>{let h;l=!(null===(h=u.dom.parentElement)||void 0===h)&&h.contains(p.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",o),{destroy(){window.removeEventListener("dragstart",o)}}},props:{handleDOMEvents:{drop:(p,h)=>{let g;return(l!==p.dom.parentElement||(null===(g=h.dataTransfer)||void 0===g?void 0:g.effectAllowed)==="copy")&&(l=null,u=!0),!1},paste:()=>(u=!0,!1)},transformPasted:l=>{if(!u)return l;let{types:p,attributeName:h}=this.options,i=l=>{let u=[];return l.forEach(l=>{if(l.isText){u.push(l);return}if(!p.includes(l.type.name)){u.push(l.copy(i(l.content)));return}let g=l.type.create({...l.attrs,[h]:null},i(l.content),l.marks);u.push(g)}),O.HY.from(u)};return u=!1,new O.p2(i(l.content),l.openStart,l.openEnd)}}})]}});function $t(l){let u=l.attrs.id,p=l.firstChild,h=p.type,g=2===l.childCount?l.lastChild.childCount:0;return{id:u,node:l,contentNode:p,contentType:h,numChildBlocks:g}}function b(l,u){let p=l.nodeSize-2;if(u<=1)for(u=2;"blockContainer"!==l.resolve(u).parent.type.name&&u<p;)u++;else if(u>=p)for(u=p-1;"blockContainer"!==l.resolve(u).parent.type.name&&u>1;)u--;"blockGroup"===l.resolve(u).parent.type.name&&u++;let h=l.resolve(u),g=h.depth,T=h.node(g),E=g;for(;;){if(E<0)throw Error("Could not find blockContainer node. This can only happen if the underlying BlockNote schema has been edited.");if("blockContainer"===T.type.name)break;E-=1,T=h.node(E)}let{id:v,contentNode:C,contentType:x,numChildBlocks:M}=$t(T),O=h.start(E),R=h.end(E);return{id:v,node:T,contentNode:C,contentType:x,numChildBlocks:M,startPos:O,endPos:R,depth:E}}function It(l){return"link"===l.type}function Q(l){return"string"!=typeof l&&"text"===l.type}let A=class A extends Error{constructor(l){super(`Unreachable case: ${l}`)}};function Nt(l,u,p){let h=[];for(let[g,T]of Object.entries(l.styles)){let l=p[g];if(!l)throw Error(`style ${g} not found in styleSchema`);if("boolean"===l.propSchema)h.push(u.mark(g));else if("string"===l.propSchema)h.push(u.mark(g,{stringValue:T}));else throw new A(l.propSchema)}return l.text.split(/(\n)/g).filter(l=>l.length>0).map(l=>l===`
`?u.nodes.hardBreak.create():u.text(l,h))}function gt(l,u,p){let h=[];if("string"==typeof l)return h.push(...Nt({type:"text",text:l,styles:{}},u,p)),h;for(let g of l)h.push(...Nt(g,u,p));return h}function at(l,u,p){let h=[];for(let g of l)"string"==typeof g?h.push(...gt(g,u,p)):"string"!=typeof g&&"link"===g.type?h.push(...function(l,u,p){let h=u.marks.link.create({href:l.href});return gt(l.content,u,p).map(l=>{if("text"===l.type.name)return l.mark([...l.marks,h]);if("hardBreak"===l.type.name)return l;throw Error("unexpected node type")})}(g,u,p)):Q(g)?h.push(...gt([g],u,p)):h.push(Wt(g,u,p));return h}function jt(l,u,p){let h=[];for(let g of l.rows){let l=[];for(let h of g.cells){let g;if(h){if("string"==typeof h)g=u.nodes.tableParagraph.create({},u.text(h));else{let l=at(h,u,p);g=u.nodes.tableParagraph.create({},l)}}else g=u.nodes.tableParagraph.create({});let T=u.nodes.tableCell.create({},g);l.push(T)}let T=u.nodes.tableRow.create({},l);h.push(T)}return h}function Wt(l,u,p){let h,g=l.type;if(void 0===g&&(g="paragraph"),!u.nodes[g])throw Error(`node type ${g} not found in schema`);if(l.content){if("string"==typeof l.content)h=u.nodes[g].create(l.props,u.text(l.content));else if(Array.isArray(l.content)){let T=at(l.content,u,p);h=u.nodes[g].create(l.props,T)}else if("tableContent"===l.content.type){let T=jt(l.content,u,p);h=u.nodes[g].create(l.props,T)}else throw new A(l.content.type)}else h=u.nodes[g].create(l.props);return h}function D(l,u,p){let h=l.id;void 0===h&&(h=ox.options.generateID());let g=Wt(l,u,p),T=[];if(l.children)for(let h of l.children)T.push(D(h,u,p));let E=u.nodes.blockGroup.create({},T);return u.nodes.blockContainer.create({id:h,...l.props},T.length>0?[g,E]:g)}function vt(l,u,p){let h;let g=[];return l.content.forEach(l=>{let T;if("hardBreak"===l.type.name){if(h){if(Q(h))h.text+=`
`;else if(It(h))h.content[h.content.length-1].text+=`
`;else throw Error("unexpected")}else h={type:"text",text:`
`,styles:{}};return}if("link"!==l.type.name&&"text"!==l.type.name&&u[l.type.name]){h&&(g.push(h),h=void 0),g.push(function(l,u,p){let h;if("text"===l.type.name||"link"===l.type.name)throw Error("unexpected");let g={},T=u[l.type.name];for(let[u,p]of Object.entries(l.attrs)){if(!T)throw Error("ic node is of an unrecognized type: "+l.type.name);let h=T.propSchema;u in h&&(g[u]=p)}return h="styled"===T.content?vt(l,u,p):void 0,{type:l.type.name,props:g,content:h}}(l,u,p));return}let E={};for(let u of l.marks)if("link"===u.type.name)T=u;else{let l=p[u.type.name];if(!l)throw Error(`style ${u.type.name} not found in styleSchema`);if("boolean"===l.propSchema)E[l.type]=!0;else if("string"===l.propSchema)E[l.type]=u.attrs.stringValue;else throw new A(l.propSchema)}h?Q(h)?T?(g.push(h),h={type:"link",href:T.attrs.href,content:[{type:"text",text:l.textContent,styles:E}]}):JSON.stringify(h.styles)===JSON.stringify(E)?h.text+=l.textContent:(g.push(h),h={type:"text",text:l.textContent,styles:E}):It(h)&&(T?h.href===T.attrs.href?JSON.stringify(h.content[h.content.length-1].styles)===JSON.stringify(E)?h.content[h.content.length-1].text+=l.textContent:h.content.push({type:"text",text:l.textContent,styles:E}):(g.push(h),h={type:"link",href:T.attrs.href,content:[{type:"text",text:l.textContent,styles:E}]}):(g.push(h),h={type:"text",text:l.textContent,styles:E})):h=T?{type:"link",href:T.attrs.href,content:[{type:"text",text:l.textContent,styles:E}]}:{type:"text",text:l.textContent,styles:E}}),h&&g.push(h),g}function y(l,u,p,h,g){let T;if("blockContainer"!==l.type.name)throw Error("Node must be of type blockContainer, but is of type"+l.type.name+".");let E=null==g?void 0:g.get(l);if(E)return E;let v=$t(l),C=v.id;null===C&&(C=ox.options.generateID());let x={};for(let[p,h]of Object.entries({...l.attrs,...v.contentNode.attrs})){let l=u[v.contentType.name];if(!l)throw Error("Block is of an unrecognized type: "+v.contentType.name);let g=l.propSchema;p in g&&(x[p]=h)}let M=u[v.contentType.name],O=[];for(let T=0;T<v.numChildBlocks;T++)O.push(y(l.lastChild.child(T),u,p,h,g));if("inline"===M.content)T=vt(v.contentNode,p,h);else if("table"===M.content)T=function(l,u,p){let h={type:"tableContent",rows:[]};return l.content.forEach(l=>{let g={cells:[]};l.content.forEach(l=>{g.cells.push(vt(l.firstChild,u,p))}),h.rows.push(g)}),h}(v.contentNode,p,h);else if("none"===M.content)T=void 0;else throw new A(M.content);let R={id:C,type:M.type,props:x,content:T,children:O};return null==g||g.set(l,R),R}let Kt=(l,u,p,h,g)=>{if(!p.nodes[l.type.name])throw Error("Serializer is missing a node type: "+l.type.name);let{dom:T,contentDOM:E}=O.PW.renderSpec(u.document||window.document,p.nodes[l.type.name](l));if(E){if(l.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");if("blockContainer"===l.type.name){let T=l.childCount>0&&"blockContent"===l.firstChild.type.spec.group?l.firstChild:void 0,v=l.childCount>0&&"blockGroup"===l.lastChild.type.spec.group?l.lastChild:void 0;if(void 0!==T){let v=h.blockImplementations[T.type.name].implementation,C=(g?v.toExternalHTML:v.toInternalHTML)(y(l,h.schema.blockSchema,h.schema.inlineContentSchema,h.schema.styleSchema,h.blockCache),h);if(void 0!==C.contentDOM){if(l.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");C.contentDOM.appendChild(p.serializeFragment(T.content,u))}E.appendChild(C.dom)}void 0!==v&&p.serializeFragment(O.HY.from(v),u,E)}else p.serializeFragment(l.content,u,E)}return T},Jt=(l,u)=>{let p=u.serializeFragment(l),h=document.createElement("div");return h.appendChild(p),h.innerHTML};function an(l){let u=new Set([...l.orderedListItemBlockTypes,...l.unorderedListItemBlockTypes]),e=p=>{var h;if(1===p.children.length&&(null==(h=p.children[0].properties)?void 0:h.dataNodeType)==="blockGroup"){let l=p.children[0];p.children.pop(),p.children.push(...l.children)}let g=p.children.length,T;for(let h=0;h<g;h++){let E=p.children[h].children[0],v=E.children[0],C=2===E.children.length?E.children[1]:null,x=u.has(v.properties.dataContentType),M=x?l.orderedListItemBlockTypes.has(v.properties.dataContentType)?"ol":"ul":null;if(null!==C&&e(C),T&&T.tagName!==M){p.children.splice(h-T.children.length,T.children.length,T);let l=T.children.length-1;h-=l,g-=l,T=void 0}if(x){T||(T=fromDom(document.createElement(M)));let l=fromDom(document.createElement("li"));l.children.push(v.children[0]),null!==C&&l.children.push(...C.children),T.children.push(l)}else if(null!==C){p.children.splice(h+1,0,...C.children),p.children[h]=v.children[0];let l=C.children.length;h+=l,g+=l}else p.children[h]=v.children[0]}T&&p.children.splice(g-T.children.length,T.children.length,T)};return e}let lt=(l,u)=>{let p=O.PW.fromSchema(l);return p.serializeNodeInner=(l,h)=>Kt(l,h,p,u,!0),p.exportProseMirrorFragment=l=>eZ().use(rehypeParse,{fragment:!0}).use(an,{orderedListItemBlockTypes:new Set(["numberedListItem"]),unorderedListItemBlockTypes:new Set(["bulletListItem"])}).use(rehypeStringify).processSync(Jt(l,p)).value,p.exportBlocks=h=>{let g=h.map(p=>D(p,l,u.schema.styleSchema)),T=l.nodes.blockGroup.create(null,g);return p.exportProseMirrorFragment(O.HY.from(T))},p},Xt=(l,u)=>{let p=O.PW.fromSchema(l);return p.serializeNodeInner=(l,h)=>Kt(l,h,p,u,!1),p.serializeProseMirrorFragment=l=>Jt(l,p),p.serializeBlocks=h=>{let g=h.map(p=>D(p,l,u.schema.styleSchema)),T=l.nodes.blockGroup.create(null,g);return p.serializeProseMirrorFragment(O.HY.from(T))},p},ln=()=>"u">typeof navigator&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function F(l){return ln()?l.replace("Mod","⌘"):l.replace("Mod","Ctrl")}function z(...l){return l.filter(l=>l).join(" ")}let Dr=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function blocknote_tt(l,u,p,h){let g=document.createElement("div");for(let[u,h]of(g.className=z("bn-block-content",p.class),g.setAttribute("data-content-type",l),Object.entries(p)))"class"!==u&&g.setAttribute(u,h);let T=document.createElement(u);for(let[l,u]of(T.className=z("bn-inline-content",h.class),Object.entries(h)))"class"!==l&&T.setAttribute(l,u);return g.appendChild(T),{dom:g,contentDOM:T}}let At=(l,u)=>{let p=D(l,u._tiptapEditor.schema,u.schema.styleSchema).firstChild,h=u._tiptapEditor.schema.nodes[p.type.name].spec.toDOM;if(void 0===h)throw Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");let g=h(p);if("object"!=typeof g||!("dom"in g))throw Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return g},oA={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},o_=["backgroundColor","textColor"];function st(l){return"data-"+l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qt(l){let u={};return Object.entries(l).filter(([l,u])=>!o_.includes(l)).forEach(([l,p])=>{u[l]={default:p.default,keepOnSplit:!0,parseHTML:u=>{let h=u.getAttribute(st(l));if(null===h)return null;if("boolean"==typeof p.default)return"true"===h||"false"!==h&&null;if("number"==typeof p.default){let l=parseFloat(h);return!Number.isNaN(l)&&Number.isFinite(l)?l:null}return h},renderHTML:u=>u[l]!==p.default?{[st(l)]:u[l]}:{}}}),u}function cn(l,u,p,h){if("boolean"==typeof l)throw Error("Cannot find node position as getPos is a boolean, not a function.");let g=l(),T=p.state.doc.resolve(g).node().attrs.id,E=u.getBlock(T);if(E.type!==h)throw Error("Block type does not match");return E}function pt(l,u,p,h,g){let T=document.createElement("div");if(void 0!==g)for(let[l,u]of Object.entries(g))"class"!==l&&T.setAttribute(l,u);for(let[l,E]of(T.className=z("bn-block-content",(null==g?void 0:g.class)||""),T.setAttribute("data-content-type",u),Object.entries(p)))o_.includes(l)||E===h[l].default||T.setAttribute(st(l),E);return T.appendChild(l.dom),void 0!==l.contentDOM&&(l.contentDOM.className=z("bn-inline-content",l.contentDOM.className),l.contentDOM.setAttribute("data-editable","")),{...l,dom:T}}function blocknote_q(l){return e0.NB.create(l)}function Zt(l,u){return{config:l,implementation:u}}function et(l,u,p){return Zt({type:l.name,content:"inline*"===l.config.content?"inline":"tableRow+"===l.config.content?"table":"none",propSchema:u},{node:l,requiredExtensions:p,toInternalHTML:At,toExternalHTML:At})}function te(l){return Object.fromEntries(Object.entries(l).map(([l,u])=>[l,u.config]))}function dn(l,u){let p=[{tag:"[data-content-type="+l.type+"]",contentElement:"[data-editable]"}];return u&&p.push({tag:"*",getAttrs(l){if("string"==typeof l)return!1;let p=null==u?void 0:u(l);return void 0!==p&&p}}),p}function ee(l){return Object.fromEntries(Object.entries(l).map(([l,u])=>[l,u.config]))}function _(l,u){return{config:{type:l.name,propSchema:u},implementation:{mark:l}}}function oe(l){return Object.fromEntries(Object.entries(l).map(([l,u])=>[l,u.config]))}let oN=e0.vc.create({name:"backgroundColor",addAttributes:()=>({stringValue:{default:void 0,parseHTML:l=>l.getAttribute("data-background-color"),renderHTML:l=>({"data-background-color":l.stringValue})}}),parseHTML:()=>[{tag:"span",getAttrs:l=>"string"!=typeof l&&!!l.hasAttribute("data-background-color")&&{stringValue:l.getAttribute("data-background-color")}}],renderHTML:({HTMLAttributes:l})=>["span",l,0]}),oM=_(oN,"string"),oO=e0.vc.create({name:"textColor",addAttributes:()=>({stringValue:{default:void 0,parseHTML:l=>l.getAttribute("data-text-color"),renderHTML:l=>({"data-text-color":l.stringValue})}}),parseHTML:()=>[{tag:"span",getAttrs:l=>"string"!=typeof l&&!!l.hasAttribute("data-text-color")&&{stringValue:l.getAttribute("data-text-color")}}],renderHTML:({HTMLAttributes:l})=>["span",l,0]}),oI=_(oO,"string"),N=l=>{let{contentType:u}=b(l.state.doc,l.state.selection.from);return u.spec.content},oR={...oA,level:{default:1,values:[1,2,3]}},oL=blocknote_q({name:"heading",content:"inline*",group:"blockContent",addAttributes:()=>({level:{default:1,parseHTML:l=>{let u=l.getAttribute("data-level"),p=parseInt(u);if(isFinite(p))return p},renderHTML:l=>({"data-level":l.level.toString()})}}),addInputRules(){return[...[1,2,3].map(l=>new e0.VK({find:RegExp(`^(#{${l}})\\s$`),handler:({state:u,chain:p,range:h})=>{"inline*"===N(this.editor)&&p().BNUpdateBlock(u.selection.from,{type:"heading",props:{level:l}}).deleteRange({from:h.from,to:h.to})}}))]},addKeyboardShortcuts(){return{"Mod-Alt-1":()=>"inline*"!==N(this.editor)||this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:1}}),"Mod-Alt-2":()=>"inline*"!==N(this.editor)||this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:2}}),"Mod-Alt-3":()=>"inline*"!==N(this.editor)||this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:3}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",getAttrs:l=>"string"!=typeof l&&{level:l.getAttribute("data-level")}},{tag:"h1",attrs:{level:1},node:"heading"},{tag:"h2",attrs:{level:2},node:"heading"},{tag:"h3",attrs:{level:3},node:"heading"}]},renderHTML({node:l,HTMLAttributes:u}){var p,h;return blocknote_tt(this.name,`h${l.attrs.level}`,{...(null==(p=this.options.domAttributes)?void 0:p.blockContent)||{},...u},(null==(h=this.options.domAttributes)?void 0:h.inlineContent)||{})}}),oP=et(oL,oR),oD={textAlignment:oA.textAlignment,backgroundColor:oA.backgroundColor,url:{default:""},caption:{default:""},width:{default:512}},Pt=l=>{switch(l){case"left":default:return"flex-start";case"center":return"center";case"right":return"flex-end"}},oB=function(l,u){let p=blocknote_q({name:l.type,content:"inline"===l.content?"inline*":"",group:"blockContent",selectable:!0,addAttributes:()=>Qt(l.propSchema),parseHTML:()=>dn(l,u.parse),renderHTML(){let l=document.createElement("div");return l.setAttribute("data-tmp-placeholder","true"),{dom:l}},addNodeView(){return({getPos:p})=>{var h;let g=this.options.editor,T=cn(p,g,this.editor,l.type),E=(null==(h=this.options.domAttributes)?void 0:h.blockContent)||{},v=u.render(T,g);return pt(v,T.type,T.props,l.propSchema,E)}}});if(p.name!==l.type)throw Error("Node name does not match block type. This is a bug in BlockNote.");return Zt(l,{node:p,toInternalHTML:(h,g)=>{var T;let E=(null==(T=p.options.domAttributes)?void 0:T.blockContent)||{},v=u.render(h,g);return pt(v,h.type,h.props,l.propSchema,E)},toExternalHTML:(h,g)=>{var T,E;let v=(null==(T=p.options.domAttributes)?void 0:T.blockContent)||{},C=null==(E=u.toExternalHTML)?void 0:E.call(u,h,g);return void 0===C&&(C=u.render(h,g)),pt(C,h.type,h.props,l.propSchema,v)}})}({type:"image",propSchema:oD,content:"none"},{render:(l,u)=>{let p;let h=document.createElement("div");h.className="bn-image-block-content-wrapper",h.style.alignItems=Pt(l.props.textAlignment);let g=document.createElement("div");g.className="bn-add-image-button";let T=document.createElement("div");T.className="bn-add-image-button-icon";let E=document.createElement("p");E.className="bn-add-image-button-text",E.innerText="Add Image";let v=document.createElement("div");v.className="bn-image-and-caption-wrapper";let C=document.createElement("div");C.className="bn-image-wrapper";let x=document.createElement("img");x.className="bn-image",x.src=l.props.url,x.alt="placeholder",x.contentEditable="false",x.draggable=!1,x.style.width=`${Math.min(l.props.width,u.domElement.firstElementChild.clientWidth)}px`;let M=document.createElement("div");M.className="bn-image-resize-handle",M.style.left="4px";let O=document.createElement("div");O.className="bn-image-resize-handle",O.style.right="4px";let R=document.createElement("p");R.className="bn-image-caption",R.innerText=l.props.caption,R.style.padding=l.props.caption?"4px":"";let m=()=>{var p;let h=(null==(p=u.getSelection())?void 0:p.blocks)||[];void 0!==[u.getTextCursorPosition().block,...h].find(u=>u.id===l.id)?(g.style.outline="4px solid rgb(100, 160, 255)",v.style.outline="4px solid rgb(100, 160, 255)"):(g.style.outline="",v.style.outline="")};u.onEditorContentChange(m),u.onEditorSelectionChange(m);let f=h=>{let g;if(!p){!u.isEditable&&C.contains(M)&&C.contains(O)&&(C.removeChild(M),C.removeChild(O));return}(g="center"===Pt(l.props.textAlignment)?"left"===p.handleUsed?p.initialWidth+(p.initialClientX-h.clientX)*2:p.initialWidth+(h.clientX-p.initialClientX)*2:"left"===p.handleUsed?p.initialWidth+p.initialClientX-h.clientX:p.initialWidth+h.clientX-p.initialClientX)<64?x.style.width="64px":g>u.domElement.firstElementChild.clientWidth?x.style.width=`${u.domElement.firstElementChild.clientWidth}px`:x.style.width=`${g}px`},k=h=>{(!h.target||!C.contains(h.target)||!u.isEditable)&&C.contains(M)&&C.contains(O)&&(C.removeChild(M),C.removeChild(O)),p&&(p=void 0,u.updateBlock(l,{type:"image",props:{width:parseFloat(x.style.width.slice(0,-2))}}))},S=l=>{l.preventDefault()},B=()=>{u._tiptapEditor.view.dispatch(u._tiptapEditor.state.tr.setMeta(u.imagePanel.plugin,{block:l}))},V=u=>{u.preventDefault(),C.appendChild(M),C.appendChild(O),p={handleUsed:"left",initialWidth:l.props.width,initialClientX:u.clientX}},J=u=>{u.preventDefault(),C.appendChild(M),C.appendChild(O),p={handleUsed:"right",initialWidth:l.props.width,initialClientX:u.clientX}};return g.appendChild(T),g.appendChild(E),v.appendChild(C),C.appendChild(x),v.appendChild(R),""===l.props.url?h.appendChild(g):h.appendChild(v),window.addEventListener("mousemove",f),window.addEventListener("mouseup",k),g.addEventListener("mousedown",S),g.addEventListener("click",B),x.addEventListener("mouseenter",()=>{u.isEditable&&(C.appendChild(M),C.appendChild(O))}),x.addEventListener("mouseleave",l=>{l.relatedTarget===M||l.relatedTarget===O||p||u.isEditable&&C.contains(M)&&C.contains(O)&&(C.removeChild(M),C.removeChild(O))}),M.addEventListener("mousedown",V),O.addEventListener("mousedown",J),{dom:h,destroy:()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",k),g.removeEventListener("mousedown",S),g.removeEventListener("click",B),M.removeEventListener("mousedown",V),O.removeEventListener("mousedown",J)}}},toExternalHTML:l=>{if(""===l.props.url){let l=document.createElement("p");return l.innerHTML="Add Image",{dom:l}}let u=document.createElement("figure"),p=document.createElement("img");if(p.src=l.props.url,u.appendChild(p),""!==l.props.caption){let p=document.createElement("figcaption");p.innerHTML=l.props.caption,u.appendChild(p)}return{dom:u}},parse:l=>{if("FIGURE"===l.tagName){let u=l.querySelector("img"),p=l.querySelector("figcaption");return{url:(null==u?void 0:u.getAttribute("src"))||"",caption:(null==p?void 0:p.textContent)||(null==u?void 0:u.getAttribute("alt"))||void 0}}if("IMG"===l.tagName)return{url:l.getAttribute("src")||"",caption:l.getAttribute("alt")||void 0}}}),Et=l=>{let{node:u,contentType:p}=b(l.state.doc,l.state.selection.from),h=l.state.selection.anchor===l.state.selection.head;return("bulletListItem"===p.name||"numberedListItem"===p.name)&&!!h&&l.commands.first(({state:l,chain:p,commands:h})=>[()=>h.command(()=>0===u.textContent.length&&h.BNUpdateBlock(l.selection.from,{type:"paragraph",props:{}})),()=>h.command(()=>u.textContent.length>0&&(p().deleteSelection().BNSplitBlock(l.selection.from,!0).run(),!0))])},oH={...oA},oF=blocknote_q({name:"bulletListItem",content:"inline*",group:"blockContent",addInputRules(){return[new e0.VK({find:RegExp("^[-+*]\\s$"),handler:({state:l,chain:u,range:p})=>{"inline*"===N(this.editor)&&u().BNUpdateBlock(l.selection.from,{type:"bulletListItem",props:{}}).deleteRange({from:p.from,to:p.to})}})]},addKeyboardShortcuts(){return{Enter:()=>Et(this.editor),"Mod-Shift-8":()=>"inline*"!==N(this.editor)||this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"bulletListItem",props:{}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:l=>{if("string"==typeof l)return!1;let u=l.parentElement;return null!==u&&("UL"===u.tagName||"DIV"===u.tagName&&"UL"===u.parentElement.tagName)&&{}},node:"bulletListItem"},{tag:"p",getAttrs:l=>{if("string"==typeof l)return!1;let u=l.parentElement;return null!==u&&"bulletListItem"===u.getAttribute("data-content-type")&&{}},priority:300,node:"bulletListItem"}]},renderHTML({HTMLAttributes:l}){var u,p;return blocknote_tt(this.name,"p",{...(null==(u=this.options.domAttributes)?void 0:u.blockContent)||{},...l},(null==(p=this.options.domAttributes)?void 0:p.inlineContent)||{})}}),oU=et(oF,oH),oj=new e9.H$("numbered-list-indexing"),Hn=()=>new e9.Sy({key:oj,appendTransaction:(l,u,p)=>{let h=p.tr;h.setMeta("numberedListIndexing",!0);let g=!1;return p.doc.descendants((l,u)=>{if("blockContainer"===l.type.name&&"numberedListItem"===l.firstChild.type.name){let l="1",p=1===u,T=b(h.doc,u+1);if(void 0!==T){if(!p){let p=b(h.doc,u-2);if(void 0===p)return;if(!(T.depth!==p.depth)){let u=p.contentNode;if("numberedListItem"===p.contentType.name){let p=u.attrs.index;l=(parseInt(p)+1).toString()}}}T.contentNode.attrs.index!==l&&(g=!0,h.setNodeMarkup(u+1,void 0,{index:l}))}}}),g?h:null}}),oz={...oA},oV=blocknote_q({name:"numberedListItem",content:"inline*",group:"blockContent",addAttributes:()=>({index:{default:null,parseHTML:l=>l.getAttribute("data-index"),renderHTML:l=>({"data-index":l.index})}}),addInputRules(){return[new e0.VK({find:RegExp("^1\\.\\s$"),handler:({state:l,chain:u,range:p})=>{"inline*"===N(this.editor)&&u().BNUpdateBlock(l.selection.from,{type:"numberedListItem",props:{}}).deleteRange({from:p.from,to:p.to})}})]},addKeyboardShortcuts(){return{Enter:()=>Et(this.editor),"Mod-Shift-7":()=>"inline*"!==N(this.editor)||this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"numberedListItem",props:{}})}},addProseMirrorPlugins:()=>[Hn()],parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:l=>{if("string"==typeof l)return!1;let u=l.parentElement;return null!==u&&("OL"===u.tagName||"DIV"===u.tagName&&"OL"===u.parentElement.tagName)&&{}},node:"numberedListItem"},{tag:"p",getAttrs:l=>{if("string"==typeof l)return!1;let u=l.parentElement;return null!==u&&"numberedListItem"===u.getAttribute("data-content-type")&&{}},priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:l}){var u,p;return blocknote_tt(this.name,"p",{...(null==(u=this.options.domAttributes)?void 0:u.blockContent)||{},...l},(null==(p=this.options.domAttributes)?void 0:p.inlineContent)||{})}}),o$=et(oV,oz),oG={...oA},oK=blocknote_q({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{Enter:()=>Et(this.editor),"Mod-Alt-0":()=>"inline*"!==N(this.editor)||this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"paragraph",props:{}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"p",priority:200,node:"paragraph"}]},renderHTML({HTMLAttributes:l}){var u,p;return blocknote_tt(this.name,"p",{...(null==(u=this.options.domAttributes)?void 0:u.blockContent)||{},...l},(null==(p=this.options.domAttributes)?void 0:p.inlineContent)||{})}}),oW=et(oK,oG),oq=e0.hj.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[function({handleWidth:l=5,cellMinWidth:u=25,View:p=tN,lastColumnResizable:h=!0}={}){let g=new e9.Sy({key:tM,state:{init:(l,h)=>(g.spec.props.nodeViews[tableNodeTypes(h.schema).table.name]=(l,h)=>new p(l,u,h),new tO(-1,!1)),apply:(l,u)=>u.apply(l)},props:{attributes:l=>{let u=tM.getState(l);return u&&u.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(u,p)=>{!function(l,u,p,h,g){let T=tM.getState(l.state);if(T&&!T.dragging){let h=function(l){for(;l&&"TD"!=l.nodeName&&"TH"!=l.nodeName;)l=l.classList&&l.classList.contains("ProseMirror")?null:l.parentNode;return l}(u.target),E=-1;if(h){let{left:g,right:T}=h.getBoundingClientRect();u.clientX-g<=p?E=edgeCell(l,u,"left",p):T-u.clientX<=p&&(E=edgeCell(l,u,"right",p))}if(E!=T.activeHandle){if(!g&&-1!==E){let u=l.state.doc.resolve(E),p=u.node(-1),h=tS.get(p),g=u.start(-1),T=h.colCount(u.pos-g)+u.nodeAfter.attrs.colspan-1;if(T==h.width-1)return}updateHandle(l,E)}}}(u,p,l,0,h)},mouseleave:l=>{!function(l){let u=tM.getState(l.state);u&&u.activeHandle>-1&&!u.dragging&&updateHandle(l,-1)}(l)},mousedown:(l,p)=>{!function(l,u,p){var h;let g=null!=(h=l.dom.ownerDocument.defaultView)?h:window,T=tM.getState(l.state);if(!T||-1==T.activeHandle||T.dragging)return;let E=l.state.doc.nodeAt(T.activeHandle),v=function(l,u,{colspan:p,colwidth:h}){let g=h&&h[h.length-1];if(g)return g;let T=l.domAtPos(u),E=T.node.childNodes[T.offset],v=E.offsetWidth,C=p;if(h)for(let l=0;l<p;l++)h[l]&&(v-=h[l],C--);return v/C}(l,T.activeHandle,E.attrs);function finish(u){g.removeEventListener("mouseup",finish),g.removeEventListener("mousemove",move);let h=tM.getState(l.state);(null==h?void 0:h.dragging)&&(function(l,u,p){let h=l.state.doc.resolve(u),g=h.node(-1),T=tS.get(g),E=h.start(-1),v=T.colCount(h.pos-E)+h.nodeAfter.attrs.colspan-1,C=l.state.tr;for(let l=0;l<T.height;l++){let u=l*T.width+v;if(l&&T.map[u]==T.map[u-T.width])continue;let h=T.map[u],x=g.nodeAt(h).attrs,M=1==x.colspan?0:v-T.colCount(h);if(x.colwidth&&x.colwidth[M]==p)continue;let O=x.colwidth?x.colwidth.slice():Array(x.colspan).fill(0);O[M]=p,C.setNodeMarkup(E+h,null,{...x,colwidth:O})}C.docChanged&&l.dispatch(C)}(l,h.activeHandle,draggedWidth(h.dragging,u,p)),l.dispatch(l.state.tr.setMeta(tM,{setDragging:null})))}function move(u){if(!u.which)return finish(u);let h=tM.getState(l.state);if(h&&h.dragging){let g=draggedWidth(h.dragging,u,p);!function(l,u,p,h){let g=l.state.doc.resolve(u),T=g.node(-1),E=g.start(-1),v=tS.get(T).colCount(g.pos-E)+g.nodeAfter.attrs.colspan-1,C=l.domAtPos(g.start(-1)).node;for(;C&&"TABLE"!=C.nodeName;)C=C.parentNode;C&&updateColumnsOnResize(T,C.firstChild,C,h,v,p)}(l,h.activeHandle,g,p)}}l.dispatch(l.state.tr.setMeta(tM,{setDragging:{startX:u.clientX,startWidth:v}})),g.addEventListener("mouseup",finish),g.addEventListener("mousemove",move),u.preventDefault()}(l,p,u)}},decorations:l=>{let u=tM.getState(l);if(u&&u.activeHandle>-1)return function(l,u){let p=[],h=l.doc.resolve(u),g=h.node(-1);if(!g)return tE.EH.empty;let T=tS.get(g),E=h.start(-1),v=T.colCount(h.pos-E)+h.nodeAfter.attrs.colspan;for(let l=0;l<T.height;l++){let u=v+l*T.width-1;if((v==T.width||T.map[u]!=T.map[u+1])&&(0==l||T.map[u]!=T.map[u-T.width])){let l=T.map[u],h=E+l+g.nodeAt(l).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",p.push(tE.p.widget(h,v))}}return tE.EH.create(l.doc,p)}(l,u.activeHandle)},nodeViews:{}}});return g}({cellMinWidth:100}),function({allowTableNodeSelection:l=!1}={}){return new e9.Sy({key:tC,state:{init:()=>null,apply(l,u){let p=l.getMeta(tC);if(null!=p)return -1==p?null:p;if(null==u||!l.docChanged)return u;let{deleted:h,pos:g}=l.mapping.mapResult(u);return h?null:g}},props:{decorations:drawCellSelection,handleDOMEvents:{mousedown:handleMouseDown},createSelectionBetween:l=>null!=tC.getState(l.state)?l.state.selection:null,handleTripleClick,handleKeyDown:t_,handlePaste},appendTransaction:(u,p,h)=>(function(l,u,p){let h,g;let T=(u||l).selection,E=(u||l).doc;if(T instanceof e9.qv&&(g=T.node.type.spec.tableRole)){if("cell"==g||"header_cell"==g)h=tw.create(E,T.from);else if("row"==g){let l=E.resolve(T.from+1);h=tw.rowSelection(l,l)}else if(!p){let l=tS.get(T.node),u=T.from+1,p=u+l.map[l.width*l.height-1];h=tw.create(E,u+1,p)}}else T instanceof e9.Bs&&function({$from:l,$to:u}){if(l.pos==u.pos||l.pos<l.pos-6)return!1;let p=l.pos,h=u.pos,g=l.depth;for(;g>=0&&!(l.after(g+1)<l.end(g));g--,p++);for(let l=u.depth;l>=0&&!(u.before(l+1)>u.start(l));l--,h--);return p==h&&/row|table/.test(l.node(g).type.spec.tableRole)}(T)?h=e9.Bs.create(E,T.from):T instanceof e9.Bs&&function({$from:l,$to:u}){let p,h;for(let u=l.depth;u>0;u--){let h=l.node(u);if("cell"===h.type.spec.tableRole||"header_cell"===h.type.spec.tableRole){p=h;break}}for(let l=u.depth;l>0;l--){let p=u.node(l);if("cell"===p.type.spec.tableRole||"header_cell"===p.type.spec.tableRole){h=p;break}}return p!==h&&0===u.parentOffset}(T)&&(h=e9.Bs.create(E,T.$from.start(),T.$from.end()));return h&&(u||(u=l.tr)).setSelection(h),u})(h,function(l,u){let p;let check=(u,h)=>{"table"==u.type.spec.tableRole&&(p=function(l,u,p,h){let g,T;let E=tS.get(u);if(!E.problems)return h;h||(h=l.tr);let v=[];for(let l=0;l<E.height;l++)v.push(0);for(let l=0;l<E.problems.length;l++){let g=E.problems[l];if("collision"==g.type){let l=u.nodeAt(g.pos);if(!l)continue;let T=l.attrs;for(let l=0;l<T.rowspan;l++)v[g.row+l]+=g.n;h.setNodeMarkup(h.mapping.map(p+1+g.pos),null,removeColSpan(T,T.colspan-g.n,g.n))}else if("missing"==g.type)v[g.row]+=g.n;else if("overlong_rowspan"==g.type){let l=u.nodeAt(g.pos);if(!l)continue;h.setNodeMarkup(h.mapping.map(p+1+g.pos),null,{...l.attrs,rowspan:l.attrs.rowspan-g.n})}else if("colwidth mismatch"==g.type){let l=u.nodeAt(g.pos);if(!l)continue;h.setNodeMarkup(h.mapping.map(p+1+g.pos),null,{...l.attrs,colwidth:g.colwidth})}}for(let l=0;l<v.length;l++)v[l]&&(null==g&&(g=l),T=l);for(let C=0,x=p+1;C<E.height;C++){let p=u.child(C),E=x+p.nodeSize,M=v[C];if(M>0){let u="cell";p.firstChild&&(u=p.firstChild.type.spec.tableRole);let v=[];for(let p=0;p<M;p++){let p=tableNodeTypes(l.schema)[u].createAndFill();p&&v.push(p)}let O=(0==C||g==C-1)&&T==C?x+1:E-1;h.insert(h.mapping.map(O),v)}x=E}return h.setMeta(tA,{fixTables:!0})}(l,u,h,p))};return u?u.doc!=l.doc&&function changedDescendants(l,u,p,h){let g=l.childCount,T=u.childCount;t:for(let E=0,v=0;E<T;E++){let T=u.child(E);for(let u=v,h=Math.min(g,E+3);u<h;u++)if(l.child(u)==T){v=u+1,p+=T.nodeSize;continue t}h(T,p),v<g&&l.child(v).sameMarkup(T)?changedDescendants(l.child(v),T,p+1,h):T.nodesBetween(0,T.content.size,h,p+1),p+=T.nodeSize}}(u.doc,l.doc,0,check):l.doc.descendants(check),p}(h,p),l)})}()],addKeyboardShortcuts(){return{Enter:()=>!!this.editor.state.selection.empty&&"tableParagraph"===this.editor.state.selection.$head.parent.type.name&&(this.editor.commands.setHardBreak(),!0),Backspace:()=>{let l=this.editor.state.selection,u=l.empty,p=0===l.$head.parentOffset,h="tableParagraph"===l.$head.node().type.name;return u&&p&&h}}},extendNodeSchema(l){let u={name:l.name,options:l.options,storage:l.storage};return{tableRole:(0,e0.nU)((0,e0.Nl)(l,"tableRole",u))}}}),oY={...oA},oQ=blocknote_q({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",isolating:!0,parseHTML:()=>[{tag:"table"}],renderHTML({HTMLAttributes:l}){var u,p;return blocknote_tt(this.name,"table",{...(null==(u=this.options.domAttributes)?void 0:u.blockContent)||{},...l},(null==(p=this.options.domAttributes)?void 0:p.inlineContent)||{})}}),oJ=e0.NB.create({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:l}){return["p",(0,e0.P1)(this.options.HTMLAttributes,l),0]}}),oX=et(oQ,oY,[oq,oJ,tb.extend({content:"tableContent"}),ty.extend({content:"tableContent"}),tT]),oZ={paragraph:oW,heading:oP,bulletListItem:oU,numberedListItem:o$,image:oB,table:oX},o1=te(oZ),o0={bold:_(tr,"boolean"),italic:_(tp,"boolean"),underline:_(tg,"boolean"),strike:_(tm,"boolean"),code:_(ti.ZP,"boolean"),textColor:oI,backgroundColor:oM},o9=(oe(o0),{text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}});function I(l,u){return l in u.schema.blockSchema&&u.schema.blockSchema[l]===o1[l]}function zr(l,u,p){return u.type===l&&u.type in p.schema.blockSchema&&I(u.type,p)}function qn(l,u,p){return u in p.schema.blockSchema&&l in p.schema.blockSchema[u].propSchema&&p.schema.blockSchema[u].propSchema[l]===oA[l]}function Vr(l,u,p){return qn(l,u.type,p)}function St(l,u){let p,h;if(u.firstChild.descendants((u,g)=>!p&&("blockContainer"!==u.type.name||u.attrs.id!==l||(p=u,h=g+1,!1))),void 0===p||void 0===h)throw Error("Could not find block in the editor with matching ID.");return{node:p,posBeforeNode:h}}function ae(l,u,p){let h=u._tiptapEditor,g=h.state.tr,T=new Set(l.map(l=>"string"==typeof l?l:l.id)),E=[],v=0;if(h.state.doc.descendants((l,h)=>{if(0===T.size)return!1;if("blockContainer"!==l.type.name||!T.has(l.attrs.id))return!0;E.push(y(l,u.schema.blockSchema,u.schema.inlineContentSchema,u.schema.styleSchema,u.blockCache)),T.delete(l.attrs.id),v=(null==p?void 0:p(l,h,g,v))||v;let C=g.doc.nodeSize;g.delete(h-v-1,h-v+l.nodeSize+1);let x=g.doc.nodeSize;return v+=C-x,!1}),T.size>0){let l=[...T].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+l)}return h.view.dispatch(g),E}function Zn(){let n=l=>{let u=l.children.length;for(let p=0;p<u;p++){let h=l.children[p];if("element"===h.type&&(n(h),"u"===h.tagName)){if(h.children.length>0){l.children.splice(p,1,...h.children);let g=h.children.length-1;u+=g,p+=g}else l.children.splice(p,1),u--,p--}}};return n}function Ct(l){return eZ().use(rehypeParse,{fragment:!0}).use(Zn).use(lib).use(remarkGfm).use(remarkStringify).processSync(l).value}ee(o9);let o5=null;function le(l){if("string"==typeof l){let u=(o5||(o5=document.implementation.createHTMLDocument("title"))).createElement("div");u.innerHTML=l,l=u}return function(l){l.querySelectorAll("li > ul, li > ol").forEach(l=>{let u=Array.prototype.indexOf.call(l.parentElement.childNodes,l),p=l.parentElement,h=Array.from(p.childNodes).slice(u+1);l.remove(),h.forEach(l=>{l.remove()}),p.insertAdjacentElement("afterend",l),h.reverse().forEach(u=>{if(3===u.nodeType&&!/\S/.test(u.nodeValue||""))return;let p=document.createElement("li");p.append(u),l.insertAdjacentElement("afterend",p)}),0===p.childNodes.length&&p.remove()})}(l),function(l){l.querySelectorAll("li + ul, li + ol").forEach(l=>{var u,p;let h=l.previousElementSibling,g=document.createElement("div");h.insertAdjacentElement("afterend",g),g.append(h);let T=document.createElement("div");for(T.setAttribute("data-node-type","blockGroup"),g.append(T);(null==(u=g.nextElementSibling)?void 0:u.nodeName)==="UL"||(null==(p=g.nextElementSibling)?void 0:p.nodeName)==="OL";)T.append(g.nextElementSibling)})}(l),l}async function ce(l,u,p,h,g){let T=le(l),E=O.aw.fromSchema(g).parse(T,{topNode:g.nodes.blockGroup.create()}),v=[];for(let l=0;l<E.childCount;l++)v.push(y(E.child(l),u,p,h));return v}function so(l,u){let p=u.value?u.value+`
`:"",h={};u.lang&&(h["data-language"]=u.lang);let g={type:"element",tagName:"code",properties:h,children:[{type:"text",value:p}]};return u.meta&&(g.data={meta:u.meta}),l.patch(u,g),g={type:"element",tagName:"pre",properties:{},children:[g=l.applyData(u,g)]},l.patch(u,g),g}let K=class K{constructor(){d(this,"callbacks",{})}on(l,u){return this.callbacks[l]||(this.callbacks[l]=[]),this.callbacks[l].push(u),()=>this.off(l,u)}emit(l,...u){let p=this.callbacks[l];p&&p.forEach(l=>l.apply(this,u))}off(l,u){let p=this.callbacks[l];p&&(u?this.callbacks[l]=p.filter(l=>l!==u):delete this.callbacks[l])}removeAllListeners(){this.callbacks={}}};let lo=class lo{constructor(l,u,p){d(this,"state"),d(this,"emitUpdate"),d(this,"preventHide",!1),d(this,"preventShow",!1),d(this,"prevWasEditable",null),d(this,"shouldShow",({state:l})=>!l.selection.empty),d(this,"viewMousedownHandler",()=>{this.preventShow=!0}),d(this,"viewMouseupHandler",()=>{this.preventShow=!1,setTimeout(()=>this.update(this.pmView))}),d(this,"dragHandler",()=>{var l;null!=(l=this.state)&&l.show&&(this.state.show=!1,this.emitUpdate())}),d(this,"focusHandler",()=>{setTimeout(()=>this.update(this.pmView))}),d(this,"blurHandler",l=>{var u;if(this.preventHide){this.preventHide=!1;return}let p=this.pmView.dom.parentElement;l&&l.relatedTarget&&(p===l.relatedTarget||p.contains(l.relatedTarget))||null!=(u=this.state)&&u.show&&(this.state.show=!1,this.emitUpdate())}),d(this,"scrollHandler",()=>{var l;null!=(l=this.state)&&l.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),this.editor=l,this.pmView=u,this.emitUpdate=()=>{if(!this.state)throw Error("Attempting to update uninitialized formatting toolbar");p(this.state)},u.dom.addEventListener("mousedown",this.viewMousedownHandler),u.dom.addEventListener("mouseup",this.viewMouseupHandler),u.dom.addEventListener("dragstart",this.dragHandler),u.dom.addEventListener("dragover",this.dragHandler),u.dom.addEventListener("focus",this.focusHandler),u.dom.addEventListener("blur",this.blurHandler),document.addEventListener("scroll",this.scrollHandler)}update(l,u){var p,h;let{state:g,composing:T}=l,{doc:E,selection:v}=g,C=u&&u.doc.eq(E)&&u.selection.eq(v);if((null===this.prevWasEditable||this.prevWasEditable===this.editor.isEditable)&&(T||C))return;this.prevWasEditable=this.editor.isEditable;let{ranges:x}=v,M=Math.min(...x.map(l=>l.$from.pos)),O=Math.max(...x.map(l=>l.$to.pos)),R=null==(p=this.shouldShow)?void 0:p.call(this,{view:l,state:g,from:M,to:O});if(this.editor.isEditable&&!this.preventShow&&(R||this.preventHide)){this.state={show:!0,referencePos:this.getSelectionBoundingBox()},this.emitUpdate();return}if(null!=(h=this.state)&&h.show&&!this.preventHide&&(!R||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.dom.removeEventListener("mouseup",this.viewMouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("focus",this.focusHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),document.removeEventListener("scroll",this.scrollHandler)}getSelectionBoundingBox(){let{state:l}=this.pmView,{selection:u}=l,{ranges:p}=u,h=Math.min(...p.map(l=>l.$from.pos)),g=Math.max(...p.map(l=>l.$to.pos));if((0,e0.EG)(u)){let l=this.pmView.nodeDOM(h);if(l)return l.getBoundingClientRect()}return(0,e0.pr)(this.pmView,h,g)}};let o4=new e9.H$("FormattingToolbarPlugin");let uo=class uo extends K{constructor(l){super(),d(this,"view"),d(this,"plugin"),this.plugin=new e9.Sy({key:o4,view:u=>(this.view=new lo(l,u,l=>{this.emit("update",l)}),this.view)})}onUpdate(l){return this.on("update",l)}};let po=class po{constructor(l,u,p){d(this,"state"),d(this,"emitUpdate"),d(this,"menuUpdateTimer"),d(this,"startMenuUpdateTimer"),d(this,"stopMenuUpdateTimer"),d(this,"mouseHoveredLinkMark"),d(this,"mouseHoveredLinkMarkRange"),d(this,"keyboardHoveredLinkMark"),d(this,"keyboardHoveredLinkMarkRange"),d(this,"linkMark"),d(this,"linkMarkRange"),d(this,"mouseOverHandler",l=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),l.target instanceof HTMLAnchorElement&&"A"===l.target.nodeName){let u=l.target,p=this.pmView.posAtDOM(u,0)+1,h=this.pmView.state.doc.resolve(p),g=h.marks();for(let l of g)if(l.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=l,this.mouseHoveredLinkMarkRange=(0,e0.IH)(h,l.type,l.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),d(this,"clickHandler",l=>{var u;let p=this.pmView.dom.parentElement;this.linkMark&&l&&l.target&&!(p===l.target||p.contains(l.target))&&null!=(u=this.state)&&u.show&&(this.state.show=!1,this.emitUpdate())}),d(this,"scrollHandler",()=>{var l;void 0!==this.linkMark&&null!=(l=this.state)&&l.show&&(this.state.referencePos=(0,e0.pr)(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),this.editor=l,this.pmView=u,this.emitUpdate=()=>{if(!this.state)throw Error("Attempting to update uninitialized link toolbar");p(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update()},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),document.addEventListener("click",this.clickHandler,!0),document.addEventListener("scroll",this.scrollHandler)}editLink(l,u){var p;let h=this.pmView.state.tr.insertText(u,this.linkMarkRange.from,this.linkMarkRange.to);h.addMark(this.linkMarkRange.from,this.linkMarkRange.from+u.length,this.pmView.state.schema.mark("link",{href:l})),this.pmView.dispatch(h),this.pmView.focus(),null!=(p=this.state)&&p.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var l;this.pmView.dispatch(this.pmView.state.tr.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),null!=(l=this.state)&&l.show&&(this.state.show=!1,this.emitUpdate())}update(){var l;if(!this.pmView.hasFocus())return;let u=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){let l=this.pmView.state.selection.$from.marks();for(let u of l)if(u.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=u,this.keyboardHoveredLinkMarkRange=(0,e0.IH)(this.pmView.state.selection.$from,u.type,u.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:(0,e0.pr)(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if(null!=(l=this.state)&&l.show&&u&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),document.removeEventListener("scroll",this.scrollHandler),document.removeEventListener("click",this.clickHandler,!0)}};let o2=new e9.H$("LinkToolbarPlugin");let mo=class mo extends K{constructor(l){super(),d(this,"view"),d(this,"plugin"),d(this,"editLink",(l,u)=>{this.view.editLink(l,u)}),d(this,"deleteLink",()=>{this.view.deleteLink()}),d(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),d(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),this.plugin=new e9.Sy({key:o2,view:u=>(this.view=new po(l,u,l=>{this.emit("update",l)}),this.view)})}onUpdate(l){return this.on("update",l)}};let o8=(0,e0.Kk)(l=>"blockContainer"===l.type.name);let go=class go{constructor(l,u){d(this,"state"),d(this,"emitUpdate"),d(this,"pluginState"),d(this,"handleScroll",()=>{var l;if(null!=(l=this.state)&&l.show){let l=document.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.state.referencePos=l.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),d(this,"closeMenu",()=>{this.editor._tiptapEditor.view.dispatch(this.editor._tiptapEditor.view.state.tr.setMeta(o6,null))}),d(this,"clearQuery",()=>{void 0!==this.pluginState&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos-(this.pluginState.fromUserInput?this.pluginState.triggerCharacter.length:0),to:this.editor._tiptapEditor.state.selection.from}).run()}),this.editor=l,this.pluginState=void 0,this.emitUpdate=l=>{if(!this.state)throw Error("Attempting to update uninitialized suggestions menu");u(l,this.state)},document.addEventListener("scroll",this.handleScroll)}update(l,u){let p=o6.getState(u),h=o6.getState(l.state),g=void 0!==p&&void 0===h;if(!(void 0===p&&void 0!==h)&&!(void 0!==p&&void 0!==h)&&!g)return;if(this.pluginState=g?p:h,g||!this.editor.isEditable){this.state.show=!1,this.emitUpdate(this.pluginState.triggerCharacter);return}let T=document.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&(this.state={show:!0,referencePos:T.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){document.removeEventListener("scroll",this.handleScroll)}};let o6=new e9.H$("SuggestionMenuPlugin");let bo=class bo extends K{constructor(l){super(),d(this,"view"),d(this,"plugin"),d(this,"triggerCharacters",[]),d(this,"addTriggerCharacter",l=>{this.triggerCharacters.push(l)}),d(this,"removeTriggerCharacter",l=>{this.triggerCharacters=this.triggerCharacters.filter(u=>u!==l)}),d(this,"closeMenu",()=>this.view.closeMenu()),d(this,"clearQuery",()=>this.view.clearQuery());let u=this.triggerCharacters;this.plugin=new e9.Sy({key:o6,view:()=>(this.view=new go(l,(l,u)=>{this.emit(`update ${l}`,u)}),this.view),state:{init(){},apply(l,u,p,h){if(void 0!==l.getMeta("orderedListIndexing"))return u;let g=l.getMeta(o6);if("object"==typeof g&&null!==g&&void 0===u)return{triggerCharacter:g.triggerCharacter,fromUserInput:!1!==g.fromUserInput,queryStartPos:h.selection.from,query:"",decorationId:`id_${Math.floor(4294967295*Math.random())}`};if(void 0===u)return u;if(h.selection.from!==h.selection.to||null===g||l.getMeta("focus")||l.getMeta("blur")||l.getMeta("pointer")||void 0!==u.triggerCharacter&&h.selection.from<u.queryStartPos)return;let T={...u};return T.query=h.doc.textBetween(u.queryStartPos,h.selection.from),T}},props:{handleTextInput(l,p,h,g){let T=this.getState(l.state);return!!u.includes(g)&&void 0===T&&(l.dispatch(l.state.tr.insertText(g).scrollIntoView().setMeta(o6,{triggerCharacter:g})),!0)},decorations(l){let u=this.getState(l);if(void 0===u)return null;if(!u.fromUserInput){let p=o8(l.selection);if(p)return tE.EH.create(l.doc,[tE.p.node(p.pos,p.pos+p.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":u.decorationId})])}return tE.EH.create(l.doc,[tE.p.inline(u.queryStartPos-u.triggerCharacter.length,u.queryStartPos,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":u.decorationId})])}}})}onUpdate(l,u){return this.triggerCharacters.includes(l)||this.addTriggerCharacter(l),this.on(`update ${l}`,u)}};let $=class $ extends e9.Y1{constructor(l,u){super(l,u),d(this,"nodes");let p=l.node();this.nodes=[],l.doc.nodesBetween(l.pos,u.pos,(l,u,h)=>{if(null!==h&&h.eq(p))return this.nodes.push(l),!1})}static create(l,u,p=u){return new $(l.resolve(u),l.resolve(p))}content(){return new O.p2(O.HY.from(this.nodes),0,0)}eq(l){if(!(l instanceof $)||this.nodes.length!==l.nodes.length||this.from!==l.from||this.to!==l.to)return!1;for(let u=0;u<this.nodes.length;u++)if(!this.nodes[u].eq(l.nodes[u]))return!1;return!0}map(l,u){let p=u.mapResult(this.from),h=u.mapResult(this.to);return h.deleted?e9.Y1.near(l.resolve(p.pos)):p.deleted?e9.Y1.near(l.resolve(h.pos)):new $(l.resolve(p.pos),l.resolve(h.pos))}toJSON(){return{type:"node",anchor:this.anchor,head:this.head}}};function xt(l,u){var p;if(!u.dom.isConnected)return;let h=u.posAtCoords(l);if(!h)return;let g=u.domAtPos(h.pos).node;if(g!==u.dom){for(;g&&g.parentNode&&g.parentNode!==u.dom&&!(null!=(p=g.hasAttribute)&&p.call(g,"data-id"));)g=g.parentNode;if(g)return{node:g,id:g.getAttribute("data-id")}}}function Ot(l,u,p=u){u===p&&(p+=l.state.doc.resolve(u+1).node().nodeSize);let h=l.domAtPos(u).node.cloneNode(!0),T=l.domAtPos(u).node,i=(l,u)=>Array.prototype.indexOf.call(l.children,u),E=i(T,l.domAtPos(u+1).node.parentElement),v=i(T,l.domAtPos(p-1).node.parentElement);for(let l=T.childElementCount-1;l>=0;l--)(l>v||l<E)&&h.removeChild(h.children[l]);de(),g=h;let C=l.dom.className.split(" ").filter(l=>"ProseMirror"!==l&&"bn-root"!==l&&"bn-editor"!==l).join(" ");g.className=g.className+" bn-drag-preview "+C,document.body.appendChild(g)}function de(){void 0!==g&&(document.body.removeChild(g),g=void 0)}let vo=class vo{constructor(l,u,p){d(this,"state"),d(this,"emitUpdate"),d(this,"horizontalPosAnchoredAtRoot"),d(this,"horizontalPosAnchor"),d(this,"hoveredBlock"),d(this,"isDragging",!1),d(this,"menuFrozen",!1),d(this,"onDragStart",()=>{this.isDragging=!0}),d(this,"onDrop",l=>{if(this.editor._tiptapEditor.commands.blur(),l.synthetic||!this.isDragging)return;let u=this.pmView.posAtCoords({left:l.clientX,top:l.clientY});if(this.isDragging=!1,!u||-1===u.inside){let u=new Event("drop",l),p=this.pmView.dom.firstChild.getBoundingClientRect();u.clientX=p.left+p.width/2,u.clientY=l.clientY,u.dataTransfer=l.dataTransfer,u.preventDefault=()=>l.preventDefault(),u.synthetic=!0,this.pmView.dom.dispatchEvent(u)}}),d(this,"onDragOver",l=>{if(l.synthetic||!this.isDragging)return;let u=this.pmView.posAtCoords({left:l.clientX,top:l.clientY});if(!u||-1===u.inside){let u=new Event("dragover",l),p=this.pmView.dom.firstChild.getBoundingClientRect();u.clientX=p.left+p.width/2,u.clientY=l.clientY,u.dataTransfer=l.dataTransfer,u.preventDefault=()=>l.preventDefault(),u.synthetic=!0,this.pmView.dom.dispatchEvent(u)}}),d(this,"onKeyDown",l=>{var u;null!=(u=this.state)&&u.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.menuFrozen=!1}),d(this,"onMouseDown",l=>{this.state&&!this.state.show&&(this.state.show=!0,this.emitUpdate(this.state)),this.menuFrozen=!1}),d(this,"onMouseMove",l=>{var u,p,h,g,T;if(this.menuFrozen)return;let E=this.pmView.dom.firstChild.getBoundingClientRect(),v=this.pmView.dom.getBoundingClientRect(),C=l.clientX>=v.left&&l.clientX<=v.right&&l.clientY>=v.top&&l.clientY<=v.bottom,x=this.pmView.dom.parentElement;if(C&&l&&l.target&&!(x===l.target||x.contains(l.target))){null!=(u=this.state)&&u.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.horizontalPosAnchor=E.x;let M={left:E.left+E.width/2,top:l.clientY},O=xt(M,this.pmView);if(!O||!this.editor.isEditable){null!=(p=this.state)&&p.show&&(this.state.show=!1,this.emitUpdate(this.state));return}if(null!=(h=this.state)&&h.show&&null!=(g=this.hoveredBlock)&&g.hasAttribute("data-id")&&(null==(T=this.hoveredBlock)?void 0:T.getAttribute("data-id"))===O.id)return;this.hoveredBlock=O.node;let R=O.node.firstChild;if(R&&this.editor.isEditable){let l=R.getBoundingClientRect();this.state={show:!0,referencePos:new DOMRect(this.horizontalPosAnchoredAtRoot?this.horizontalPosAnchor:l.x,l.y,l.width,l.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))},this.emitUpdate(this.state)}}),d(this,"onScroll",()=>{var l;if(null!=(l=this.state)&&l.show){let l=this.hoveredBlock.firstChild.getBoundingClientRect();this.state.referencePos=new DOMRect(this.horizontalPosAnchoredAtRoot?this.horizontalPosAnchor:l.x,l.y,l.width,l.height),this.emitUpdate(this.state)}}),this.editor=l,this.pmView=u,this.emitUpdate=()=>{if(!this.state)throw Error("Attempting to update uninitialized side menu");p(this.state)},this.horizontalPosAnchoredAtRoot=!0,this.horizontalPosAnchor=this.pmView.dom.firstChild.getBoundingClientRect().x,document.body.addEventListener("drop",this.onDrop,!0),document.body.addEventListener("dragover",this.onDragOver),this.pmView.dom.addEventListener("dragstart",this.onDragStart),document.body.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("scroll",this.onScroll),document.body.addEventListener("mousedown",this.onMouseDown,!0),document.body.addEventListener("keydown",this.onKeyDown,!0)}destroy(){var l;null!=(l=this.state)&&l.show&&(this.state.show=!1,this.emitUpdate(this.state)),document.body.removeEventListener("mousemove",this.onMouseMove,!0),document.body.removeEventListener("dragover",this.onDragOver),this.pmView.dom.removeEventListener("dragstart",this.onDragStart),document.body.removeEventListener("drop",this.onDrop,!0),document.removeEventListener("scroll",this.onScroll),document.body.removeEventListener("mousedown",this.onMouseDown,!0),document.body.removeEventListener("keydown",this.onKeyDown,!0)}addBlock(){var l;null!=(l=this.state)&&l.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.menuFrozen=!0;let u=this.hoveredBlock.firstChild.getBoundingClientRect(),p=this.pmView.posAtCoords({left:u.left+u.width/2,top:u.top+u.height/2});if(!p)return;let h=b(this.editor._tiptapEditor.state.doc,p.pos);if(void 0===h)return;let{contentNode:g,startPos:T,endPos:E}=h;if("inline*"!==g.type.spec.content||0!==g.textContent.length){let l=E+1,u=l+2;this.editor._tiptapEditor.chain().BNCreateBlock(l).setTextSelection(u).run()}else this.editor._tiptapEditor.commands.setTextSelection(T+1);this.pmView.focus(),this.pmView.dispatch(this.pmView.state.tr.scrollIntoView().setMeta(o6,{triggerCharacter:"/",fromUserInput:!1}))}};let o3=new e9.H$("SideMenuPlugin");let So=class So extends K{constructor(l){super(),d(this,"view"),d(this,"plugin"),d(this,"addBlock",()=>this.view.addBlock()),d(this,"blockDragStart",l=>{this.view.isDragging=!0,function(l,u){if(!l.dataTransfer)return;let p=u.prosemirrorView,h=p.dom.getBoundingClientRect(),T={left:h.left+h.width/2,top:l.clientY},E=function(l,u){let p=xt(l,u);if(p&&1===p.node.nodeType){let l=u.docView,h=l.nearestDesc(p.node,!0);return h&&h!==l?h.posBefore:null}return null}(T,p);if(null!=E){let h=p.state.selection,T=p.state.doc,{from:v,to:C}=function(l,u){let p,h;let g="blockContent"===u.resolve(l.from).node().type.spec.group,T="blockContent"===u.resolve(l.to).node().type.spec.group,E=Math.min(l.$anchor.depth,l.$head.depth);if(g&&T){let g=l.$from.start(E-1),T=l.$to.end(E-1);p=u.resolve(g-1).pos,h=u.resolve(T+1).pos}else p=l.from,h=l.to;return{from:p,to:h}}(h,T),x=v<=E&&E<C,M=h.$anchor.node()!==h.$head.node()||h instanceof $;x&&M?(p.dispatch(p.state.tr.setSelection($.create(T,v,C))),Ot(p,v,C)):(p.dispatch(p.state.tr.setSelection(e9.qv.create(p.state.doc,E))),Ot(p,E));let O=p.state.selection.content(),R=u._tiptapEditor.schema,L=Xt(R,u).serializeProseMirrorFragment(O.content),H=lt(R,u).exportProseMirrorFragment(O.content),U=Ct(H);l.dataTransfer.clearData(),l.dataTransfer.setData("blocknote/html",L),l.dataTransfer.setData("text/html",H),l.dataTransfer.setData("text/plain",U),l.dataTransfer.effectAllowed="move",l.dataTransfer.setDragImage(g,0,0),p.dragging={slice:O,move:!0}}}(l,this.editor)}),d(this,"blockDragEnd",()=>de()),d(this,"freezeMenu",()=>this.view.menuFrozen=!0),d(this,"unfreezeMenu",()=>this.view.menuFrozen=!1),this.editor=l,this.plugin=new e9.Sy({key:o3,view:u=>(this.view=new vo(l,u,l=>{this.emit("update",l)}),this.view)})}onUpdate(l){return this.on("update",l)}};let Co=class Co{constructor(l,u,p){d(this,"state"),d(this,"emitUpdate"),d(this,"prevWasEditable",null),d(this,"mouseDownHandler",()=>{var l;null!=(l=this.state)&&l.show&&(this.state.show=!1,this.emitUpdate())}),d(this,"dragstartHandler",()=>{var l;null!=(l=this.state)&&l.show&&(this.state.show=!1,this.emitUpdate())}),d(this,"blurHandler",l=>{var u;let p=this.pmView.dom.parentElement;l&&l.relatedTarget&&(p===l.relatedTarget||p.contains(l.relatedTarget))||null!=(u=this.state)&&u.show&&(this.state.show=!1,this.emitUpdate())}),d(this,"scrollHandler",()=>{var l;if(null!=(l=this.state)&&l.show){let l=document.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);this.state.referencePos=l.getBoundingClientRect(),this.emitUpdate()}}),this.pluginKey=l,this.pmView=u,this.emitUpdate=()=>{if(!this.state)throw Error("Attempting to update uninitialized image panel");p(this.state)},u.dom.addEventListener("mousedown",this.mouseDownHandler),u.dom.addEventListener("dragstart",this.dragstartHandler),u.dom.addEventListener("blur",this.blurHandler),document.addEventListener("scroll",this.scrollHandler)}update(l,u){var p,h;let g=this.pluginKey.getState(l.state);if(!(null!=(p=this.state)&&p.show)&&g.block){let l=document.querySelector(`[data-node-type="blockContainer"][data-id="${g.block.id}"]`);this.state={show:!0,referencePos:l.getBoundingClientRect(),block:g.block},this.emitUpdate();return}l.state.selection.eq(u.selection)&&l.state.doc.eq(u.doc)||null==(h=this.state)||!h.show||(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),document.removeEventListener("scroll",this.scrollHandler)}};let o7=new e9.H$("ImagePanelPlugin");let xo=class xo extends K{constructor(l){super(),d(this,"view"),d(this,"plugin"),this.plugin=new e9.Sy({key:o7,view:l=>(this.view=new Co(o7,l,l=>{this.emit("update",l)}),this.view),state:{init:()=>({block:void 0}),apply:l=>{var u;return{block:null==(u=l.getMeta(o7))?void 0:u.block}}}})}onUpdate(l){return this.on("update",l)}};function _t(){T||((T=document.createElement("div")).innerHTML="_",T.style.opacity="0",T.style.height="1px",T.style.width="1px",document.body.appendChild(T))}function rt(l){return Array.prototype.indexOf.call(l.parentElement.childNodes,l)}let Lo=class Lo{constructor(l,u,p){d(this,"state"),d(this,"emitUpdate"),d(this,"tableId"),d(this,"tablePos"),d(this,"menuFrozen",!1),d(this,"prevWasEditable",null),d(this,"mouseMoveHandler",l=>{var u;let p;if(this.menuFrozen)return;let h=function(l){for(;l&&"TD"!==l.nodeName&&"TH"!==l.nodeName;)l=l.classList&&l.classList.contains("ProseMirror")?null:l.parentNode;return l}(l.target);if(!h||!this.editor.isEditable){null!=(u=this.state)&&u.show&&(this.state.show=!1,this.emitUpdate());return}let g=rt(h),T=rt(h.parentElement),E=h.getBoundingClientRect(),v=h.parentElement.parentElement.getBoundingClientRect(),C=xt(E,this.pmView);if(!C)throw Error("Found table cell element, but could not find surrounding blockContent element.");if(this.tableId=C.id,void 0===this.state||!this.state.show||this.tableId!==C.id||this.state.rowIndex!==T||this.state.colIndex!==g)return this.editor._tiptapEditor.state.doc.descendants((l,u)=>!("u">typeof p)&&("blockContainer"!==l.type.name||l.attrs.id!==C.id||(p=y(l,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema,this.editor.blockCache),this.tablePos=u+1,!1))),this.state={show:!0,referencePosCell:E,referencePosTable:v,block:p,colIndex:g,rowIndex:T,draggingState:void 0},this.emitUpdate(),!1}),d(this,"dragOverHandler",l=>{var u;if((null==(u=this.state)?void 0:u.draggingState)===void 0)return;l.preventDefault(),l.dataTransfer.dropEffect="move",function(l){l.forEach(l=>{let u=document.getElementsByClassName(l);for(let l=0;l<u.length;l++)u[l].style.visibility="hidden"})}(["column-resize-handle","prosemirror-dropcursor-block","prosemirror-dropcursor-inline"]);let p={left:Math.min(Math.max(l.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(l.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},h=document.elementsFromPoint(p.left,p.top).filter(l=>"TD"===l.tagName||"TH"===l.tagName);if(0===h.length)throw Error("Could not find table cell element that the mouse cursor is hovering over.");let g=h[0],T=!1,E=rt(g.parentElement),v=rt(g),C="row"===this.state.draggingState.draggedCellOrientation?this.state.rowIndex:this.state.colIndex,x=("row"===this.state.draggingState.draggedCellOrientation?E:v)!==C;(this.state.rowIndex!==E||this.state.colIndex!==v)&&(this.state.rowIndex=E,this.state.colIndex=v,this.state.referencePosCell=g.getBoundingClientRect(),T=!0);let M="row"===this.state.draggingState.draggedCellOrientation?p.top:p.left;this.state.draggingState.mousePos!==M&&(this.state.draggingState.mousePos=M,T=!0),T&&this.emitUpdate(),x&&this.pmView.dispatch(this.pmView.state.tr.setMeta(ar,!0))}),d(this,"dropHandler",l=>{if(void 0===this.state||void 0===this.state.draggingState)return;l.preventDefault();let u=this.state.block.content.rows;if("row"===this.state.draggingState.draggedCellOrientation){let l=u[this.state.draggingState.originalIndex];u.splice(this.state.draggingState.originalIndex,1),u.splice(this.state.rowIndex,0,l)}else{let l=u.map(l=>l.cells[this.state.draggingState.originalIndex]);u.forEach((u,p)=>{u.cells.splice(this.state.draggingState.originalIndex,1),u.cells.splice(this.state.colIndex,0,l[p])})}this.editor.updateBlock(this.state.block,{type:"table",content:{type:"tableContent",rows:u}})}),d(this,"scrollHandler",()=>{var l;if(null!=(l=this.state)&&l.show){let l=document.querySelector(`[data-node-type="blockContainer"][data-id="${this.tableId}"] table`),u=l.querySelector(`tr:nth-child(${this.state.rowIndex+1}) > td:nth-child(${this.state.colIndex+1})`);this.state.referencePosTable=l.getBoundingClientRect(),this.state.referencePosCell=u.getBoundingClientRect(),this.emitUpdate()}}),this.editor=l,this.pmView=u,this.emitUpdate=()=>{if(!this.state)throw Error("Attempting to update uninitialized image toolbar");p(this.state)},u.dom.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("dragover",this.dragOverHandler),document.addEventListener("drop",this.dropHandler),document.addEventListener("scroll",this.scrollHandler)}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseMoveHandler),document.removeEventListener("dragover",this.dragOverHandler),document.removeEventListener("drop",this.dropHandler),document.removeEventListener("scroll",this.scrollHandler)}};let ar=new e9.H$("TableHandlesPlugin");let Io=class Io extends K{constructor(l){super(),d(this,"view"),d(this,"plugin"),d(this,"colDragStart",l=>{if(void 0===this.view.state)throw Error("Attempted to drag table column, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:l.clientX},this.view.emitUpdate(),this.editor._tiptapEditor.view.dispatch(this.editor._tiptapEditor.state.tr.setMeta(ar,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),_t(),l.dataTransfer.setDragImage(T,0,0),l.dataTransfer.effectAllowed="move"}),d(this,"rowDragStart",l=>{if(void 0===this.view.state)throw Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:l.clientY},this.view.emitUpdate(),this.editor._tiptapEditor.view.dispatch(this.editor._tiptapEditor.state.tr.setMeta(ar,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),_t(),l.dataTransfer.setDragImage(T,0,0),l.dataTransfer.effectAllowed="copyMove"}),d(this,"dragEnd",()=>{if(void 0===this.view.state)throw Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor._tiptapEditor.view.dispatch(this.editor._tiptapEditor.state.tr.setMeta(ar,null)),T&&(document.body.removeChild(T),T=void 0)}),d(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),d(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),this.editor=l,this.plugin=new e9.Sy({key:ar,view:u=>(this.view=new Lo(l,u,l=>{this.emit("update",l)}),this.view),props:{decorations:l=>{if(void 0===this.view||void 0===this.view.state||void 0===this.view.state.draggingState||void 0===this.view.tablePos)return;let u="row"===this.view.state.draggingState.draggedCellOrientation?this.view.state.rowIndex:this.view.state.colIndex,p=[];if(u===this.view.state.draggingState.originalIndex)return tE.EH.create(l.doc,p);let h=l.doc.resolve(this.view.tablePos+1),g=h.node();if("row"===this.view.state.draggingState.draggedCellOrientation){let g=l.doc.resolve(h.posAtIndex(u)+1),T=g.node();for(let h=0;h<T.childCount;h++){let T=l.doc.resolve(g.posAtIndex(h)+1),E=T.node(),v=T.pos+(u>this.view.state.draggingState.originalIndex?E.nodeSize-2:0);p.push(tE.p.widget(v,()=>{let l=document.createElement("div");return l.className="bn-table-drop-cursor",l.style.left="0",l.style.right="0",u>this.view.state.draggingState.originalIndex?l.style.bottom="-2px":l.style.top="-3px",l.style.height="4px",l}))}}else for(let T=0;T<g.childCount;T++){let g=l.doc.resolve(h.posAtIndex(T)+1),E=l.doc.resolve(g.posAtIndex(u)+1),v=E.node(),C=E.pos+(u>this.view.state.draggingState.originalIndex?v.nodeSize-2:0);p.push(tE.p.widget(C,()=>{let l=document.createElement("div");return l.className="bn-table-drop-cursor",l.style.top="0",l.style.bottom="0",u>this.view.state.draggingState.originalIndex?l.style.right="-2px":l.style.left="-3px",l.style.width="4px",l}))}return tE.EH.create(l.doc,p)}}})}onUpdate(l){return this.on("update",l)}};function Ut(l,u){let p=l.state.selection.content().content,h=Xt(l.state.schema,u).serializeProseMirrorFragment(p),g=lt(l.state.schema,u).exportProseMirrorFragment(p),T=Ct(g);return{internalHTML:h,externalHTML:g,plainText:T}}let No=l=>e0.hj.create({name:"copyToClipboard",addProseMirrorPlugins:()=>[new e9.Sy({props:{handleDOMEvents:{copy(u,p){p.preventDefault(),p.clipboardData.clearData(),"node"in u.state.selection&&"blockContent"===u.state.selection.node.type.spec.group&&u.dispatch(u.state.tr.setSelection(new e9.qv(u.state.doc.resolve(u.state.selection.from-1))));let{internalHTML:h,externalHTML:g,plainText:T}=Ut(u,l);return p.clipboardData.setData("blocknote/html",h),p.clipboardData.setData("text/html",g),p.clipboardData.setData("text/plain",T),!0},dragstart(u,p){if(!("node"in u.state.selection)||"blockContent"!==u.state.selection.node.type.spec.group)return;u.dispatch(u.state.tr.setSelection(new e9.qv(u.state.doc.resolve(u.state.selection.from-1)))),p.preventDefault(),p.dataTransfer.clearData();let{internalHTML:h,externalHTML:g,plainText:T}=Ut(u,l);return p.dataTransfer.setData("blocknote/html",h),p.dataTransfer.setData("text/html",g),p.dataTransfer.setData("text/plain",T),!0}}}})]}),ai=["blocknote/html","text/html","text/plain"],Po=l=>e0.hj.create({name:"pasteFromClipboard",addProseMirrorPlugins:()=>[new e9.Sy({props:{handleDOMEvents:{paste(u,p){p.preventDefault();let h=null;for(let l of ai)if(p.clipboardData.types.includes(l)){h=l;break}if(null!==h){let u=p.clipboardData.getData(h);"text/html"===h&&(u=le(u.trim()).innerHTML),l._tiptapEditor.view.pasteHTML(u)}return!0}}}})]}),aa=e0.hj.create({name:"blockBackgroundColor",addGlobalAttributes:()=>[{types:["blockContainer"],attributes:{backgroundColor:{default:oA.backgroundColor.default,parseHTML:l=>l.hasAttribute("data-background-color")?l.getAttribute("data-background-color"):oA.backgroundColor.default,renderHTML:l=>l.backgroundColor!==oA.backgroundColor.default&&{"data-background-color":l.backgroundColor}}}}]}),as=new e9.H$("blocknote-placeholder"),al=e0.hj.create({name:"placeholder",addOptions:()=>({placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",bulletListItem:"List",numberedListItem:"List"}}),addProseMirrorPlugins(){let l=this.options.placeholders;return[new e9.Sy({key:as,view:()=>{let u=document.createElement("style");document.head.appendChild(u);let p=u.sheet,o=(l="")=>`.bn-block-content${l} .bn-inline-content:has(> .ProseMirror-trailingBreak):before`,r=(l,u=!0)=>{let p=u?"[data-is-empty-and-focused]":"";if("default"===l)return o(p);let h=`[data-content-type="${l}"]`;return o(p+h)};for(let[u,h]of Object.entries(l)){let l="default"===u;p.insertRule(`${r(u,l)}{ content: ${JSON.stringify(h)}; }`),l||p.insertRule(`${r(u,!0)}{ content: ${JSON.stringify(h)}; }`)}return{destroy:()=>{document.head.removeChild(u)}}},props:{decorations:l=>{let{doc:u,selection:p}=l;if(!this.editor.isEditable||!p.empty)return;let h=p.$anchor,g=h.parent;if(g.content.size>0)return null;let T=h.before(),E=tE.p.node(T,T+g.nodeSize,{"data-is-empty-and-focused":"true"});return tE.EH.create(u,[E])}}})]}}),ac=e0.hj.create({name:"textAlignment",addGlobalAttributes:()=>[{types:["paragraph","heading","bulletListItem","numberedListItem"],attributes:{textAlignment:{default:"left",parseHTML:l=>l.getAttribute("data-text-alignment"),renderHTML:l=>"left"!==l.textAlignment&&{"data-text-alignment":l.textAlignment}}}}]}),au=e0.hj.create({name:"blockTextColor",addGlobalAttributes:()=>[{types:["blockContainer"],attributes:{textColor:{default:oA.textColor.default,parseHTML:l=>l.hasAttribute("data-text-color")?l.getAttribute("data-text-color"):oA.textColor.default,renderHTML:l=>l.textColor!==oA.textColor.default&&{"data-text-color":l.textColor}}}}]}),ad=e0.hj.create({name:"trailingNode",addProseMirrorPlugins(){let l=new e9.H$(this.name);return[new e9.Sy({key:l,appendTransaction:(u,p,h)=>{let{doc:g,tr:T,schema:E}=h,v=l.getState(h),C=g.content.size-2,x=E.nodes.blockContainer,M=E.nodes.paragraph;if(v)return T.insert(C,x.create(void 0,M.create()))},state:{init:(l,u)=>{},apply:(l,u)=>{if(!l.docChanged)return u;let p=l.doc.lastChild;if(!p||"blockGroup"!==p.type.name)throw Error("Expected blockGroup");if(!(p=p.lastChild)||"blockContainer"!==p.type.name)throw Error("Expected blockContainer");let h=p.firstChild;if(!h)throw Error("Expected blockContent");return p.nodeSize>4||"inline*"!==h.type.spec.content}}})]}}),ap=new e9.H$("non-editable-block"),Vo=()=>new e9.Sy({key:ap,props:{handleKeyDown:(l,u)=>{!("node"in l.state.selection)||1!==u.key.length||u.ctrlKey||u.altKey||u.metaKey||u.shiftKey||u.preventDefault()}}}),ah=new e9.H$("previous-blocks"),af={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"},$o=()=>{let l;return new e9.Sy({key:ah,view(u){return{update:async(u,p)=>{var h;(null==(h=this.key)?void 0:h.getState(u.state).updatedBlocks.size)>0&&(l=setTimeout(()=>{u.dispatch(u.state.tr.setMeta(ah,{clearUpdate:!0}))},0))},destroy:()=>{l&&clearTimeout(l)}}},state:{init:()=>({prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}),apply(l,u,p,h){if(u.currentTransactionOldBlockAttrs={},u.updatedBlocks.clear(),!l.docChanged||p.doc.eq(h.doc))return u;let g={},T=(0,e0.N2)(p.doc,l=>l.attrs.id),E=new Map(T.map(l=>[l.node.attrs.id,l])),v=(0,e0.N2)(h.doc,l=>l.attrs.id);for(let T of v){let v=E.get(T.node.attrs.id),C=null==v?void 0:v.node.firstChild,x=T.node.firstChild;if(v&&C&&x){let E={index:x.attrs.index,level:x.attrs.level,type:x.type.name,depth:h.doc.resolve(T.pos).depth},M={index:C.attrs.index,level:C.attrs.level,type:C.type.name,depth:p.doc.resolve(v.pos).depth};g[T.node.attrs.id]=M,l.getMeta("numberedListIndexing")&&(T.node.attrs.id in u.prevTransactionOldBlockAttrs&&(M=u.prevTransactionOldBlockAttrs[T.node.attrs.id]),"numberedListItem"===E.type&&(M.index=E.index)),u.currentTransactionOldBlockAttrs[T.node.attrs.id]=M,JSON.stringify(M)!==JSON.stringify(E)&&(M["depth-change"]=M.depth-E.depth,u.updatedBlocks.add(T.node.attrs.id))}}return u.prevTransactionOldBlockAttrs=g,u}},props:{decorations(l){let u=this.getState(l);if(0===u.updatedBlocks.size)return;let p=[];return l.doc.descendants((l,h)=>{if(!l.attrs.id||!u.updatedBlocks.has(l.attrs.id))return;let g=u.currentTransactionOldBlockAttrs[l.attrs.id],T={};for(let[l,u]of Object.entries(g))T["data-prev-"+af[l]]=u||"none";let E=tE.p.node(h,h+l.nodeSize,{...T});p.push(E)}),tE.EH.create(l.doc,p)}}})},am={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},ag=e0.NB.create({name:"blockContainer",group:"blockContainer",content:"blockContent blockGroup?",priority:50,defining:!0,parseHTML:()=>[{tag:"div",getAttrs:l=>{if("string"==typeof l)return!1;let u={};for(let[p,h]of Object.entries(am))l.getAttribute(h)&&(u[p]=l.getAttribute(h));return"blockContainer"===l.getAttribute("data-node-type")&&u}}],renderHTML({HTMLAttributes:l}){var u;let p=document.createElement("div");for(let[u,h]of(p.className="bn-block-outer",p.setAttribute("data-node-type","blockOuter"),Object.entries(l)))"class"!==u&&p.setAttribute(u,h);let h={...(null==(u=this.options.domAttributes)?void 0:u.block)||{},...l},g=document.createElement("div");for(let[l,u]of(g.className=z("bn-block",h.class),g.setAttribute("data-node-type",this.name),Object.entries(h)))"class"!==l&&g.setAttribute(l,u);return p.appendChild(g),{dom:p,contentDOM:g}},addCommands(){return{BNCreateBlock:l=>({state:u,dispatch:p})=>{let h=u.schema.nodes.blockContainer.createAndFill();return p&&u.tr.insert(l,h),!0},BNDeleteBlock:l=>({state:u,dispatch:p})=>{let h=b(u.doc,l);if(void 0===h)return!1;let{startPos:g,endPos:T}=h;return p&&u.tr.deleteRange(g,T),!0},BNUpdateBlock:(l,u)=>({state:p,dispatch:h})=>{let g=b(p.doc,l);if(void 0===g)return!1;let{startPos:T,endPos:E,node:v,contentNode:C}=g;if(h){if(void 0!==u.children){let l=[];for(let h of u.children)l.push(D(h,p.schema,this.options.editor.schema.styleSchema));2===v.childCount?p.tr.replace(T+C.nodeSize+1,E-1,new O.p2(O.HY.from(l),0,0)):p.tr.insert(T+C.nodeSize,p.schema.nodes.blockGroup.create({},l))}let l=C.type.name,h=u.type||l,g="keep";if(u.content){if("string"==typeof u.content)g=[p.schema.text(u.content)];else if(Array.isArray(u.content))g=at(u.content,p.schema,this.options.editor.schema.styleSchema);else if("tableContent"===u.content.type)g=jt(u.content,p.schema,this.options.editor.schema.styleSchema);else throw new A(u.content.type)}else{let u=p.schema.nodes[l].spec.content,T=p.schema.nodes[h].spec.content;""===u||T!==u&&(g=[])}"keep"===g?p.tr.setNodeMarkup(T,void 0===u.type?void 0:p.schema.nodes[u.type],{...C.attrs,...u.props}):p.tr.replaceWith(T,E,p.schema.nodes[h].create({...C.attrs,...u.props},g)).setSelection(""===p.schema.nodes[h].spec.content?new e9.qv(p.tr.doc.resolve(T)):new e9.Bs("inline*"===p.schema.nodes[h].spec.content?p.tr.doc.resolve(T):p.tr.doc.resolve(T+4))),p.tr.setNodeMarkup(T-1,void 0,{...v.attrs,...u.props})}return!0},BNMergeBlocks:l=>({state:u,dispatch:p})=>{let h="blockContainer"===u.doc.resolve(l+1).node().type.name,g="blockContainer"===u.doc.resolve(l-1).node().type.name;if(!h||!g)return!1;let T=b(u.doc,l+1),{node:E,contentNode:v,startPos:C,endPos:x,depth:M}=T;if(2===E.childCount){let l=u.doc.resolve(C+v.nodeSize+1),h=u.doc.resolve(x-1),g=l.blockRange(h);p&&u.tr.lift(g,M-1)}let R=l-1,L=b(u.doc,R);for(;L.numChildBlocks>0;)if(R--,void 0===(L=b(u.doc,R)))return!1;return p&&(p(u.tr.deleteRange(C,C+v.nodeSize).replace(R-1,C,new O.p2(v.content,0,0)).scrollIntoView()),u.tr.setSelection(new e9.Bs(u.doc.resolve(R-1)))),!0},BNSplitBlock:(l,u)=>({state:p,dispatch:h})=>{let g=b(p.doc,l);if(void 0===g)return!1;let{contentNode:T,contentType:E,startPos:v,endPos:C,depth:x}=g,M=p.doc.cut(v+1,l),R=p.doc.cut(l,C-1),L=p.schema.nodes.blockContainer.createAndFill(),H=C+1,U=H+2;return h&&(p.tr.insert(H,L),p.tr.replace(U,U+1,R.content.size>0?new O.p2(O.HY.from(R),x+2,x+2):void 0),u&&p.tr.setBlockType(U,U,p.schema.node(E).type,T.attrs),p.tr.setSelection(new e9.Bs(p.doc.resolve(U))),p.tr.replace(v+1,C-1,M.content.size>0?new O.p2(O.HY.from(M),x+2,x+2):void 0)),!0}}},addProseMirrorPlugins:()=>[$o(),Vo()],addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.undoInputRule(),()=>l.command(({state:u})=>{let{contentType:p,startPos:h}=b(u.doc,u.selection.from),g=u.selection.from===h+1,T="paragraph"===p.name;return!!g&&!T&&l.BNUpdateBlock(u.selection.from,{type:"paragraph",props:{}})}),()=>l.command(({state:u})=>{let{startPos:p}=b(u.doc,u.selection.from);return u.selection.from===p+1&&l.liftListItem("blockContainer")}),()=>l.command(({state:u})=>{let{depth:p,startPos:h}=b(u.doc,u.selection.from),g=u.selection.from===h+1,T=u.selection.empty;return 2!==h&&!!g&&!!T&&2===p&&l.BNMergeBlocks(h-1)})]),Delete:()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.command(({state:u})=>{let{node:p,depth:h,endPos:g}=b(u.doc,u.selection.from),T=g===u.doc.nodeSize-4,E=u.selection.from===g-1,v=u.selection.empty,C=2===p.childCount;if(!T&&E&&v&&!C){let p=h,T=g+2,E=u.doc.resolve(T).depth;for(;E<p;)p=E,T+=2,E=u.doc.resolve(T).depth;return l.BNMergeBlocks(T-1)}return!1})]),Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.command(({state:u})=>{let{node:p,depth:h}=b(u.doc,u.selection.from),g=0===u.selection.$anchor.parentOffset,T=u.selection.anchor===u.selection.head,E=0===p.textContent.length;return!!g&&!!T&&!!E&&h>2&&l.liftListItem("blockContainer")}),()=>l.command(({state:l,chain:u})=>{let{node:p,endPos:h}=b(l.doc,l.selection.from),g=0===l.selection.$anchor.parentOffset,T=l.selection.anchor===l.selection.head,E=0===p.textContent.length;if(g&&T&&E){let l=h+1,p=l+2;return u().BNCreateBlock(l).setTextSelection(p).run(),!0}return!1}),()=>l.command(({state:l,chain:u})=>{let{node:p}=b(l.doc,l.selection.from),h=0===l.selection.$anchor.parentOffset;return 0!==p.textContent.length&&(u().deleteSelection().BNSplitBlock(l.selection.from,h).run(),!0)})]),Tab:()=>(this.editor.commands.sinkListItem("blockContainer"),!0),"Shift-Tab":()=>(this.editor.commands.liftListItem("blockContainer"),!0)}}}),ay=e0.NB.create({name:"blockGroup",group:"blockGroup",content:"blockContainer+",parseHTML:()=>[{tag:"div",getAttrs:l=>"string"!=typeof l&&"blockGroup"===l.getAttribute("data-node-type")&&null}],renderHTML({HTMLAttributes:l}){var u;let p={...(null==(u=this.options.domAttributes)?void 0:u.blockGroup)||{},...l},h=document.createElement("div");for(let[l,u]of(h.className=z("bn-block-group",p.class),h.setAttribute("data-node-type","blockGroup"),Object.entries(p)))"class"!==l&&h.setAttribute(l,u);return{dom:h,contentDOM:h}}}),ab=e0.NB.create({name:"doc",topNode:!0,content:"blockGroup"}),Ko=l=>{var u;let p=[e0.Rw.ClipboardTextSerializer,e0.Rw.Commands,e0.Rw.Editable,e0.Rw.FocusEvents,e0.Rw.Tabindex,r3,al.configure({...void 0!==l.placeholders?{placeholders:l.placeholders}:{}}),ox.configure({types:["blockContainer"]}),r7,oC,oS,...Object.values(l.styleSpecs).map(l=>l.implementation.mark),au,aa,ac,ab,ag.configure({editor:l.editor,domAttributes:l.domAttributes}),ay.configure({domAttributes:l.domAttributes}),...Object.values(l.inlineContentSpecs).filter(l=>"link"!==l.config&&"text"!==l.config).map(u=>u.implementation.node.configure({editor:l.editor})),...Object.values(l.blockSpecs).flatMap(u=>[...(u.implementation.requiredExtensions||[]).map(u=>u.configure({editor:l.editor,domAttributes:l.domAttributes})),u.implementation.node.configure({editor:l.editor,domAttributes:l.domAttributes})]),No(l.editor),Po(l.editor),r8.configure({width:5,color:"#ddeeff"}),ad];return l.collaboration?(p.push(r5.configure({fragment:l.collaboration.fragment})),null!=(u=l.collaboration.provider)&&u.awareness&&p.push(r2.configure({user:l.collaboration.user,render:l.collaboration.renderCursor||(l=>{let u=document.createElement("span");u.classList.add("collaboration-cursor__caret"),u.setAttribute("style",`border-color: ${l.color}`);let p=document.createElement("span");p.classList.add("collaboration-cursor__label"),p.setAttribute("style",`background-color: ${l.color}`),p.insertBefore(document.createTextNode(l.name),null);let h=document.createTextNode("⁠"),g=document.createTextNode("⁠");return u.insertBefore(h,null),u.insertBefore(p,null),u.insertBefore(g,null),u}),provider:l.collaboration.provider}))):p.push(ip),p};function Xo(l,u){let p=O.HY.from(l.content);for(let l=0;l<p.childCount;l++)if("blockContent"===p.child(l).type.spec.group){let h=[p.child(l)];if(l+1<p.childCount&&"blockGroup"===p.child(l+1).type.spec.group){let u=p.child(l+1).child(0).child(0);("bulletListItem"===u.type.name||"numberedListItem"===u.type.name)&&(h.push(p.child(l+1)),p=function(l,u){let p=[];return l.forEach((l,h,g)=>{g!==u&&p.push(l)}),O.HY.from(p)}(p,l+1))}let g=u.state.schema.nodes.blockContainer.create(void 0,h);p=p.replaceChild(l,g)}return new O.p2(p,l.openStart,l.openEnd)}let Tt=class Tt{constructor(l){d(this,"blockSpecs"),d(this,"inlineContentSpecs"),d(this,"styleSpecs"),d(this,"blockSchema"),d(this,"inlineContentSchema"),d(this,"styleSchema"),d(this,"BlockNoteEditor","only for types"),d(this,"Block","only for types"),d(this,"PartialBlock","only for types"),this.blockSpecs=(null==l?void 0:l.blockSpecs)||oZ,this.inlineContentSpecs=(null==l?void 0:l.inlineContentSpecs)||o9,this.styleSpecs=(null==l?void 0:l.styleSpecs)||o0,this.blockSchema=te(this.blockSpecs),this.inlineContentSchema=ee(this.inlineContentSpecs),this.styleSchema=oe(this.styleSpecs)}static create(l){return new Tt(l)}};let Yo=class Yo extends e0.ML{constructor(l,u){let p,h;super({...l,content:void 0}),d(this,"_state"),d(this,"mount",l=>{l?(this.options.element=l,this.createViewAlternative()):this.destroy()});let g=this.schema,T=g.nodes.doc.createAndFill;g.nodes.doc.createAndFill=(...l)=>{if(p)return p;let u=T.apply(g.nodes.doc,l),h=JSON.parse(JSON.stringify(u.toJSON()));return h.content[0].content[0].attrs.id="initialBlockId",p=O.NB.fromJSON(g,h)};try{let p=null==l?void 0:l.content.map(l=>D(l,this.schema,u).toJSON());h=(0,e0.OE)({type:"doc",content:[{type:"blockGroup",content:p}]},this.schema,this.options.parseOptions)}catch(u){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",u),Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(l.content))}this._state=e9.yy.create({doc:h,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}createView(){}createViewAlternative(){queueMicrotask(()=>{this.view=new tE.tk(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:this.state});let l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.createNodeViews()})}};let aT={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let ue=class ue{constructor(l){var u,p,h,g,T,E,v,C;if(d(this,"_tiptapEditor"),d(this,"blockCache",new WeakMap),d(this,"schema"),d(this,"blockImplementations"),d(this,"inlineContentImplementations"),d(this,"styleImplementations"),d(this,"formattingToolbar"),d(this,"linkToolbar"),d(this,"sideMenu"),d(this,"suggestionMenus"),d(this,"imagePanel"),d(this,"tableHandles"),d(this,"uploadFile"),this.options=l,l.onEditorContentChange)throw Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(l.onTextCursorPositionChange)throw Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(l.onEditorReady)throw Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(l.editable)throw Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");let x={defaultStyles:!0,schema:l.schema||Tt.create(),...l};this.schema=x.schema,this.blockImplementations=x.schema.blockSpecs,this.inlineContentImplementations=x.schema.inlineContentSpecs,this.styleImplementations=x.schema.styleSpecs,this.formattingToolbar=new uo(this),this.linkToolbar=new mo(this),this.sideMenu=new So(this),this.suggestionMenus=new bo(this),I("image",this)&&(this.imagePanel=new xo(this)),I("table",this)&&(this.tableHandles=new Io(this));let M=Ko({editor:this,placeholders:x.placeholders,domAttributes:x.domAttributes||{},blockSchema:this.schema.blockSchema,blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:x.collaboration}),O=e0.hj.create({name:"BlockNoteUIExtension",addProseMirrorPlugins:()=>[this.formattingToolbar.plugin,this.linkToolbar.plugin,this.sideMenu.plugin,this.suggestionMenus.plugin,...this.imagePanel?[this.imagePanel.plugin]:[],...this.tableHandles?[this.tableHandles.plugin]:[]]});M.push(O),this.uploadFile=x.uploadFile,x.collaboration&&x.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");let R=x.initialContent||(l.collaboration?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:ox.options.generateID()}]);if(!Array.isArray(R)||0===R.length)throw Error("initialContent must be a non-empty array of blocks, received: "+R);let L={...aT,...x._tiptapOptions,content:R,extensions:!1===x.enableBlockNoteExtensions?(null==(u=x._tiptapOptions)?void 0:u.extensions)||[]:[...(null==(p=x._tiptapOptions)?void 0:p.extensions)||[],...M],editorProps:{...null==(h=x._tiptapOptions)?void 0:h.editorProps,attributes:{...null==(T=null==(g=x._tiptapOptions)?void 0:g.editorProps)?void 0:T.attributes,...null==(E=x.domAttributes)?void 0:E.editor,class:z("bn-editor",x.defaultStyles?"bn-default-styles":"",(null==(C=null==(v=x.domAttributes)?void 0:v.editor)?void 0:C.class)||"")},transformPasted:Xo}};this._tiptapEditor=new Yo(L,this.schema.styleSchema)}static create(l={}){return new ue(l)}mount(l){this._tiptapEditor.mount(l)}get prosemirrorView(){return this._tiptapEditor.view}get domElement(){return this._tiptapEditor.view.dom}isFocused(){return this._tiptapEditor.view.hasFocus()}focus(){this._tiptapEditor.view.focus()}get topLevelBlocks(){return this.topLevelBlocks}get document(){let l=[];return this._tiptapEditor.state.doc.firstChild.descendants(u=>(l.push(y(u,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)),l}getBlock(l){let u;let p="string"==typeof l?l:l.id;return this._tiptapEditor.state.doc.firstChild.descendants(l=>!("u">typeof u)&&("blockContainer"!==l.type.name||l.attrs.id!==p||(u=y(l,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache),!1))),u}forEachBlock(l,u=!1){let p=this.document.slice();u&&p.reverse(),function r(p){for(let h of p){if(!l(h))return!1;let p=u?h.children.slice().reverse():h.children;if(!r(p))return!1}return!0}(p)}onEditorContentChange(l){this._tiptapEditor.on("update",l)}onEditorSelectionChange(l){this._tiptapEditor.on("selectionUpdate",l)}getTextCursorPosition(){let l,u;let{node:p,depth:h,startPos:g,endPos:T}=b(this._tiptapEditor.state.doc,this._tiptapEditor.state.selection.from),E=this._tiptapEditor.state.doc.resolve(T).index(h-1),v=this._tiptapEditor.state.doc.resolve(T+1).node().childCount;return E>0&&(l=this._tiptapEditor.state.doc.resolve(g-2).node()),E<v-1&&(u=this._tiptapEditor.state.doc.resolve(T+2).node()),{block:y(p,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache),prevBlock:void 0===l?void 0:y(l,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache),nextBlock:void 0===u?void 0:y(u,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)}}setTextCursorPosition(l,u="start"){let p="string"==typeof l?l:l.id,{posBeforeNode:h}=St(p,this._tiptapEditor.state.doc),{startPos:g,contentNode:T}=b(this._tiptapEditor.state.doc,h+2),E=this.schema.blockSchema[T.type.name].content;if("none"===E){this._tiptapEditor.commands.setNodeSelection(g);return}if("inline"===E)"start"===u?this._tiptapEditor.commands.setTextSelection(g+1):this._tiptapEditor.commands.setTextSelection(g+T.nodeSize-1);else if("table"===E)"start"===u?this._tiptapEditor.commands.setTextSelection(g+4):this._tiptapEditor.commands.setTextSelection(g+T.nodeSize-4);else throw new A(E)}getSelection(){if(this._tiptapEditor.state.selection.from===this._tiptapEditor.state.selection.to||"node"in this._tiptapEditor.state.selection)return;let l=[];return this._tiptapEditor.state.doc.descendants((u,p)=>"blockContent"!==u.type.spec.group||p+u.nodeSize<this._tiptapEditor.state.selection.from||p>this._tiptapEditor.state.selection.to||(l.push(y(this._tiptapEditor.state.doc.resolve(p).node(),this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)),{blocks:l}}get isEditable(){return this._tiptapEditor.isEditable}set isEditable(l){this._tiptapEditor.options.editable!==l&&this._tiptapEditor.setEditable(l)}insertBlocks(l,u,p="before"){return function(l,u,p="before",h){let g=h._tiptapEditor,T="string"==typeof u?u:u.id,E=[];for(let u of l)E.push(D(u,g.schema,h.schema.styleSchema));let{node:v,posBeforeNode:C}=St(T,g.state.doc);if("before"===p&&g.view.dispatch(g.state.tr.insert(C,E)),"after"===p&&g.view.dispatch(g.state.tr.insert(C+v.nodeSize,E)),"nested"===p&&v.childCount<2){let l=g.state.schema.nodes.blockGroup.create({},E);g.view.dispatch(g.state.tr.insert(C+v.firstChild.nodeSize+1,l))}let x=[];for(let l of E)x.push(y(l,h.schema.blockSchema,h.schema.inlineContentSchema,h.schema.styleSchema,h.blockCache));return x}(l,u,p,this)}updateBlock(l,u){return function(l,u,p){let h=p._tiptapEditor,g="string"==typeof l?l:l.id,{posBeforeNode:T}=St(g,h.state.doc);h.commands.BNUpdateBlock(T+1,u);let E=h.state.doc.resolve(T+1).node();return y(E,p.schema.blockSchema,p.schema.inlineContentSchema,p.schema.styleSchema,p.blockCache)}(l,u,this)}removeBlocks(l){return ae(l,this)}replaceBlocks(l,u){return function(l,u,p){let h=p._tiptapEditor,g=[];for(let l of u)g.push(D(l,h.schema,p.schema.styleSchema));let T="string"==typeof l[0]?l[0]:l[0].id,E=ae(l,p,(l,u,p,h)=>{if(l.attrs.id===T){let l=p.doc.nodeSize;p.insert(u,g);let T=p.doc.nodeSize;return h+l-T}return h}),v=[];for(let l of g)v.push(y(l,p.schema.blockSchema,p.schema.inlineContentSchema,p.schema.styleSchema,p.blockCache));return{insertedBlocks:v,removedBlocks:E}}(l,u,this)}insertInlineContent(l){let u=at(l,this._tiptapEditor.schema,this.schema.styleSchema);!function(l,u,p,h={updateSelection:!0}){let g=p._tiptapEditor,T=g.state.tr,{from:E,to:v}="number"==typeof l?{from:l,to:l}:{from:l.from,to:l.to},C=!0,x=!0,M="";if(u.forEach(l=>{l.check(),C&&l.isText&&0===l.marks.length?M+=l.text:C=!1,x=!!x&&l.isBlock}),E===v&&x){let{parent:l}=T.doc.resolve(E);!l.isTextblock||l.type.spec.code||l.childCount||(E-=1,v+=1)}C?T.insertText(M,E,v):T.replaceWith(E,v,u),h.updateSelection&&(0,e0.nj)(T,T.steps.length-1,-1),g.view.dispatch(T)}({from:this._tiptapEditor.state.selection.from,to:this._tiptapEditor.state.selection.to},u,this)}getActiveStyles(){let l={},u=this._tiptapEditor.state.selection.$to.marks();for(let p of u){let u=this.schema.styleSchema[p.type.name];if(!u){console.warn("mark not found in styleschema",p.type.name);continue}"boolean"===u.propSchema?l[u.type]=!0:l[u.type]=p.attrs.stringValue}return l}addStyles(l){for(let[u,p]of(this._tiptapEditor.view.focus(),Object.entries(l))){let l=this.schema.styleSchema[u];if(!l)throw Error(`style ${u} not found in styleSchema`);if("boolean"===l.propSchema)this._tiptapEditor.commands.setMark(u);else if("string"===l.propSchema)this._tiptapEditor.commands.setMark(u,{stringValue:p});else throw new A(l.propSchema)}}removeStyles(l){for(let u of(this._tiptapEditor.view.focus(),Object.keys(l)))this._tiptapEditor.commands.unsetMark(u)}toggleStyles(l){for(let[u,p]of(this._tiptapEditor.view.focus(),Object.entries(l))){let l=this.schema.styleSchema[u];if(!l)throw Error(`style ${u} not found in styleSchema`);if("boolean"===l.propSchema)this._tiptapEditor.commands.toggleMark(u);else if("string"===l.propSchema)this._tiptapEditor.commands.toggleMark(u,{stringValue:p});else throw new A(l.propSchema)}}getSelectedText(){return this._tiptapEditor.state.doc.textBetween(this._tiptapEditor.state.selection.from,this._tiptapEditor.state.selection.to)}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(l,u){if(""===l)return;let{from:p,to:h}=this._tiptapEditor.state.selection;u||(u=this._tiptapEditor.state.doc.textBetween(p,h));let g=this._tiptapEditor.schema.mark("link",{href:l});this._tiptapEditor.view.dispatch(this._tiptapEditor.view.state.tr.insertText(u,p,h).addMark(p,p+u.length,g))}canNestBlock(){let{startPos:l,depth:u}=b(this._tiptapEditor.state.doc,this._tiptapEditor.state.selection.from);return this._tiptapEditor.state.doc.resolve(l).index(u-1)>0}nestBlock(){this._tiptapEditor.commands.sinkListItem("blockContainer")}canUnnestBlock(){let{depth:l}=b(this._tiptapEditor.state.doc,this._tiptapEditor.state.selection.from);return l>2}unnestBlock(){this._tiptapEditor.commands.liftListItem("blockContainer")}async blocksToHTMLLossy(l=this.document){return lt(this._tiptapEditor.schema,this).exportBlocks(l)}async tryParseHTMLToBlocks(l){return ce(l,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this._tiptapEditor.schema)}async blocksToMarkdownLossy(l=this.document){return function(l,u,p){let h=lt(u,p).exportBlocks(l);return Ct(h)}(l,this._tiptapEditor.schema,this)}async tryParseMarkdownToBlocks(l){return function(l,u,p,h,g){let T=eZ().use(remarkParse).use(remarkGfm).use(remark_rehype_lib,{handlers:{...rB,code:so}}).use(rehypeStringify).processSync(l);return ce(T.value,u,p,h,g)}(l,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this._tiptapEditor.schema)}updateCollaborationUserInfo(l){if(!this.options.collaboration)throw Error("Cannot update collaboration user info when collaboration is disabled.");this._tiptapEditor.commands.updateUser(l)}onChange(l){let e=()=>{l(this)};return this._tiptapEditor.on("update",e),()=>{this._tiptapEditor.off("update",e)}}onSelectionChange(l){let e=()=>{l(this)};return this._tiptapEditor.on("selectionUpdate",e),()=>{this._tiptapEditor.off("selectionUpdate",e)}}};function P(l,u){let p=l.getTextCursorPosition().block;if(void 0===p.content)throw Error("Slash Menu open in a block that doesn't contain content.");Array.isArray(p.content)&&(1===p.content.length&&Q(p.content[0])&&"text"===p.content[0].type&&"/"===p.content[0].text||0===p.content.length)?l.updateBlock(p,u):(l.insertBlocks([u],p,"after"),l.setTextCursorPosition(l.getTextCursorPosition().nextBlock,"end"));let h=l.getTextCursorPosition().block;return function(l){let u=l.getTextCursorPosition().block,p=l.schema.blockSchema[u.type].content;for(;"none"===p;)u=l.getTextCursorPosition().nextBlock,p=l.schema.blockSchema[u.type].content,l.setTextCursorPosition(u,"end")}(l),h}function $r(l){let u=[];return I("heading",l)&&u.push({title:"Heading 1",onItemClick:()=>{P(l,{type:"heading",props:{level:1}})},subtext:"Used for a top-level heading",badge:F("Mod-Alt-1"),aliases:["h","heading1","h1"],group:"Headings"},{title:"Heading 2",onItemClick:()=>{P(l,{type:"heading",props:{level:2}})},subtext:"Used for key sections",badge:F("Mod-Alt-2"),aliases:["h2","heading2","subheading"],group:"Headings"},{title:"Heading 3",onItemClick:()=>{P(l,{type:"heading",props:{level:3}})},subtext:"Used for subsections and group headings",badge:F("Mod-Alt-3"),aliases:["h3","heading3","subheading"],group:"Headings"}),I("numberedListItem",l)&&u.push({title:"Numbered List",onItemClick:()=>{P(l,{type:"numberedListItem"})},subtext:"Used to display a numbered list",badge:F("Mod-Shift-7"),aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"}),I("bulletListItem",l)&&u.push({title:"Bullet List",onItemClick:()=>{P(l,{type:"bulletListItem"})},subtext:"Used to display an unordered list",badge:F("Mod-Shift-8"),aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"}),I("paragraph",l)&&u.push({title:"Paragraph",onItemClick:()=>{P(l,{type:"paragraph"})},subtext:"Used for the body of your document",badge:F("Mod-Alt-0"),aliases:["p","paragraph"],group:"Basic blocks"}),I("table",l)&&u.push({title:"Table",onItemClick:()=>{P(l,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},subtext:"Used for for tables",aliases:["table"],group:"Advanced",badge:void 0}),I("image",l)&&u.push({title:"Image",onItemClick:()=>{let u=P(l,{type:"image"});l.prosemirrorView.dispatch(l._tiptapEditor.state.tr.setMeta(l.imagePanel.plugin,{block:u}))},subtext:"Insert an image",aliases:["image","imageUpload","upload","img","picture","media","url","drive","dropbox"],group:"Media"}),u}function Gr(l,u){return l.filter(({title:l,aliases:p})=>l.toLowerCase().startsWith(u.toLowerCase())||p&&0!==p.filter(l=>l.toLowerCase().startsWith(u.toLowerCase())).length)}},23813:function(l,u,p){"use strict";p.d(u,{lI:function(){return ke},L6:function(){return nH},GY:function(){return zr},fe:function(){return Wr},DR:function(){return uo},V5:function(){return fo},mu:function(){return _o},Df:function(){return Ae},k2:function(){return mi},B:function(){return xn},Q1:function(){return w},$c:function(){return ei},yH:function(){return Qe}});var h,g,T=p(82684),E=p(81206),v=p(3430),C=p(69205),x=p(28598);function isNumberLike(l){return"number"==typeof l||"string"==typeof l&&(!!(l.startsWith("calc(")||l.startsWith("var(")||l.includes(" ")&&""!==l.trim())||/[0-9]/.test(l.trim().replace("-","")[0]))}function scaleRem(l){return"0rem"===l?"0rem":`calc(${l} * var(--mantine-scale))`}function createConverter(l,{shouldScale:u=!1}={}){return function converter(p){if(0===p||"0"===p)return`0${l}`;if("number"==typeof p){let h=`${p/16}${l}`;return u?scaleRem(h):h}if("string"==typeof p){if(""===p||p.startsWith("calc(")||p.startsWith("clamp(")||p.includes("rgba("))return p;if(p.includes(","))return p.split(",").map(l=>converter(l)).join(",");if(p.includes(" "))return p.split(" ").map(l=>converter(l)).join(" ");if(p.includes(l))return u?scaleRem(p):p;let h=p.replace("px","");if(!Number.isNaN(Number(h))){let p=`${Number(h)/16}${l}`;return u?scaleRem(p):p}}return p}}let M=createConverter("rem",{shouldScale:!0}),O=createConverter("em");function getSize(l,u="size",p=!0){if(void 0!==l)return isNumberLike(l)?p?M(l):l:`var(--${u}-${l})`}function getSpacing(l){return getSize(l,"mantine-spacing")}function getRadius(l){return void 0===l?"var(--mantine-radius-default)":getSize(l,"mantine-radius")}function getFontSize(l){return getSize(l,"mantine-font-size")}function filterProps(l){return Object.keys(l).reduce((u,p)=>(void 0!==l[p]&&(u[p]=l[p]),u),{})}function toRgba(l){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(l)?function(l){let u=l.replace("#","");if(3===u.length){let l=u.split("");u=[l[0],l[0],l[1],l[1],l[2],l[2]].join("")}if(8===u.length){let l=parseInt(u.slice(6,8),16)/255;return{r:parseInt(u.slice(0,2),16),g:parseInt(u.slice(2,4),16),b:parseInt(u.slice(4,6),16),a:l}}let p=parseInt(u,16);return{r:p>>16&255,g:p>>8&255,b:255&p,a:1}}(l):l.startsWith("rgb")?function(l){let[u,p,h,g]=l.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:u,g:p,b:h,a:g||1}}(l):l.startsWith("hsl")?function(l){let u,p,h;let g=l.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i);if(!g)return{r:0,g:0,b:0,a:1};let T=parseInt(g[1],10),E=parseInt(g[2],10)/100,v=parseInt(g[3],10)/100,C=g[5]?parseFloat(g[5]):void 0,x=(1-Math.abs(2*v-1))*E,M=T/60,O=x*(1-Math.abs(M%2-1)),R=v-x/2;return M>=0&&M<1?(u=x,p=O,h=0):M>=1&&M<2?(u=O,p=x,h=0):M>=2&&M<3?(u=0,p=x,h=O):M>=3&&M<4?(u=0,p=O,h=x):M>=4&&M<5?(u=O,p=0,h=x):(u=x,p=0,h=O),{r:Math.round((u+R)*255),g:Math.round((p+R)*255),b:Math.round((h+R)*255),a:C||1}}(l):{r:0,g:0,b:0,a:1}}function darken(l,u){if(l.startsWith("var("))return`color-mix(in srgb, ${l}, black ${100*u}%)`;let{r:p,g:h,b:g,a:T}=toRgba(l),E=1-u,dark=l=>Math.round(l*E);return`rgba(${dark(p)}, ${dark(h)}, ${dark(g)}, ${T})`}function getPrimaryShade(l,u){return"number"==typeof l.primaryShade?l.primaryShade:"dark"===u?l.primaryShade.dark:l.primaryShade.light}function gammaCorrect(l){return l<=.03928?l/12.92:((l+.055)/1.055)**2.4}function isLightColor(l,u=.179){return!l.startsWith("var(")&&function(l){if(l.startsWith("oklch("))return(function(l){let u=l.match(/oklch\((.*?)%\s/);return u?parseFloat(u[1]):null}(l)||0)/100;let{r:u,g:p,b:h}=toRgba(l),g=gammaCorrect(u/255),T=gammaCorrect(p/255),E=gammaCorrect(h/255);return .2126*g+.7152*T+.0722*E}(l)>u}function parseThemeColor({color:l,theme:u,colorScheme:p}){if("string"!=typeof l)throw Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof l}`);if("bright"===l)return{color:l,value:"dark"===p?u.white:u.black,shade:void 0,isThemeColor:!1,isLight:isLightColor("dark"===p?u.white:u.black,u.luminanceThreshold),variable:"--mantine-color-bright"};if("dimmed"===l)return{color:l,value:"dark"===p?u.colors.dark[2]:u.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:isLightColor("dark"===p?u.colors.dark[2]:u.colors.gray[6],u.luminanceThreshold),variable:"--mantine-color-dimmed"};if("white"===l||"black"===l)return{color:l,value:"white"===l?u.white:u.black,shade:void 0,isThemeColor:!1,isLight:isLightColor("white"===l?u.white:u.black,u.luminanceThreshold),variable:`--mantine-color-${l}`};let[h,g]=l.split("."),T=g?Number(g):void 0,E=h in u.colors;if(E){let l=void 0!==T?u.colors[h][T]:u.colors[h][getPrimaryShade(u,p||"light")];return{color:h,value:l,shade:T,isThemeColor:E,isLight:isLightColor(l,u.luminanceThreshold),variable:g?`--mantine-color-${h}-${T}`:`--mantine-color-${h}-filled`}}return{color:l,value:l,isThemeColor:E,isLight:isLightColor(l,u.luminanceThreshold),shade:T,variable:void 0}}function getThemeColor(l,u){let p=parseThemeColor({color:l||u.primaryColor,theme:u});return p.variable?`var(${p.variable})`:l}function getGradient(l,u){let p={from:l?.from||u.defaultGradient.from,to:l?.to||u.defaultGradient.to,deg:l?.deg||u.defaultGradient.deg||0},h=getThemeColor(p.from,u),g=getThemeColor(p.to,u);return`linear-gradient(${p.deg}deg, ${h} 0%, ${g} 100%)`}function rgba(l,u){if("string"!=typeof l||u>1||u<0)return"rgba(0, 0, 0, 1)";if(l.startsWith("var(")){let p=(1-u)*100;return`color-mix(in srgb, ${l}, transparent ${p}%)`}if(l.startsWith("oklch"))return l.includes("/")?l.replace(/\/\s*[\d.]+\s*\)/,`/ ${u})`):l.replace(")",` / ${u})`);let{r:p,g:h,b:g}=toRgba(l);return`rgba(${p}, ${h}, ${g}, ${u})`}let R="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",L={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:{dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:({color:l,theme:u,variant:p,gradient:h,autoContrast:g})=>{let T=parseThemeColor({color:l,theme:u}),E="boolean"==typeof g?g:u.autoContrast;if("filled"===p){let u=E&&T.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return T.isThemeColor?void 0===T.shade?{background:`var(--mantine-color-${l}-filled)`,hover:`var(--mantine-color-${l}-filled-hover)`,color:u,border:`${M(1)} solid transparent`}:{background:`var(--mantine-color-${T.color}-${T.shade})`,hover:`var(--mantine-color-${T.color}-${9===T.shade?8:T.shade+1})`,color:u,border:`${M(1)} solid transparent`}:{background:l,hover:darken(l,.1),color:u,border:`${M(1)} solid transparent`}}if("light"===p){if(T.isThemeColor){if(void 0===T.shade)return{background:`var(--mantine-color-${l}-light)`,hover:`var(--mantine-color-${l}-light-hover)`,color:`var(--mantine-color-${l}-light-color)`,border:`${M(1)} solid transparent`};let p=u.colors[T.color][T.shade];return{background:rgba(p,.1),hover:rgba(p,.12),color:`var(--mantine-color-${T.color}-${Math.min(T.shade,6)})`,border:`${M(1)} solid transparent`}}return{background:rgba(l,.1),hover:rgba(l,.12),color:l,border:`${M(1)} solid transparent`}}if("outline"===p)return T.isThemeColor?void 0===T.shade?{background:"transparent",hover:`var(--mantine-color-${l}-outline-hover)`,color:`var(--mantine-color-${l}-outline)`,border:`${M(1)} solid var(--mantine-color-${l}-outline)`}:{background:"transparent",hover:rgba(u.colors[T.color][T.shade],.05),color:`var(--mantine-color-${T.color}-${T.shade})`,border:`${M(1)} solid var(--mantine-color-${T.color}-${T.shade})`}:{background:"transparent",hover:rgba(l,.05),color:l,border:`${M(1)} solid ${l}`};if("subtle"===p){if(T.isThemeColor){if(void 0===T.shade)return{background:"transparent",hover:`var(--mantine-color-${l}-light-hover)`,color:`var(--mantine-color-${l}-light-color)`,border:`${M(1)} solid transparent`};let p=u.colors[T.color][T.shade];return{background:"transparent",hover:rgba(p,.12),color:`var(--mantine-color-${T.color}-${Math.min(T.shade,6)})`,border:`${M(1)} solid transparent`}}return{background:"transparent",hover:rgba(l,.12),color:l,border:`${M(1)} solid transparent`}}return"transparent"===p?T.isThemeColor?void 0===T.shade?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${l}-light-color)`,border:`${M(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${T.color}-${Math.min(T.shade,6)})`,border:`${M(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:l,border:`${M(1)} solid transparent`}:"white"===p?T.isThemeColor?void 0===T.shade?{background:"var(--mantine-color-white)",hover:darken(u.white,.01),color:`var(--mantine-color-${l}-filled)`,border:`${M(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken(u.white,.01),color:`var(--mantine-color-${T.color}-${T.shade})`,border:`${M(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken(u.white,.01),color:l,border:`${M(1)} solid transparent`}:"gradient"===p?{background:getGradient(h,u),hover:getGradient(h,u),color:"var(--mantine-color-white)",border:"none"}:"default"===p?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${M(1)} solid var(--mantine-color-default-border)`}:{}},autoContrast:!1,luminanceThreshold:.3,fontFamily:R,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:R,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:M(34),lineHeight:"1.3"},h2:{fontSize:M(26),lineHeight:"1.35"},h3:{fontSize:M(22),lineHeight:"1.4"},h4:{fontSize:M(18),lineHeight:"1.45"},h5:{fontSize:M(16),lineHeight:"1.5"},h6:{fontSize:M(14),lineHeight:"1.5"}}},fontSizes:{xs:M(12),sm:M(14),md:M(16),lg:M(18),xl:M(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:M(2),sm:M(4),md:M(8),lg:M(16),xl:M(32)},spacing:{xs:M(10),sm:M(12),md:M(16),lg:M(20),xl:M(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), 0 ${M(1)} ${M(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(10)} ${M(15)} ${M(-5)}, rgba(0, 0, 0, 0.04) 0 ${M(7)} ${M(7)} ${M(-5)}`,md:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(20)} ${M(25)} ${M(-5)}, rgba(0, 0, 0, 0.04) 0 ${M(10)} ${M(10)} ${M(-5)}`,lg:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(28)} ${M(23)} ${M(-7)}, rgba(0, 0, 0, 0.04) 0 ${M(12)} ${M(12)} ${M(-7)}`,xl:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(36)} ${M(28)} ${M(-7)}, rgba(0, 0, 0, 0.04) 0 ${M(17)} ${M(17)} ${M(-7)}`},other:{},components:{}};function isObject(l){return l&&"object"==typeof l&&!Array.isArray(l)}function deepMerge(l,u){let p={...l};return isObject(l)&&isObject(u)&&Object.keys(u).forEach(h=>{isObject(u[h])&&h in l?p[h]=deepMerge(p[h],u[h]):p[h]=u[h]}),p}function isValidPrimaryShade(l){return!(l<0)&&!(l>9)&&parseInt(l.toString(),10)===l}function validateMantineTheme(l){if(!(l.primaryColor in l.colors))throw Error("[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color");if("object"==typeof l.primaryShade&&(!isValidPrimaryShade(l.primaryShade.dark)||!isValidPrimaryShade(l.primaryShade.light))||"number"==typeof l.primaryShade&&!isValidPrimaryShade(l.primaryShade))throw Error("[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }")}let H=(0,T.createContext)(null),useSafeMantineTheme=()=>(0,T.useContext)(H)||L;function useMantineTheme(){let l=(0,T.useContext)(H);if(!l)throw Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return l}function MantineThemeProvider({theme:l,children:u,inherit:p=!0}){let h=useSafeMantineTheme(),g=(0,T.useMemo)(()=>(function(l,u){if(!u)return validateMantineTheme(l),l;let p=deepMerge(l,u);return u.fontFamily&&!u.headings?.fontFamily&&(p.headings.fontFamily=u.fontFamily),validateMantineTheme(p),p})(p?h:L,l),[l,h,p]);return(0,x.jsx)(H.Provider,{value:g,children:u})}function useProps(l,u,p){let h=useMantineTheme(),g=h.components[l]?.defaultProps,T="function"==typeof g?g(h):g;return{...u,...T,...filterProps(p)}}MantineThemeProvider.displayName="@mantine/core/MantineThemeProvider";let U=(0,T.createContext)(null);function useMantineContext(){let l=(0,T.useContext)(U);if(!l)throw Error("[@mantine/core] MantineProvider was not found in tree");return l}function useMantineStyleNonce(){return useMantineContext().getStyleNonce}var dist_clsx=function(){for(var l,u,p=0,h="",g=arguments.length;p<g;p++)(l=arguments[p])&&(u=function r(l){var u,p,h="";if("string"==typeof l||"number"==typeof l)h+=l;else if("object"==typeof l){if(Array.isArray(l)){var g=l.length;for(u=0;u<g;u++)l[u]&&(p=r(l[u]))&&(h&&(h+=" "),h+=p)}else for(p in l)l[p]&&(h&&(h+=" "),h+=p)}return h}(l))&&(h&&(h+=" "),h+=u);return h};let j={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"},G={};function resolveClassNames({theme:l,classNames:u,props:p,stylesCtx:h}){let g=Array.isArray(u)?u:[u],T=g.map(u=>"function"==typeof u?u(l,p,h):u||G);return function(l){let u={};return l.forEach(l=>{Object.entries(l).forEach(([l,p])=>{u[l]?u[l]=dist_clsx(u[l],p):u[l]=p})}),u}(T)}function getResolvedClassNames({selector:l,stylesCtx:u,theme:p,classNames:h,props:g}){return resolveClassNames({theme:p,classNames:h,props:g,stylesCtx:u})[l]}function resolveStyles({theme:l,styles:u,props:p,stylesCtx:h}){let g=Array.isArray(u)?u:[u];return g.reduce((u,g)=>"function"==typeof g?{...u,...g(l,p,h)}:{...u,...g},{})}function resolveStyle({style:l,theme:u}){return Array.isArray(l)?[...l].reduce((l,p)=>({...l,...resolveStyle({style:p,theme:u})}),{}):"function"==typeof l?l(u):null==l?{}:l}function useStyles({name:l,classes:u,props:p,stylesCtx:h,className:g,style:T,rootSelector:E="root",unstyled:v,classNames:C,styles:x,vars:M,varsResolver:O}){let R=useMantineTheme(),L=useMantineContext().classNamesPrefix,H=useMantineContext().withStaticClasses,U=useMantineContext().headless,G=(Array.isArray(l)?l:[l]).filter(l=>l),{withStylesTransform:W,getTransformedStyles:q}=function({props:l,stylesCtx:u,themeName:p}){let h=useMantineTheme(),g=useMantineContext().stylesTransform?.styles?.();return{getTransformedStyles:T=>{if(!g)return[];let E=T.map(p=>g(p,{props:l,theme:h,ctx:u}));return[...E,...p.map(p=>g(h.components[p]?.styles,{props:l,theme:h,ctx:u}))].filter(Boolean)},withStylesTransform:!!g}}({props:p,stylesCtx:h,themeName:G});return(l,Y)=>({className:function({theme:l,options:u,themeName:p,selector:h,classNamesPrefix:g,classNames:T,classes:E,unstyled:v,className:C,rootSelector:x,props:M,stylesCtx:O,withStaticClasses:R,headless:L,transformedStyles:H}){return dist_clsx(function({theme:l,options:u,unstyled:p}){return dist_clsx(u?.focusable&&!p&&(l.focusClassName||j[l.focusRing]),u?.active&&!p&&l.activeClassName)}({theme:l,options:u,unstyled:v||L}),function({themeName:l,theme:u,selector:p,props:h,stylesCtx:g}){return l.map(l=>resolveClassNames({theme:u,classNames:u.components[l]?.classNames,props:h,stylesCtx:g})?.[p])}({theme:l,themeName:p,selector:h,props:M,stylesCtx:O}),function({options:l,classes:u,selector:p,unstyled:h}){return l?.variant&&!h?u[`${p}--${l.variant}`]:void 0}({options:u,classes:E,selector:h,unstyled:v}),getResolvedClassNames({selector:h,stylesCtx:O,theme:l,classNames:T,props:M}),getResolvedClassNames({selector:h,stylesCtx:O,theme:l,classNames:H,props:M}),function({selector:l,stylesCtx:u,options:p,props:h,theme:g}){return resolveClassNames({theme:g,classNames:p?.classNames,props:p?.props||h,stylesCtx:u})[l]}({selector:h,stylesCtx:O,options:u,props:M,theme:l}),function({rootSelector:l,selector:u,className:p}){return l===u?p:void 0}({rootSelector:x,selector:h,className:C}),function({selector:l,classes:u,unstyled:p}){return p?void 0:u[l]}({selector:h,classes:E,unstyled:v||L}),R&&!L&&function({themeName:l,classNamesPrefix:u,selector:p,withStaticClass:h}){return!1===h?[]:l.map(l=>`${u}-${l}-${p}`)}({themeName:p,classNamesPrefix:g,selector:h,withStaticClass:u?.withStaticClass}),u?.className)}({theme:R,options:Y,themeName:G,selector:l,classNamesPrefix:L,classNames:C,classes:u,unstyled:v,className:g,rootSelector:E,props:p,stylesCtx:h,withStaticClasses:H,headless:U,transformedStyles:q([Y?.styles,x])}),style:function({theme:l,themeName:u,selector:p,options:h,props:g,stylesCtx:T,rootSelector:E,styles:v,style:C,vars:x,varsResolver:M,headless:O,withStylesTransform:R}){return{...!R&&function({theme:l,themeName:u,props:p,stylesCtx:h,selector:g}){return u.map(u=>resolveStyles({theme:l,styles:l.components[u]?.styles,props:p,stylesCtx:h})[g]).reduce((l,u)=>({...l,...u}),{})}({theme:l,themeName:u,props:g,stylesCtx:T,selector:p}),...!R&&resolveStyles({theme:l,styles:v,props:g,stylesCtx:T})[p],...!R&&resolveStyles({theme:l,styles:h?.styles,props:h?.props||g,stylesCtx:T})[p],...function({vars:l,varsResolver:u,theme:p,props:h,stylesCtx:g,selector:T,themeName:E,headless:v}){return[v?{}:u?.(p,h,g),...E.map(l=>p.components?.[l]?.vars?.(p,h,g)),l?.(p,h,g)].reduce((l,u)=>(u&&Object.keys(u).forEach(p=>{l[p]={...l[p],...filterProps(u[p])}}),l),{})?.[T]}({theme:l,props:g,stylesCtx:T,vars:x,varsResolver:M,selector:p,themeName:u,headless:O}),...E===p?resolveStyle({style:C,theme:l}):null,...resolveStyle({style:h?.style,theme:l})}}({theme:R,themeName:G,selector:l,options:Y,props:p,stylesCtx:h,rootSelector:E,styles:x,style:T,vars:M,varsResolver:O,headless:U,withStylesTransform:W})})}function keys(l){return Object.keys(l)}function cssObjectToString(l){return keys(l).reduce((u,p)=>void 0!==l[p]?`${u}${p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}:${l[p]};`:u,"").trim()}function InlineStyles({selector:l,styles:u,media:p}){let h=useMantineStyleNonce();return(0,x.jsx)("style",{"data-mantine-styles":"inline",nonce:h?.(),dangerouslySetInnerHTML:{__html:function({selector:l,styles:u,media:p}){let h=u?cssObjectToString(u):"",g=Array.isArray(p)?p.map(u=>`@media${u.query}{${l}{${cssObjectToString(u.styles)}}}`):[];return`${h?`${l}{${h}}`:""}${g.join("")}`.trim()}({selector:l,styles:u,media:p})}})}function transformModKey(l){return l.startsWith("data-")?l:`data-${l}`}function mergeStyles(l,u){return Array.isArray(l)?[...l].reduce((l,p)=>({...l,...mergeStyles(p,u)}),{}):"function"==typeof l?l(u):null==l?{}:l}function extractStyleProps(l){let{m:u,mx:p,my:h,mt:g,mb:T,ml:E,mr:v,me:C,ms:x,p:M,px:O,py:R,pt:L,pb:H,pl:U,pr:j,pe:G,ps:W,bg:q,c:Y,opacity:X,ff:Z,fz:er,fw:ea,lts:es,ta:el,lh:ec,fs:eu,tt:ed,td:ep,w:eh,miw:ef,maw:eg,h:ey,mih:eb,mah:eT,bgsz:eE,bgp:ev,bgr:ek,bga:eS,pos:eC,top:ew,left:ex,bottom:eA,right:e_,inset:eN,display:eM,flex:eO,hiddenFrom:eI,visibleFrom:eR,lightHidden:eL,darkHidden:eP,sx:eD,...eB}=l,eH=filterProps({m:u,mx:p,my:h,mt:g,mb:T,ml:E,mr:v,me:C,ms:x,p:M,px:O,py:R,pt:L,pb:H,pl:U,pr:j,pe:G,ps:W,bg:q,c:Y,opacity:X,ff:Z,fz:er,fw:ea,lts:es,ta:el,lh:ec,fs:eu,tt:ed,td:ep,w:eh,miw:ef,maw:eg,h:ey,mih:eb,mah:eT,bgsz:eE,bgp:ev,bgr:ek,bga:eS,pos:eC,top:ew,left:ex,bottom:eA,right:e_,inset:eN,display:eM,flex:eO,hiddenFrom:eI,visibleFrom:eR,lightHidden:eL,darkHidden:eP,sx:eD});return{styleProps:eH,rest:eB}}let W={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function colorResolver(l,u){let p=parseThemeColor({color:l,theme:u});return"dimmed"===p.color?"var(--mantine-color-dimmed)":"bright"===p.color?"var(--mantine-color-bright)":p.variable?`var(${p.variable})`:p.color}let q={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"},Y=["h1","h2","h3","h4","h5","h6"],X=["h1","h2","h3","h4","h5","h6"],Z={color:colorResolver,textColor:function(l,u){let p=parseThemeColor({color:l,theme:u});return p.isThemeColor&&void 0===p.shade?`var(--mantine-color-${p.color}-text)`:colorResolver(l,u)},fontSize:function(l,u){return"string"==typeof l&&l in u.fontSizes?`var(--mantine-font-size-${l})`:"string"==typeof l&&Y.includes(l)?`var(--mantine-${l}-font-size)`:"number"==typeof l||"string"==typeof l?M(l):l},spacing:function(l,u){if("number"==typeof l)return M(l);if("string"==typeof l){let p=l.replace("-","");if(!(p in u.spacing))return M(l);let h=`--mantine-spacing-${p}`;return l.startsWith("-")?`calc(var(${h}) * -1)`:`var(${h})`}return l},identity:function(l){return l},size:function(l){return"number"==typeof l?M(l):l},lineHeight:function(l,u){return"string"==typeof l&&l in u.lineHeights?`var(--mantine-line-height-${l})`:"string"==typeof l&&X.includes(l)?`var(--mantine-${l}-line-height)`:l},fontFamily:function(l){return"string"==typeof l&&l in q?q[l]:l}};function replaceMediaQuery(l){return l.replace("(min-width: ","").replace("em)","")}let er=(0,T.forwardRef)(({component:l,style:u,__vars:p,className:h,variant:g,mod:E,size:v,hiddenFrom:C,visibleFrom:M,lightHidden:O,darkHidden:R,renderRoot:L,...H},U)=>{let j=useMantineTheme(),G=l||"div",{styleProps:q,rest:Y}=extractStyleProps(H),X=useMantineContext().stylesTransform?.sx,er=X?.()?.(q.sx),ea=function(){let l=(0,T.useId)().replace(/:/g,"");return`__m__-${l}`}(),es=function({styleProps:l,data:u,theme:p}){return function({media:l,...u}){let p=Object.keys(l),h=p.sort((l,u)=>Number(replaceMediaQuery(l))-Number(replaceMediaQuery(u))).map(u=>({query:u,styles:l[u]}));return{...u,media:h}}(keys(l).reduce((h,g)=>{var T,E;if("hiddenFrom"===g||"visibleFrom"===g||"sx"===g)return h;let v=u[g],C=Array.isArray(v.property)?v.property:[v.property],x="object"==typeof(E=l[g])&&null!==E?"base"in E?E.base:void 0:E;if(!function(l){if("object"!=typeof l||null===l)return!1;let u=Object.keys(l);return 1!==u.length||"base"!==u[0]}(l[g]))return C.forEach(l=>{h.inlineStyles[l]=Z[v.type](x,p)}),h;h.hasResponsiveStyles=!0;let M="object"==typeof(T=l[g])&&null!==T?keys(T).filter(l=>"base"!==l):[];return C.forEach(u=>{x&&(h.styles[u]=Z[v.type](x,p)),M.forEach(T=>{var E;let C=`(min-width: ${p.breakpoints[T]})`;h.media[C]={...h.media[C],[u]:Z[v.type]("object"==typeof(E=l[g])&&null!==E&&T in E?E[T]:E,p)}})}),h},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}({styleProps:q,theme:j,data:W}),el={ref:U,style:function({theme:l,style:u,vars:p,styleProps:h}){let g=mergeStyles(u,l),T=mergeStyles(p,l);return{...g,...T,...h}}({theme:j,style:u,vars:p,styleProps:es.inlineStyles}),className:dist_clsx(h,er,{[ea]:es.hasResponsiveStyles,"mantine-light-hidden":O,"mantine-dark-hidden":R,[`mantine-hidden-from-${C}`]:C,[`mantine-visible-from-${M}`]:M}),"data-variant":g,"data-size":isNumberLike(v)?void 0:v||void 0,...function getBoxMod(l){return l?"string"==typeof l?{[transformModKey(l)]:!0}:Array.isArray(l)?[...l].reduce((l,u)=>({...l,...getBoxMod(u)}),{}):Object.keys(l).reduce((u,p)=>{let h=l[p];return void 0===h||""===h||!1===h||null===h||(u[transformModKey(p)]=l[p]),u},{}):null}(E),...Y};return(0,x.jsxs)(x.Fragment,{children:[es.hasResponsiveStyles&&(0,x.jsx)(InlineStyles,{selector:`.${ea}`,styles:es.styles,media:es.media}),"function"==typeof L?L(el):(0,x.jsx)(G,{...el})]})});function identity(l){return l}function factory(l){let u=(0,T.forwardRef)(l);return u.extend=identity,u}er.displayName="@mantine/core/Box";var ea={root:"m_4081bf90"};let es={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},varsResolver=(l,{grow:u,preventGrowOverflow:p,gap:h,align:g,justify:T,wrap:E},{childWidth:v})=>({root:{"--group-child-width":u&&p?v:void 0,"--group-gap":getSpacing(h),"--group-align":g,"--group-justify":T,"--group-wrap":E}}),el=factory((l,u)=>{let p=useProps("Group",es,l),{classNames:h,className:g,style:E,styles:v,unstyled:C,children:M,gap:O,align:R,justify:L,wrap:H,grow:U,preventGrowOverflow:j,vars:G,variant:W,__size:q,mod:Y,...X}=p,Z=T.Children.toArray(M).filter(Boolean),el=Z.length,ec=getSpacing(O??"md"),eu=`calc(${100/el}% - (${ec} - ${ec} / ${el}))`,ed=useStyles({name:"Group",props:p,stylesCtx:{childWidth:eu},className:g,style:E,classes:ea,classNames:h,styles:v,unstyled:C,vars:G,varsResolver});return(0,x.jsx)(er,{...ed("root"),ref:u,variant:W,mod:[{grow:U},Y],size:q,...X,children:Z})});el.classes=ea,el.displayName="@mantine/core/Group";var ec={root:"m_6d731127"};let eu={gap:"md",align:"stretch",justify:"flex-start"},Stack_varsResolver=(l,{gap:u,align:p,justify:h})=>({root:{"--stack-gap":getSpacing(u),"--stack-align":p,"--stack-justify":h}}),ed=factory((l,u)=>{let p=useProps("Stack",eu,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,align:M,justify:O,gap:R,variant:L,...H}=p,U=useStyles({name:"Stack",props:p,classes:ec,className:g,style:T,classNames:h,styles:E,unstyled:v,vars:C,varsResolver:Stack_varsResolver});return(0,x.jsx)(er,{ref:u,...U("root"),variant:L,...H})});function polymorphicFactory(l){let u=(0,T.forwardRef)(l);return u.extend=identity,u}ed.classes=ec,ed.displayName="@mantine/core/Stack";var ep={root:"m_b6d8b162"};let eh={inherit:!1},Text_varsResolver=(l,{variant:u,lineClamp:p,gradient:h,size:g,color:T})=>({root:{"--text-fz":getFontSize(g),"--text-lh":getSize(g,"mantine-line-height",!1),"--text-gradient":"gradient"===u?getGradient(h,l):void 0,"--text-line-clamp":"number"==typeof p?p.toString():void 0,"--text-color":T?getThemeColor(T,l):void 0}}),ef=polymorphicFactory((l,u)=>{let p=useProps("Text",eh,l),{lineClamp:h,truncate:g,inline:T,inherit:E,gradient:v,span:C,__staticSelector:M,vars:O,className:R,style:L,classNames:H,styles:U,unstyled:j,variant:G,mod:W,size:q,...Y}=p,X=useStyles({name:["Text",M],props:p,classes:ep,className:R,style:L,classNames:H,styles:U,unstyled:j,vars:O,varsResolver:Text_varsResolver});return(0,x.jsx)(er,{...X("root",{focusable:!0}),ref:u,component:C?"span":"p",variant:G,mod:[{"data-truncate":"start"===g?"start":"end"===g||g?"end":void 0,"data-line-clamp":"number"==typeof h,"data-inline":T,"data-inherit":E},W],size:q,...Y})});function assignRef(l,u){"function"==typeof l?l(u):"object"==typeof l&&null!==l&&"current"in l&&(l.current=u)}function useMergedRef(...l){return(0,T.useCallback)(function(...l){return u=>{l.forEach(l=>assignRef(l,u))}}(...l),l)}function isElement(l){return!Array.isArray(l)&&null!==l&&"object"==typeof l&&l.type!==T.Fragment}ef.classes=ep,ef.displayName="@mantine/core/Text";let eg={modal:200,popover:300,overlay:400},ey=(0,T.createContext)({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function useDirection(){return(0,T.useContext)(ey)}function getFloatingPosition(l,u){if("rtl"===l&&(u.includes("right")||u.includes("left"))){let[l,p]=u.split("-"),h="right"===l?"left":"right";return void 0===p?h:`${h}-${p}`}return u}function horizontalSide(l,u,p,h){return"center"===l||"center"===h?{top:u}:"end"===l?{bottom:p}:"start"===l?{top:p}:{}}function verticalSide(l,u,p,h,g){return"center"===l||"center"===h?{left:u}:"end"===l?{["ltr"===g?"right":"left"]:p}:"start"===l?{["ltr"===g?"left":"right"]:p}:{}}let eb={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"},eT=(0,T.forwardRef)(({position:l,arrowSize:u,arrowOffset:p,arrowRadius:h,arrowPosition:g,visible:T,arrowX:E,arrowY:v,style:C,...O},R)=>{let{dir:L}=useDirection();return T?(0,x.jsx)("div",{...O,ref:R,style:{...C,...function({position:l,arrowSize:u,arrowOffset:p,arrowRadius:h,arrowPosition:g,arrowX:T,arrowY:E,dir:v}){let[C,x="center"]=l.split("-"),O={width:M(u),height:M(u),transform:"rotate(45deg)",position:"absolute",[eb[C]]:M(h)},R=M(-u/2);return"left"===C?{...O,...horizontalSide(x,E,p,g),right:R,borderLeftColor:"transparent",borderBottomColor:"transparent"}:"right"===C?{...O,...horizontalSide(x,E,p,g),left:R,borderRightColor:"transparent",borderTopColor:"transparent"}:"top"===C?{...O,...verticalSide(x,T,p,g,v),bottom:R,borderTopColor:"transparent",borderLeftColor:"transparent"}:"bottom"===C?{...O,...verticalSide(x,T,p,g,v),top:R,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}({position:l,arrowSize:u,arrowOffset:p,arrowRadius:h,arrowPosition:g,dir:L,arrowX:E,arrowY:v})}}):null});eT.displayName="@mantine/core/FloatingArrow";var eE=p(85202);let ev="undefined"!=typeof document?T.useLayoutEffect:T.useEffect,ek={},eS=(0,T.forwardRef)((l,u)=>{let{children:p,target:h,...g}=useProps("Portal",ek,l),[E,v]=(0,T.useState)(!1),C=(0,T.useRef)(null);return(ev(()=>(v(!0),C.current=h?"string"==typeof h?document.querySelector(h):h:function(l){let u=document.createElement("div");return u.setAttribute("data-portal","true"),"string"==typeof l.className&&u.classList.add(...l.className.split(" ").filter(Boolean)),"object"==typeof l.style&&Object.assign(u.style,l.style),"string"==typeof l.id&&u.setAttribute("id",l.id),u}(g),assignRef(u,C.current),!h&&C.current&&document.body.appendChild(C.current),()=>{!h&&C.current&&document.body.removeChild(C.current)}),[h]),E&&C.current)?(0,eE.createPortal)((0,x.jsx)(x.Fragment,{children:p}),C.current):null});function OptionalPortal({withinPortal:l=!0,children:u,...p}){return l?(0,x.jsx)(eS,{...p,children:u}):(0,x.jsx)(x.Fragment,{children:u})}eS.displayName="@mantine/core/Portal",OptionalPortal.displayName="@mantine/core/OptionalPortal";let popIn=l=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${M("bottom"===l?10:-10)})`},transitionProperty:"transform, opacity"}),eC={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${M(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${M(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${M(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${M(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${M(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${M(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${M(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${M(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...popIn("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...popIn("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...popIn("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...popIn("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...popIn("top"),common:{transformOrigin:"top right"}}},ew={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function useDidUpdate(l,u){let p=(0,T.useRef)(!1);(0,T.useEffect)(()=>()=>{p.current=!1},[]),(0,T.useEffect)(()=>{if(p.current)return l();p.current=!0},u)}function Transition({keepMounted:l,transition:u="fade",duration:p=250,exitDuration:h=p,mounted:g,children:E,timingFunction:v="ease",onExit:C,onEntered:M,onEnter:O,onExited:R}){let{transitionDuration:L,transitionStatus:H,transitionTimingFunction:U}=function({duration:l,exitDuration:u,timingFunction:p,mounted:h,onEnter:g,onExit:E,onEntered:v,onExited:C}){let x=useMantineTheme(),M=function(l,u,{getInitialValueInEffect:p}={getInitialValueInEffect:!0}){var h;let[g,E]=(0,T.useState)(p?u:"boolean"==typeof h?h:!!("undefined"!=typeof window&&"matchMedia"in window)&&window.matchMedia(l).matches),v=(0,T.useRef)();return(0,T.useEffect)(()=>{if("matchMedia"in window)return v.current=window.matchMedia(l),E(v.current.matches),function(l,u){try{return l.addEventListener("change",u),()=>l.removeEventListener("change",u)}catch(p){return l.addListener(u),()=>l.removeListener(u)}}(v.current,l=>E(l.matches))},[l]),g}("(prefers-reduced-motion: reduce)",void 0,void 0),O=!!x.respectReducedMotion&&M,[R,L]=(0,T.useState)(O?0:l),[H,U]=(0,T.useState)(h?"entered":"exited"),j=(0,T.useRef)(-1),G=(0,T.useRef)(-1),handleStateChange=p=>{let h=p?g:E,T=p?v:C;window.clearTimeout(j.current);let x=O?0:p?l:u;L(x),0===x?("function"==typeof h&&h(),"function"==typeof T&&T(),U(p?"entered":"exited")):G.current=requestAnimationFrame(()=>{eE.flushSync(()=>{U(p?"pre-entering":"pre-exiting")}),G.current=requestAnimationFrame(()=>{"function"==typeof h&&h(),U(p?"entering":"exiting"),j.current=window.setTimeout(()=>{"function"==typeof T&&T(),U(p?"entered":"exited")},x)})})};return useDidUpdate(()=>{handleStateChange(h)},[h]),(0,T.useEffect)(()=>()=>{window.clearTimeout(j.current),cancelAnimationFrame(G.current)},[]),{transitionDuration:R,transitionStatus:H,transitionTimingFunction:p||"ease"}}({mounted:g,exitDuration:h,duration:p,timingFunction:v,onExit:C,onEntered:M,onEnter:O,onExited:R});return 0===L?g?(0,x.jsx)(x.Fragment,{children:E({})}):l?E({display:"none"}):null:"exited"===H?l?E({display:"none"}):null:(0,x.jsx)(x.Fragment,{children:E(function({transition:l,state:u,duration:p,timingFunction:h}){let g={transitionDuration:`${p}ms`,transitionTimingFunction:h};return"string"==typeof l?l in eC?{transitionProperty:eC[l].transitionProperty,...g,...eC[l].common,...eC[l][ew[u]]}:{}:{transitionProperty:l.transitionProperty,...g,...l.common,...l[ew[u]]}}({transition:u,duration:L,state:H,timingFunction:U}))})}Transition.displayName="@mantine/core/Transition";let ex={duration:100,transition:"fade"};var eA=p(68504),e_={tooltip:"m_1b3c8819",arrow:"m_f898399f"};let eN={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:eg.popover},TooltipFloating_varsResolver=(l,{radius:u,color:p})=>({tooltip:{"--tooltip-radius":void 0===u?void 0:getRadius(u),"--tooltip-bg":p?getThemeColor(p,l):void 0,"--tooltip-color":p?"var(--mantine-color-white)":void 0}}),eM=factory((l,u)=>{let p=useProps("TooltipFloating",eN,l),{children:h,refProp:g,withinPortal:E,style:M,className:O,classNames:R,styles:L,unstyled:H,radius:U,color:j,label:G,offset:W,position:q,multiline:Y,zIndex:X,disabled:Z,variant:ea,vars:es,portalProps:el,...ec}=p,eu=useMantineTheme(),ed=useStyles({name:"TooltipFloating",props:p,classes:e_,className:O,style:M,classNames:R,styles:L,unstyled:H,rootSelector:"tooltip",vars:es,varsResolver:TooltipFloating_varsResolver}),{handleMouseMove:ep,x:eh,y:ef,opened:eg,boundaryRef:ey,floating:eb,setOpened:eT}=function({offset:l,position:u}){let[p,h]=(0,T.useState)(!1),g=(0,T.useRef)(),{x:E,y:x,elements:M,refs:O,update:R,placement:L}=(0,v.YF)({placement:u,middleware:[(0,C.uY)({crossAxis:!0,padding:5,rootBoundary:"document"})]}),H=L.includes("right")?l:u.includes("left")?-1*l:0,U=L.includes("bottom")?l:u.includes("top")?-1*l:0,j=(0,T.useCallback)(({clientX:l,clientY:u})=>{O.setPositionReference({getBoundingClientRect:()=>({width:0,height:0,x:l,y:u,left:l+H,top:u+U,right:l,bottom:u})})},[M.reference]);return(0,T.useEffect)(()=>{if(O.floating.current){let l=g.current;l.addEventListener("mousemove",j);let u=(0,eA.Kx)(O.floating.current);return u.forEach(l=>{l.addEventListener("scroll",R)}),()=>{l.removeEventListener("mousemove",j),u.forEach(l=>{l.removeEventListener("scroll",R)})}}},[M.reference,O.floating.current,R,j,p]),{handleMouseMove:j,x:E,y:x,opened:p,setOpened:h,boundaryRef:g,floating:O.setFloating}}({offset:W,position:q});if(!isElement(h))throw Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");let eE=useMergedRef(ey,h.ref,u);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(OptionalPortal,{...el,withinPortal:E,children:(0,x.jsx)(er,{...ec,...ed("tooltip",{style:{...function getStyleObject(l,u){return Array.isArray(l)?[...l].reduce((l,p)=>({...l,...getStyleObject(p,u)}),{}):"function"==typeof l?l(u):null==l?{}:l}(M,eu),zIndex:X,display:!Z&&eg?"block":"none",top:(ef&&Math.round(ef))??"",left:(eh&&Math.round(eh))??""}}),variant:ea,ref:eb,mod:{multiline:Y},children:G})}),(0,T.cloneElement)(h,{...h.props,[g]:eE,onMouseEnter:l=>{h.props.onMouseEnter?.(l),ep(l),eT(!0)},onMouseLeave:l=>{h.props.onMouseLeave?.(l),eT(!1)}})]})});eM.classes=e_,eM.displayName="@mantine/core/TooltipFloating";let eO=(0,T.createContext)(!1),eI=eO.Provider,useTooltipGroupContext=()=>(0,T.useContext)(eO),eR={openDelay:0,closeDelay:0};function TooltipGroup(l){let{openDelay:u,closeDelay:p,children:h}=useProps("TooltipGroup",eR,l);return(0,x.jsx)(eI,{value:!0,children:(0,x.jsx)(v.e0,{delay:{open:u,close:p},children:h})})}TooltipGroup.displayName="@mantine/core/TooltipGroup";var eL=p(19151);function randomId(){return`mantine-${Math.random().toString(36).slice(2,11)}`}let eP=T["useId".toString()]||(()=>void 0);function useId(l){let u=function(){let l=eP();return l?`mantine-${l.replace(/:/g,"")}`:""}(),[p,h]=(0,T.useState)(u);return(ev(()=>{h(randomId())},[]),"string"==typeof l)?l:"undefined"==typeof window?u:p}function useFloatingAutoUpdate({opened:l,floating:u,position:p,positionDependencies:h}){let[g,E]=(0,T.useState)(0);(0,T.useEffect)(()=>{if(u.refs.reference.current&&u.refs.floating.current)return(0,C.Me)(u.refs.reference.current,u.refs.floating.current,u.update)},[u.refs.reference.current,u.refs.floating.current,l,g,p]),useDidUpdate(()=>{u.update()},h),useDidUpdate(()=>{E(l=>l+1)},[l])}let eD={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:eg.popover,positionDependencies:[]},Tooltip_varsResolver=(l,{radius:u,color:p})=>({tooltip:{"--tooltip-radius":void 0===u?void 0:getRadius(u),"--tooltip-bg":p?getThemeColor(p,l):void 0,"--tooltip-color":p?"var(--mantine-color-white)":void 0}}),eB=factory((l,u)=>{let p=useProps("Tooltip",eD,l),{children:h,position:g,refProp:E,label:M,openDelay:O,closeDelay:R,onPositionChange:L,opened:H,withinPortal:U,radius:j,color:G,classNames:W,styles:q,unstyled:Y,style:X,className:Z,withArrow:ea,arrowSize:es,arrowOffset:el,arrowRadius:ec,arrowPosition:eu,offset:ed,transitionProps:ep,multiline:eh,events:ef,zIndex:eg,disabled:ey,positionDependencies:eb,onClick:eE,onMouseEnter:ev,onMouseLeave:ek,inline:eS,variant:eC,keepMounted:ew,vars:eA,portalProps:eN,mod:eM,floatingStrategy:eO,...eI}=useProps("Tooltip",eD,p),{dir:eR}=useDirection(),eP=(0,T.useRef)(null),eB=function(l){let[u,p]=(0,T.useState)(!1),h="boolean"==typeof l.opened,g=h?l.opened:u,E=useTooltipGroupContext(),x=useId(),{delay:M,currentId:O,setCurrentId:R}=(0,v.tj)(),L=(0,T.useCallback)(l=>{p(l),l&&R(x)},[R,x]),{x:H,y:U,context:j,refs:G,update:W,placement:q,middlewareData:{arrow:{x:Y,y:X}={}}}=(0,v.YF)({strategy:l.strategy,placement:l.position,open:g,onOpenChange:L,middleware:[(0,C.cv)(l.offset),(0,C.uY)({padding:8}),(0,C.RR)(),(0,eL.x7)({element:l.arrowRef,padding:l.arrowOffset}),...l.inline?[(0,C.Qo)()]:[]]}),{getReferenceProps:Z,getFloatingProps:er}=(0,v.NI)([(0,v.XI)(j,{enabled:l.events?.hover,delay:E?M:{open:l.openDelay,close:l.closeDelay},mouseOnly:!l.events?.touch}),(0,v.KK)(j,{enabled:l.events?.focus,visibleOnly:!0}),(0,v.qs)(j,{role:"tooltip"}),(0,v.bQ)(j,{enabled:void 0===l.opened}),(0,v.Qu)(j,{id:x})]);useFloatingAutoUpdate({opened:g,position:l.position,positionDependencies:l.positionDependencies,floating:{refs:G,update:W}}),useDidUpdate(()=>{l.onPositionChange?.(q)},[q]);let ea=g&&O&&O!==x;return{x:H,y:U,arrowX:Y,arrowY:X,reference:G.setReference,floating:G.setFloating,getFloatingProps:er,getReferenceProps:Z,isGroupPhase:ea,opened:g,placement:q}}({position:getFloatingPosition(eR,g),closeDelay:R,openDelay:O,onPositionChange:L,opened:H,events:ef,arrowRef:eP,arrowOffset:el,offset:"number"==typeof ed?ed+(ea?es/2:0):ed,positionDependencies:[...eb,h],inline:eS,strategy:eO}),eH=useStyles({name:"Tooltip",props:p,classes:e_,className:Z,style:X,classNames:W,styles:q,unstyled:Y,rootSelector:"tooltip",vars:eA,varsResolver:Tooltip_varsResolver});if(!isElement(h))throw Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");let eF=useMergedRef(eB.reference,h.ref,u),eU={...ex,duration:100,transition:"fade",...ep};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(OptionalPortal,{...eN,withinPortal:U,children:(0,x.jsx)(Transition,{...eU,keepMounted:ew,mounted:!ey&&!!eB.opened,duration:eB.isGroupPhase?10:eU.duration,children:l=>(0,x.jsxs)(er,{...eI,variant:eC,mod:[{multiline:eh},eM],...eB.getFloatingProps({ref:eB.floating,className:eH("tooltip").className,style:{...eH("tooltip").style,...l,zIndex:eg,top:eB.y??0,left:eB.x??0}}),children:[M,(0,x.jsx)(eT,{ref:eP,arrowX:eB.arrowX,arrowY:eB.arrowY,visible:ea,position:eB.placement,arrowSize:es,arrowOffset:el,arrowRadius:ec,arrowPosition:eu,...eH("arrow")})]})})}),(0,T.cloneElement)(h,eB.getReferenceProps({onClick:eE,onMouseEnter:ev,onMouseLeave:ek,onMouseMove:p.onMouseMove,onPointerDown:p.onPointerDown,onPointerEnter:p.onPointerEnter,[E]:eF,className:dist_clsx(Z,h.props.className),...h.props}))]})});eB.classes=e_,eB.displayName="@mantine/core/Tooltip",eB.Floating=eM,eB.Group=TooltipGroup;var eH={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};let eF=(0,T.forwardRef)(({className:l,...u},p)=>(0,x.jsxs)(er,{component:"span",className:dist_clsx(eH.barsLoader,l),...u,ref:p,children:[(0,x.jsx)("span",{className:eH.bar}),(0,x.jsx)("span",{className:eH.bar}),(0,x.jsx)("span",{className:eH.bar})]})),eU=(0,T.forwardRef)(({className:l,...u},p)=>(0,x.jsxs)(er,{component:"span",className:dist_clsx(eH.dotsLoader,l),...u,ref:p,children:[(0,x.jsx)("span",{className:eH.dot}),(0,x.jsx)("span",{className:eH.dot}),(0,x.jsx)("span",{className:eH.dot})]})),ej=(0,T.forwardRef)(({className:l,...u},p)=>(0,x.jsx)(er,{component:"span",className:dist_clsx(eH.ovalLoader,l),...u,ref:p})),ez={bars:eF,oval:ej,dots:eU},eV={loaders:ez,type:"oval"},Loader_varsResolver=(l,{size:u,color:p})=>({root:{"--loader-size":getSize(u,"loader-size"),"--loader-color":p?getThemeColor(p,l):void 0}}),e$=factory((l,u)=>{let p=useProps("Loader",eV,l),{size:h,color:g,type:T,vars:E,className:v,style:C,classNames:M,styles:O,unstyled:R,loaders:L,variant:H,children:U,...j}=p,G=useStyles({name:"Loader",props:p,classes:eH,className:v,style:C,classNames:M,styles:O,unstyled:R,vars:E,varsResolver:Loader_varsResolver});return U?(0,x.jsx)(er,{...G("root"),ref:u,...j,children:U}):(0,x.jsx)(er,{...G("root"),ref:u,component:L[T],variant:H,size:h,...j})});e$.defaultLoaders=ez,e$.classes=eH,e$.displayName="@mantine/core/Loader";var eG={root:"m_87cf2631"};let eK={__staticSelector:"UnstyledButton"},eW=polymorphicFactory((l,u)=>{let p=useProps("UnstyledButton",eK,l),{className:h,component:g="button",__staticSelector:T,unstyled:E,classNames:v,styles:C,style:M,...O}=p,R=useStyles({name:T,props:p,classes:eG,className:h,style:M,classNames:v,styles:C,unstyled:E});return(0,x.jsx)(er,{...R("root",{focusable:!0}),component:g,ref:u,type:"button"===g?"button":void 0,...O})});eW.classes=eG,eW.displayName="@mantine/core/UnstyledButton";var eq={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};let eY={orientation:"horizontal"},ButtonGroup_varsResolver=(l,{borderWidth:u})=>({group:{"--button-border-width":M(u)}}),eQ=factory((l,u)=>{let p=useProps("ButtonGroup",eY,l),{className:h,style:g,classNames:T,styles:E,unstyled:v,orientation:C,vars:M,borderWidth:O,variant:R,mod:L,...H}=useProps("ButtonGroup",eY,l),U=useStyles({name:"ButtonGroup",props:p,classes:eq,className:h,style:g,classNames:T,styles:E,unstyled:v,vars:M,varsResolver:ButtonGroup_varsResolver,rootSelector:"group"});return(0,x.jsx)(er,{...U("group"),ref:u,variant:R,mod:[{"data-orientation":C},L],role:"group",...H})});eQ.classes=eq,eQ.displayName="@mantine/core/ButtonGroup";let eJ={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${M(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},eX={},Button_varsResolver=(l,{radius:u,color:p,gradient:h,variant:g,size:T,justify:E,autoContrast:v})=>{let C=l.variantColorResolver({color:p||l.primaryColor,theme:l,gradient:h,variant:g||"filled",autoContrast:v});return{root:{"--button-justify":E,"--button-height":getSize(T,"button-height"),"--button-padding-x":getSize(T,"button-padding-x"),"--button-fz":T?.includes("compact")?getFontSize(T.replace("compact-","")):getFontSize(T),"--button-radius":void 0===u?void 0:getRadius(u),"--button-bg":p||g?C.background:void 0,"--button-hover":p||g?C.hover:void 0,"--button-color":C.color,"--button-bd":p||g?C.border:void 0,"--button-hover-color":p||g?C.hoverColor:void 0}}},eZ=polymorphicFactory((l,u)=>{let p=useProps("Button",eX,l),{style:h,vars:g,className:T,color:E,disabled:v,children:C,leftSection:M,rightSection:O,fullWidth:R,variant:L,radius:H,loading:U,loaderProps:j,gradient:G,classNames:W,styles:q,unstyled:Y,"data-disabled":X,autoContrast:Z,mod:ea,...es}=p,el=useStyles({name:"Button",props:p,classes:eq,className:T,style:h,classNames:W,styles:q,unstyled:Y,vars:g,varsResolver:Button_varsResolver});return(0,x.jsxs)(eW,{ref:u,...el("root",{active:!v&&!U&&!X}),unstyled:Y,variant:L,disabled:v||U,mod:[{disabled:v||X,loading:U,block:R,"with-left-section":!!M,"with-right-section":!!O},ea],...es,children:[(0,x.jsx)(Transition,{mounted:!!U,transition:eJ,duration:150,children:l=>(0,x.jsx)(er,{component:"span",...el("loader",{style:l}),"aria-hidden":!0,children:(0,x.jsx)(e$,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...j})})}),(0,x.jsxs)("span",{...el("inner"),children:[M&&(0,x.jsx)(er,{component:"span",...el("section"),mod:{position:"left"},children:M}),(0,x.jsx)(er,{component:"span",mod:{loading:U},...el("label"),children:C}),O&&(0,x.jsx)(er,{component:"span",...el("section"),mod:{position:"right"},children:O})]})]})});eZ.classes=eq,eZ.displayName="@mantine/core/Button",eZ.Group=eQ;var e1={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};let e0={orientation:"horizontal"},ActionIconGroup_varsResolver=(l,{borderWidth:u})=>({group:{"--ai-border-width":M(u)}}),e9=factory((l,u)=>{let p=useProps("ActionIconGroup",e0,l),{className:h,style:g,classNames:T,styles:E,unstyled:v,orientation:C,vars:M,borderWidth:O,variant:R,mod:L,...H}=useProps("ActionIconGroup",e0,l),U=useStyles({name:"ActionIconGroup",props:p,classes:e1,className:h,style:g,classNames:T,styles:E,unstyled:v,vars:M,varsResolver:ActionIconGroup_varsResolver,rootSelector:"group"});return(0,x.jsx)(er,{...U("group"),ref:u,variant:R,mod:[{"data-orientation":C},L],role:"group",...H})});e9.classes=e1,e9.displayName="@mantine/core/ActionIconGroup";let e5={},ActionIcon_varsResolver=(l,{size:u,radius:p,variant:h,gradient:g,color:T,autoContrast:E})=>{let v=l.variantColorResolver({color:T||l.primaryColor,theme:l,gradient:g,variant:h||"filled",autoContrast:E});return{root:{"--ai-size":getSize(u,"ai-size"),"--ai-radius":void 0===p?void 0:getRadius(p),"--ai-bg":T||h?v.background:void 0,"--ai-hover":T||h?v.hover:void 0,"--ai-hover-color":T||h?v.hoverColor:void 0,"--ai-color":v.color,"--ai-bd":T||h?v.border:void 0}}},e4=polymorphicFactory((l,u)=>{let p=useProps("ActionIcon",e5,l),{className:h,unstyled:g,variant:T,classNames:E,styles:v,style:C,loading:M,loaderProps:O,size:R,color:L,radius:H,__staticSelector:U,gradient:j,vars:G,children:W,disabled:q,"data-disabled":Y,autoContrast:X,mod:Z,...ea}=p,es=useStyles({name:["ActionIcon",U],props:p,className:h,style:C,classes:e1,classNames:E,styles:v,unstyled:g,vars:G,varsResolver:ActionIcon_varsResolver});return(0,x.jsxs)(eW,{...es("root",{active:!q&&!M&&!Y}),...ea,unstyled:g,variant:T,size:R,disabled:q||M,ref:u,mod:[{loading:M,disabled:q||Y},Z],children:[(0,x.jsx)(Transition,{mounted:!!M,transition:"slide-down",duration:150,children:l=>(0,x.jsx)(er,{component:"span",...es("loader",{style:l}),"aria-hidden":!0,children:(0,x.jsx)(e$,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...O})})}),(0,x.jsx)(er,{component:"span",mod:{loading:M},...es("icon"),children:W})]})});function useUncontrolled({value:l,defaultValue:u,finalValue:p,onChange:h=()=>{}}){let[g,E]=(0,T.useState)(void 0!==u?u:p);return void 0!==l?[l,h,!0]:[g,(l,...u)=>{E(l),h?.(l,...u)},!1]}function findElementAncestor(l,u){let p=l;for(;(p=p.parentElement)&&!p.matches(u););return p}e4.classes=e1,e4.displayName="@mantine/core/ActionIcon",e4.Group=e9;let e2=["mousedown","touchstart"];function createSafeContext(l){let u=(0,T.createContext)(null);return[({children:l,value:p})=>(0,x.jsx)(u.Provider,{value:p,children:l}),()=>{let p=(0,T.useContext)(u);if(null===p)throw Error(l);return p}]}let[e8,e6]=createSafeContext("Popover component was not found in the tree"),noop=()=>{},e3=/input|select|textarea|button|object/,e7="a, input, select, textarea, button, object, [tabindex]";function getElementTabIndex(l){let u=l.getAttribute("tabindex");return null===u&&(u=void 0),parseInt(u,10)}function focusable(l){let u=l.nodeName.toLowerCase(),p=!Number.isNaN(getElementTabIndex(l)),h=e3.test(u)&&!l.disabled||l instanceof HTMLAnchorElement&&l.href||p;return h&&function(l){let u=l.getAttribute("aria-hidden")||l.getAttribute("hidden")||"hidden"===l.getAttribute("type");if(u)return!1;let p=l;for(;p&&p!==document.body&&11!==p.nodeType;){if("none"===p.style.display)return!1;p=p.parentNode}return!0}(l)}function tabbable(l){let u=getElementTabIndex(l),p=Number.isNaN(u);return(p||u>=0)&&focusable(l)}var tn={root:"m_515a97f8"};let tr={},ti=factory((l,u)=>{let p=useProps("VisuallyHidden",tr,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,...M}=p,O=useStyles({name:"VisuallyHidden",classes:tn,props:p,className:g,style:T,classNames:h,styles:E,unstyled:v});return(0,x.jsx)(er,{component:"span",ref:u,...O("root"),...M})});function FocusTrap({children:l,active:u=!0,refProp:p="ref"}){let h=function(l=!0){let u=(0,T.useRef)(),p=(0,T.useRef)(null),focusNode=l=>{let u=l.querySelector("[data-autofocus]");if(!u){let p=Array.from(l.querySelectorAll(e7));!(u=p.find(tabbable)||p.find(focusable)||null)&&focusable(l)&&(u=l)}u&&u.focus({preventScroll:!0})},h=(0,T.useCallback)(h=>{if(l){if(null===h){p.current&&(p.current(),p.current=null);return}p.current=function(l,u="body > :not(script)"){let p=randomId(),h=Array.from(document.querySelectorAll(u)).map(u=>{if(u?.shadowRoot?.contains(l)||u.contains(l))return;let h=u.getAttribute("aria-hidden"),g=u.getAttribute("data-hidden"),T=u.getAttribute("data-focus-id");return u.setAttribute("data-focus-id",p),null===h||"false"===h?u.setAttribute("aria-hidden","true"):g||T||u.setAttribute("data-hidden",h),{node:u,ariaHidden:g||null}});return()=>{h.forEach(l=>{l&&p===l.node.getAttribute("data-focus-id")&&(null===l.ariaHidden?l.node.removeAttribute("aria-hidden"):l.node.setAttribute("aria-hidden",l.ariaHidden),l.node.removeAttribute("data-focus-id"),l.node.removeAttribute("data-hidden"))})}}(h),u.current!==h&&(h?(setTimeout(()=>{h.getRootNode()&&focusNode(h)}),u.current=h):u.current=null)}},[l]);return(0,T.useEffect)(()=>{if(!l)return;u.current&&setTimeout(()=>focusNode(u.current));let handleKeyDown=l=>{"Tab"===l.key&&u.current&&function(l,u){let p=Array.from(l.querySelectorAll(e7)).filter(tabbable);if(!p.length){u.preventDefault();return}let h=p[u.shiftKey?0:p.length-1],g=l.getRootNode(),T=h===g.activeElement||l===g.activeElement,E=g.activeElement,v="INPUT"===E.tagName&&"radio"===E.getAttribute("type");if(v){let l=p.filter(l=>"radio"===l.getAttribute("type")&&l.getAttribute("name")===E.getAttribute("name"));T=l.includes(h)}if(!T)return;u.preventDefault();let C=p[u.shiftKey?p.length-1:0];C&&C.focus()}(u.current,l)};return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown),p.current&&p.current()}},[l]),h}(u),g=useMergedRef(h,l?.ref);return isElement(l)?(0,T.cloneElement)(l,{[p]:g}):l}function FocusTrapInitialFocus(l){return(0,x.jsx)(ti,{tabIndex:-1,"data-autofocus":!0,...l})}ti.classes=tn,ti.displayName="@mantine/core/VisuallyHidden",FocusTrap.displayName="@mantine/core/FocusTrap",FocusTrapInitialFocus.displayName="@mantine/core/FocusTrapInitialFocus",FocusTrap.InitialFocus=FocusTrapInitialFocus;var tl={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};let tc={},tu=factory((l,u)=>{let p=useProps("PopoverDropdown",tc,l),{className:h,style:g,vars:E,children:v,onKeyDownCapture:C,variant:O,classNames:R,styles:L,...H}=p,U=e6(),j=function({opened:l,shouldReturnFocus:u=!0}){let p=(0,T.useRef)(),returnFocus=()=>{p.current&&"focus"in p.current&&"function"==typeof p.current.focus&&p.current?.focus({preventScroll:!0})};return useDidUpdate(()=>{let h=-1,clearFocusTimeout=l=>{"Tab"===l.key&&window.clearTimeout(h)};return document.addEventListener("keydown",clearFocusTimeout),l?p.current=document.activeElement:u&&(h=window.setTimeout(returnFocus,10)),()=>{window.clearTimeout(h),document.removeEventListener("keydown",clearFocusTimeout)}},[l,u]),returnFocus}({opened:U.opened,shouldReturnFocus:U.returnFocus}),G=U.withRoles?{"aria-labelledby":U.getTargetId(),id:U.getDropdownId(),role:"dialog",tabIndex:-1}:{},W=useMergedRef(u,U.floating);return U.disabled?null:(0,x.jsx)(OptionalPortal,{...U.portalProps,withinPortal:U.withinPortal,children:(0,x.jsx)(Transition,{mounted:U.opened,...U.transitionProps,transition:U.transitionProps?.transition||"fade",duration:U.transitionProps?.duration??150,keepMounted:U.keepMounted,exitDuration:"number"==typeof U.transitionProps?.exitDuration?U.transitionProps.exitDuration:U.transitionProps?.duration,children:l=>(0,x.jsx)(FocusTrap,{active:U.trapFocus,children:(0,x.jsxs)(er,{...G,...H,variant:O,ref:W,onKeyDownCapture:function(l,u={active:!0}){return"function"==typeof l&&u.active?p=>{"Escape"===p.key&&(l(p),u.onTrigger?.())}:u.onKeyDown||noop}(U.onClose,{active:U.closeOnEscape,onTrigger:j,onKeyDown:C}),"data-position":U.placement,...U.getStyles("dropdown",{className:h,props:p,classNames:R,styles:L,style:[{...l,zIndex:U.zIndex,top:U.y??0,left:U.x??0,width:"target"===U.width?void 0:M(U.width)},g]}),children:[v,(0,x.jsx)(eT,{ref:U.arrowRef,arrowX:U.arrowX,arrowY:U.arrowY,visible:U.withArrow,position:U.placement,arrowSize:U.arrowSize,arrowRadius:U.arrowRadius,arrowOffset:U.arrowOffset,arrowPosition:U.arrowPosition,...U.getStyles("arrow",{props:p,classNames:R,styles:L})})]})})})})});tu.classes=tl,tu.displayName="@mantine/core/PopoverDropdown";let td={refProp:"ref",popupType:"dialog"},tp=factory((l,u)=>{let{children:p,refProp:h,popupType:g,...E}=useProps("PopoverTarget",td,l);if(!isElement(p))throw Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");let v=e6(),C=useMergedRef(v.reference,p.ref,u),x=v.withRoles?{"aria-haspopup":g,"aria-expanded":v.opened,"aria-controls":v.getDropdownId(),id:v.getTargetId()}:{};return(0,T.cloneElement)(p,{...E,...x,...v.targetProps,className:dist_clsx(v.targetProps.className,E.className,p.props.className),[h]:C,...v.controlled?null:{onClick:v.onToggle}})});tp.displayName="@mantine/core/PopoverTarget";let th={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:eg.popover,__staticSelector:"Popover",width:"max-content"},Popover_varsResolver=(l,{radius:u,shadow:p})=>({dropdown:{"--popover-radius":void 0===u?void 0:getRadius(u),"--popover-shadow":function(l){if(l)return getSize(l,"mantine-shadow",!1)}(p)}});function Popover(l){let u=useProps("Popover",th,l),{children:p,position:h,offset:g,onPositionChange:E,positionDependencies:M,opened:O,transitionProps:R,width:L,middlewares:H,withArrow:U,arrowSize:j,arrowOffset:G,arrowRadius:W,arrowPosition:q,unstyled:Y,classNames:X,styles:Z,closeOnClickOutside:er,withinPortal:ea,portalProps:es,closeOnEscape:el,clickOutsideEvents:ec,trapFocus:eu,onClose:ed,onOpen:ep,onChange:eh,zIndex:ef,radius:eg,shadow:ey,id:eb,defaultOpened:eT,__staticSelector:eE,withRoles:ev,disabled:ek,returnFocus:eS,variant:eC,keepMounted:ew,vars:ex,floatingStrategy:eA,...e_}=u,eN=useStyles({name:eE,props:u,classes:tl,classNames:X,styles:Z,unstyled:Y,rootSelector:"dropdown",vars:ex,varsResolver:Popover_varsResolver}),eM=(0,T.useRef)(null),[eO,eI]=(0,T.useState)(null),[eR,eP]=(0,T.useState)(null),{dir:eD}=useDirection(),eB=useId(eb),eH=function(l){let[u,p]=useUncontrolled({value:l.opened,defaultValue:l.defaultOpened,finalValue:!1,onChange:l.onChange}),h=(0,v.YF)({strategy:l.strategy,placement:l.position,middleware:function(l,u){let p=function(l){if(void 0===l)return{shift:!0,flip:!0};let u={...l};return void 0===l.shift&&(u.shift=!0),void 0===l.flip&&(u.flip=!0),u}(l.middlewares),h=[(0,C.cv)(l.offset)];return p.shift&&h.push((0,C.uY)("boolean"==typeof p.shift?{limiter:(0,C.dr)(),padding:5}:{limiter:(0,C.dr)(),padding:5,...p.shift})),p.flip&&h.push("boolean"==typeof p.flip?(0,C.RR)():(0,C.RR)(p.flip)),p.inline&&h.push("boolean"==typeof p.inline?(0,C.Qo)():(0,C.Qo)(p.inline)),h.push((0,eL.x7)({element:l.arrowRef,padding:l.arrowOffset})),(p.size||"target"===l.width)&&h.push((0,C.dp)({..."boolean"==typeof p.size?{}:p.size,apply({rects:h,availableWidth:g,availableHeight:T}){let E=u(),v=E.refs.floating.current?.style??{};p.size&&Object.assign(v,{maxWidth:`${g}px`,maxHeight:`${T}px`}),"target"===l.width&&Object.assign(v,{width:`${h.reference.width}px`})}})),h}(l,()=>h)});return useFloatingAutoUpdate({opened:l.opened,position:l.position,positionDependencies:l.positionDependencies||[],floating:h}),useDidUpdate(()=>{l.onPositionChange?.(h.placement)},[h.placement]),useDidUpdate(()=>{l.opened?l.onOpen?.():l.onClose?.()},[l.opened]),{floating:h,controlled:"boolean"==typeof l.opened,opened:u,onClose:()=>{u&&(l.onClose?.(),p(!1))},onToggle:()=>{u?(l.onClose?.(),p(!1)):(l.onOpen?.(),p(!0))}}}({middlewares:H,width:L,position:getFloatingPosition(eD,h),offset:"number"==typeof g?g+(U?j/2:0):g,arrowRef:eM,arrowOffset:G,onPositionChange:E,positionDependencies:M,opened:O,defaultOpened:eT,onChange:eh,onOpen:ep,onClose:ed,strategy:eA});!function(l,u,p){let h=(0,T.useRef)();(0,T.useEffect)(()=>{let listener=u=>{let{target:g}=u??{};if(Array.isArray(p)){let h=g?.hasAttribute("data-ignore-outside-clicks")||!document.body.contains(g)&&"HTML"!==g.tagName,T=p.every(l=>!!l&&!u.composedPath().includes(l));T&&!h&&l()}else h.current&&!h.current.contains(g)&&l()};return(u||e2).forEach(l=>document.addEventListener(l,listener)),()=>{(u||e2).forEach(l=>document.removeEventListener(l,listener))}},[h,l,p])}(()=>er&&eH.onClose(),ec,[eO,eR]);let eF=(0,T.useCallback)(l=>{eI(l),eH.floating.refs.setReference(l)},[eH.floating.refs.setReference]),eU=(0,T.useCallback)(l=>{eP(l),eH.floating.refs.setFloating(l)},[eH.floating.refs.setFloating]);return(0,x.jsx)(e8,{value:{returnFocus:eS,disabled:ek,controlled:eH.controlled,reference:eF,floating:eU,x:eH.floating.x,y:eH.floating.y,arrowX:eH.floating?.middlewareData?.arrow?.x,arrowY:eH.floating?.middlewareData?.arrow?.y,opened:eH.opened,arrowRef:eM,transitionProps:R,width:L,withArrow:U,arrowSize:j,arrowOffset:G,arrowRadius:W,arrowPosition:q,placement:eH.floating.placement,trapFocus:eu,withinPortal:ea,portalProps:es,zIndex:ef,radius:eg,shadow:ey,closeOnEscape:el,onClose:eH.onClose,onToggle:eH.onToggle,getTargetId:()=>`${eB}-target`,getDropdownId:()=>`${eB}-dropdown`,withRoles:ev,targetProps:e_,__staticSelector:eE,classNames:X,styles:Z,unstyled:Y,variant:eC,keepMounted:ew,getStyles:eN},children:p})}Popover.Target=tp,Popover.Dropdown=tu,Popover.displayName="@mantine/core/Popover",Popover.extend=l=>l;let[tf,tm]=createSafeContext("Menu component was not found in the tree");var tg={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};let ty={},tb=factory((l,u)=>{let{classNames:p,className:h,style:g,styles:T,vars:E,...v}=useProps("MenuDivider",ty,l),C=tm();return(0,x.jsx)(er,{ref:u,...C.getStyles("divider",{className:h,style:g,styles:T,classNames:p}),...v})});function createEventHandler(l,u){return p=>{l?.(p),u?.(p)}}tb.classes=tg,tb.displayName="@mantine/core/MenuDivider";let tT={},tE=factory((l,u)=>{let{classNames:p,className:h,style:g,styles:E,vars:v,onMouseEnter:C,onMouseLeave:M,children:O,...R}=useProps("MenuDropdown",tT,l),L=(0,T.useRef)(null),H=tm(),U=createEventHandler(C,()=>("hover"===H.trigger||"click-hover"===H.trigger)&&H.openDropdown()),j=createEventHandler(M,()=>("hover"===H.trigger||"click-hover"===H.trigger)&&H.closeDropdown());return(0,x.jsxs)(Popover.Dropdown,{...R,onMouseEnter:U,onMouseLeave:j,role:"menu","aria-orientation":"vertical",ref:useMergedRef(u,L),...H.getStyles("dropdown",{className:h,style:g,styles:E,classNames:p,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:l=>{("ArrowUp"===l.key||"ArrowDown"===l.key)&&(l.preventDefault(),L.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())},children:[(0,x.jsx)("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0,style:{outline:0}}),O]})});function createScopedKeydownHandler({parentSelector:l,siblingSelector:u,onKeyDown:p,loop:h=!0,activateOnFocus:g=!1,dir:T="rtl",orientation:E}){return v=>{p?.(v);let C=Array.from(findElementAncestor(v.currentTarget,l)?.querySelectorAll(u)||[]).filter(u=>findElementAncestor(v.currentTarget,l)===findElementAncestor(u,l)),x=C.findIndex(l=>v.currentTarget===l),M=function(l,u,p){for(let p=l+1;p<u.length;p+=1)if(!u[p].disabled)return p;if(p){for(let l=0;l<u.length;l+=1)if(!u[l].disabled)return l}return l}(x,C,h),O=function(l,u,p){for(let p=l-1;p>=0;p-=1)if(!u[p].disabled)return p;if(p){for(let l=u.length-1;l>-1;l-=1)if(!u[l].disabled)return l}return l}(x,C,h),R="rtl"===T?O:M,L="rtl"===T?M:O;switch(v.key){case"ArrowRight":"horizontal"===E&&(v.stopPropagation(),v.preventDefault(),C[R].focus(),g&&C[R].click());break;case"ArrowLeft":"horizontal"===E&&(v.stopPropagation(),v.preventDefault(),C[L].focus(),g&&C[L].click());break;case"ArrowUp":"vertical"===E&&(v.stopPropagation(),v.preventDefault(),C[O].focus(),g&&C[O].click());break;case"ArrowDown":"vertical"===E&&(v.stopPropagation(),v.preventDefault(),C[M].focus(),g&&C[M].click());break;case"Home":v.stopPropagation(),v.preventDefault(),C[0].disabled||C[0].focus();break;case"End":{v.stopPropagation(),v.preventDefault();let l=C.length-1;C[l].disabled||C[l].focus()}}}}tE.classes=tg,tE.displayName="@mantine/core/MenuDropdown";let tv={},tk=polymorphicFactory((l,u)=>{let{classNames:p,className:h,style:g,styles:E,vars:v,color:C,closeMenuOnClick:M,leftSection:O,rightSection:R,children:L,disabled:H,...U}=useProps("MenuItem",tv,l),j=tm(),G=useMantineTheme(),{dir:W}=useDirection(),q=(0,T.useRef)(),Y=j.getItemIndex(q.current),X=createEventHandler(U.onMouseLeave,()=>j.setHovered(-1)),Z=createEventHandler(U.onMouseEnter,()=>j.setHovered(j.getItemIndex(q.current))),er=createEventHandler(U.onClick,()=>{"boolean"==typeof M?M&&j.closeDropdownImmediately():j.closeOnItemClick&&j.closeDropdownImmediately()}),ea=createEventHandler(U.onFocus,()=>j.setHovered(j.getItemIndex(q.current))),es=C?G.variantColorResolver({color:C,theme:G,variant:"light"}):void 0,el=C?parseThemeColor({color:C,theme:G}):null;return(0,x.jsxs)(eW,{...U,unstyled:j.unstyled,tabIndex:j.menuItemTabIndex,onFocus:ea,...j.getStyles("item",{className:h,style:g,styles:E,classNames:p}),ref:useMergedRef(q,u),role:"menuitem",disabled:H,"data-menu-item":!0,"data-disabled":H||void 0,"data-hovered":j.hovered===Y||void 0,onMouseEnter:Z,onMouseLeave:X,onClick:er,onKeyDown:createScopedKeydownHandler({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:j.loop,dir:W,orientation:"vertical",onKeyDown:U.onKeydown}),__vars:{"--menu-item-color":el?.isThemeColor&&el?.shade===void 0?`var(--mantine-color-${el.color}-6)`:es?.color,"--menu-item-hover":es?.hover},children:[O&&(0,x.jsx)("div",{...j.getStyles("itemSection",{styles:E,classNames:p}),"data-position":"left",children:O}),L&&(0,x.jsx)("div",{...j.getStyles("itemLabel",{styles:E,classNames:p}),children:L}),R&&(0,x.jsx)("div",{...j.getStyles("itemSection",{styles:E,classNames:p}),"data-position":"right",children:R})]})});tk.classes=tg,tk.displayName="@mantine/core/MenuItem";let tS={},tC=factory((l,u)=>{let{classNames:p,className:h,style:g,styles:T,vars:E,...v}=useProps("MenuLabel",tS,l),C=tm();return(0,x.jsx)(er,{ref:u,...C.getStyles("label",{className:h,style:g,styles:T,classNames:p}),...v})});tC.classes=tg,tC.displayName="@mantine/core/MenuLabel";let tw={refProp:"ref"},tx=(0,T.forwardRef)((l,u)=>{let{children:p,refProp:h,...g}=useProps("MenuTarget",tw,l);if(!isElement(p))throw Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");let E=tm(),v=createEventHandler(p.props.onClick,()=>{"click"===E.trigger?E.toggleDropdown():"click-hover"!==E.trigger||(E.setOpenedViaClick(!0),E.opened||E.openDropdown())}),C=createEventHandler(p.props.onMouseEnter,()=>("hover"===E.trigger||"click-hover"===E.trigger)&&E.openDropdown()),M=createEventHandler(p.props.onMouseLeave,()=>{"hover"===E.trigger?E.closeDropdown():"click-hover"!==E.trigger||E.openedViaClick||E.closeDropdown()});return(0,x.jsx)(Popover.Target,{refProp:h,popupType:"menu",ref:u,...g,children:(0,T.cloneElement)(p,{onClick:v,onMouseEnter:C,onMouseLeave:M,"data-expanded":!!E.opened||void 0})})});tx.displayName="@mantine/core/MenuTarget";let tA={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Menu(l){let u=useProps("Menu",tA,l),{children:p,onOpen:h,onClose:g,opened:E,defaultOpened:v,trapFocus:C,onChange:M,closeOnItemClick:O,loop:R,closeOnEscape:L,trigger:H,openDelay:U,closeDelay:j,classNames:G,styles:W,unstyled:q,variant:Y,vars:X,menuItemTabIndex:Z,keepMounted:er,...ea}=u,es=useStyles({name:"Menu",classes:tg,props:u,classNames:G,styles:W,unstyled:q}),[el,{setHovered:ec,resetHovered:eu}]=function(){let[l,u]=(0,T.useState)(-1);return[l,{setHovered:u,resetHovered:()=>u(-1)}]}(),[ed,ep]=useUncontrolled({value:E,defaultValue:v,finalValue:!1,onChange:M}),[eh,ef]=(0,T.useState)(!1),close=()=>{ep(!1),ef(!1),ed&&g?.()},open=()=>{ep(!0),ed||h?.()},toggleDropdown=()=>{ed?close():open()},{openDropdown:eg,closeDropdown:ey}=function({open:l,close:u,openDelay:p,closeDelay:h}){let g=(0,T.useRef)(-1),E=(0,T.useRef)(-1),clearTimeouts=()=>{window.clearTimeout(g.current),window.clearTimeout(E.current)};return(0,T.useEffect)(()=>clearTimeouts,[]),{openDropdown:()=>{clearTimeouts(),0===p||void 0===p?l():g.current=window.setTimeout(l,p)},closeDropdown:()=>{clearTimeouts(),0===h||void 0===h?u():E.current=window.setTimeout(u,h)}}}({open,close,closeDelay:j,openDelay:U}),{resolvedClassNames:eb,resolvedStyles:eT}=function({classNames:l,styles:u,props:p,stylesCtx:h}){let g=useMantineTheme();return{resolvedClassNames:resolveClassNames({theme:g,classNames:l,props:p,stylesCtx:h||void 0}),resolvedStyles:resolveStyles({theme:g,styles:u,props:p,stylesCtx:h||void 0})}}({classNames:G,styles:W,props:u});return useDidUpdate(()=>{eu()},[ed]),(0,x.jsx)(tf,{value:{getStyles:es,opened:ed,toggleDropdown,getItemIndex:l=>l?Array.from(findElementAncestor(l,"[data-menu-dropdown]")?.querySelectorAll("[data-menu-item]")||[]).findIndex(u=>u===l):null,hovered:el,setHovered:ec,openedViaClick:eh,setOpenedViaClick:ef,closeOnItemClick:O,closeDropdown:"click"===H?close:ey,openDropdown:"click"===H?open:eg,closeDropdownImmediately:close,loop:R,trigger:H,unstyled:q,menuItemTabIndex:Z},children:(0,x.jsx)(Popover,{...ea,opened:ed,onChange:toggleDropdown,defaultOpened:v,trapFocus:!er&&C,closeOnEscape:L,__staticSelector:"Menu",classNames:eb,styles:eT,unstyled:q,variant:Y,keepMounted:er,children:p})})}Menu.extend=l=>l,Menu.classes=tg,Menu.displayName="@mantine/core/Menu",Menu.Item=tk,Menu.Label=tC,Menu.Dropdown=tE,Menu.Target=tx,Menu.Divider=tb;let[t_,tN]=function(l=null){let u=(0,T.createContext)(l);return[({children:l,value:p})=>(0,x.jsx)(u.Provider,{value:p,children:l}),()=>(0,T.useContext)(u)]}({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var tM={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};let tO={},InputDescription_varsResolver=(l,{size:u})=>({description:{"--input-description-size":void 0===u?void 0:`calc(${getFontSize(u)} - ${M(2)})`}}),tI=factory((l,u)=>{let p=useProps("InputDescription",tO,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,size:M,__staticSelector:O,__inheritStyles:R=!0,variant:L,...H}=useProps("InputDescription",tO,p),U=tN(),j=useStyles({name:["InputWrapper",O],props:p,classes:tM,className:g,style:T,classNames:h,styles:E,unstyled:v,rootSelector:"description",vars:C,varsResolver:InputDescription_varsResolver}),G=R&&U?.getStyles||j;return(0,x.jsx)(er,{component:"p",ref:u,variant:L,size:M,...G("description",U?.getStyles?{className:g,style:T}:void 0),...H})});tI.classes=tM,tI.displayName="@mantine/core/InputDescription";let tR={},InputError_varsResolver=(l,{size:u})=>({error:{"--input-error-size":void 0===u?void 0:`calc(${getFontSize(u)} - ${M(2)})`}}),tL=factory((l,u)=>{let p=useProps("InputError",tR,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,size:M,__staticSelector:O,__inheritStyles:R=!0,variant:L,...H}=p,U=useStyles({name:["InputWrapper",O],props:p,classes:tM,className:g,style:T,classNames:h,styles:E,unstyled:v,rootSelector:"error",vars:C,varsResolver:InputError_varsResolver}),j=tN(),G=R&&j?.getStyles||U;return(0,x.jsx)(er,{component:"p",ref:u,variant:L,size:M,...G("error",j?.getStyles?{className:g,style:T}:void 0),...H})});tL.classes=tM,tL.displayName="@mantine/core/InputError";let tP={labelElement:"label"},InputLabel_varsResolver=(l,{size:u})=>({label:{"--input-label-size":getFontSize(u),"--input-asterisk-color":void 0}}),tD=factory((l,u)=>{let p=useProps("InputLabel",tP,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,labelElement:M,size:O,required:R,htmlFor:L,onMouseDown:H,children:U,__staticSelector:j,variant:G,mod:W,...q}=useProps("InputLabel",tP,p),Y=useStyles({name:["InputWrapper",j],props:p,classes:tM,className:g,style:T,classNames:h,styles:E,unstyled:v,rootSelector:"label",vars:C,varsResolver:InputLabel_varsResolver}),X=tN(),Z=X?.getStyles||Y;return(0,x.jsxs)(er,{...Z("label",X?.getStyles?{className:g,style:T}:void 0),component:M,variant:G,size:O,ref:u,htmlFor:"label"===M?L:void 0,mod:[{required:R},W],onMouseDown:l=>{H?.(l),!l.defaultPrevented&&l.detail>1&&l.preventDefault()},...q,children:[U,R&&(0,x.jsx)("span",{...Z("required"),"aria-hidden":!0,children:" *"})]})});tD.classes=tM,tD.displayName="@mantine/core/InputLabel";let tB={},tH=factory((l,u)=>{let p=useProps("InputPlaceholder",tB,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,__staticSelector:M,variant:O,error:R,mod:L,...H}=useProps("InputPlaceholder",tB,p),U=useStyles({name:["InputPlaceholder",M],props:p,classes:tM,className:g,style:T,classNames:h,styles:E,unstyled:v,rootSelector:"placeholder"});return(0,x.jsx)(er,{...U("placeholder"),mod:[{error:!!R},L],component:"span",variant:O,ref:u,...H})});tH.classes=tM,tH.displayName="@mantine/core/InputPlaceholder";let tF={labelElement:"label",inputContainer:l=>l,inputWrapperOrder:["label","description","input","error"]},InputWrapper_varsResolver=(l,{size:u})=>({label:{"--input-label-size":getFontSize(u),"--input-asterisk-color":void 0},error:{"--input-error-size":void 0===u?void 0:`calc(${getFontSize(u)} - ${M(2)})`},description:{"--input-description-size":void 0===u?void 0:`calc(${getFontSize(u)} - ${M(2)})`}}),tU=factory((l,u)=>{let p=useProps("InputWrapper",tF,l),{classNames:h,className:g,style:E,styles:v,unstyled:C,vars:M,size:O,variant:R,__staticSelector:L,inputContainer:H,inputWrapperOrder:U,label:j,error:G,description:W,labelProps:q,descriptionProps:Y,errorProps:X,labelElement:Z,children:ea,withAsterisk:es,id:el,required:ec,__stylesApiProps:eu,mod:ed,...ep}=p,eh=useStyles({name:["InputWrapper",L],props:eu||p,classes:tM,className:g,style:E,classNames:h,styles:v,unstyled:C,vars:M,varsResolver:InputWrapper_varsResolver}),ef={size:O,variant:R,__staticSelector:L},eg=useId(el),ey=X?.id||`${eg}-error`,eb=Y?.id||`${eg}-description`,eT=!!G&&"boolean"!=typeof G,eE=!!W,ev=`${eT?ey:""} ${eE?eb:""}`,ek=ev.trim().length>0?ev.trim():void 0,eS=q?.id||`${eg}-label`,eC=j&&(0,x.jsx)(tD,{labelElement:Z,id:eS,htmlFor:eg,required:"boolean"==typeof es?es:ec,...ef,...q,children:j},"label"),ew=eE&&(0,x.jsx)(tI,{...Y,...ef,size:Y?.size||ef.size,id:Y?.id||eb,children:W},"description"),ex=(0,x.jsx)(T.Fragment,{children:H(ea)},"input"),eA=eT&&(0,T.createElement)(tL,{...X,...ef,size:X?.size||ef.size,key:"error",id:X?.id||ey},G),e_=U.map(l=>{switch(l){case"label":return eC;case"input":return ex;case"description":return ew;case"error":return eA;default:return null}});return(0,x.jsx)(t_,{value:{getStyles:eh,describedBy:ek,inputId:eg,labelId:eS,...function(l,{hasDescription:u,hasError:p}){let h=l.findIndex(l=>"input"===l),g=l[h-1],T=l[h+1];return{offsetBottom:u&&"description"===T||p&&"error"===T,offsetTop:u&&"description"===g||p&&"error"===g}}(U,{hasDescription:eE,hasError:eT})},children:(0,x.jsx)(er,{ref:u,variant:R,size:O,mod:[{error:!!G},ed],...eh("root"),...ep,children:e_})})});tU.classes=tM,tU.displayName="@mantine/core/InputWrapper";let tj={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Input_varsResolver=(l,u,p)=>({wrapper:{"--input-margin-top":p.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":p.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":getSize(u.size,"input-height"),"--input-fz":getFontSize(u.size),"--input-radius":void 0===u.radius?void 0:getRadius(u.radius),"--input-left-section-width":void 0!==u.leftSectionWidth?M(u.leftSectionWidth):void 0,"--input-right-section-width":void 0!==u.rightSectionWidth?M(u.rightSectionWidth):void 0,"--input-padding-y":u.multiline?getSize(u.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":u.leftSectionPointerEvents,"--input-right-section-pointer-events":u.rightSectionPointerEvents}}),tz=polymorphicFactory((l,u)=>{let p=useProps("Input",tj,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,required:C,__staticSelector:M,__stylesApiProps:O,size:R,wrapperProps:L,error:H,disabled:U,leftSection:j,leftSectionProps:G,leftSectionWidth:W,rightSection:q,rightSectionProps:Y,rightSectionWidth:X,rightSectionPointerEvents:Z,leftSectionPointerEvents:ea,variant:es,vars:el,pointer:ec,multiline:eu,radius:ed,id:ep,withAria:eh,withErrorStyles:ef,mod:eg,...ey}=p,{styleProps:eb,rest:eT}=extractStyleProps(ey),eE=tN(),ev={offsetBottom:eE?.offsetBottom,offsetTop:eE?.offsetTop},ek=useStyles({name:["Input",M],props:O||p,classes:tM,className:g,style:T,classNames:h,styles:E,unstyled:v,stylesCtx:ev,rootSelector:"wrapper",vars:el,varsResolver:Input_varsResolver}),eS=eh?{required:C,disabled:U,"aria-invalid":!!H,"aria-describedby":eE?.describedBy,id:eE?.inputId||ep}:{};return(0,x.jsxs)(er,{...ek("wrapper"),...eb,...L,mod:[{error:!!H&&ef,pointer:ec,disabled:U,multiline:eu,"data-with-right-section":!!q,"data-with-left-section":!!j},eg],variant:es,size:R,children:[j&&(0,x.jsx)("div",{...G,"data-position":"left",...ek("section",{className:G?.className,style:G?.style}),children:j}),(0,x.jsx)(er,{component:"input",...eT,...eS,ref:u,required:C,mod:{disabled:U,error:!!H&&ef},variant:es,...ek("input")}),q&&(0,x.jsx)("div",{...Y,"data-position":"right",...ek("section",{className:Y?.className,style:Y?.style}),children:q})]})});tz.classes=tM,tz.Wrapper=tU,tz.Label=tD,tz.Error=tL,tz.Description=tI,tz.Placeholder=tH,tz.displayName="@mantine/core/Input";let tV={__staticSelector:"InputBase",withAria:!0},t$=polymorphicFactory((l,u)=>{let{inputProps:p,wrapperProps:h,...g}=function(l,u,p){let h=useProps(l,u,p),{label:g,description:T,error:E,required:v,classNames:C,styles:x,className:M,unstyled:O,__staticSelector:R,__stylesApiProps:L,errorProps:H,labelProps:U,descriptionProps:j,wrapperProps:G,id:W,size:q,style:Y,inputContainer:X,inputWrapperOrder:Z,withAsterisk:er,variant:ea,vars:es,mod:el,...ec}=h,{styleProps:eu,rest:ed}=extractStyleProps(ec),ep={label:g,description:T,error:E,required:v,classNames:C,className:M,__staticSelector:R,__stylesApiProps:L||h,errorProps:H,labelProps:U,descriptionProps:j,unstyled:O,styles:x,size:q,style:Y,inputContainer:X,inputWrapperOrder:Z,withAsterisk:er,variant:ea,id:W,mod:el,...G};return{...ed,classNames:C,styles:x,unstyled:O,wrapperProps:{...ep,...eu},inputProps:{required:v,classNames:C,styles:x,unstyled:O,size:q,__staticSelector:R,__stylesApiProps:L||h,error:E,variant:ea,id:W}}}("InputBase",tV,l);return(0,x.jsx)(tz.Wrapper,{...h,children:(0,x.jsx)(tz,{...p,...g,ref:u})})});t$.classes={...tz.classes,...tz.Wrapper.classes},t$.displayName="@mantine/core/InputBase";let tG={},tK=factory((l,u)=>{let p=useProps("TextInput",tG,l);return(0,x.jsx)(t$,{component:"input",ref:u,...p,__staticSelector:"TextInput"})});tK.classes=t$.classes,tK.displayName="@mantine/core/TextInput";let tW=(0,T.forwardRef)(({size:l="var(--cb-icon-size, 70%)",style:u,...p},h)=>(0,x.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...u,width:l,height:l},ref:h,...p,children:(0,x.jsx)("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));tW.displayName="@mantine/core/CloseIcon";var tq={root:"m_86a44da5","root--subtle":"m_220c80f2"};let tY={variant:"subtle"},CloseButton_varsResolver=(l,{size:u,radius:p,iconSize:h})=>({root:{"--cb-size":getSize(u,"cb-size"),"--cb-radius":void 0===p?void 0:getRadius(p),"--cb-icon-size":M(h)}}),tQ=polymorphicFactory((l,u)=>{let p=useProps("CloseButton",tY,l),{iconSize:h,children:g,vars:T,radius:E,className:v,classNames:C,style:M,styles:O,unstyled:R,"data-disabled":L,disabled:H,variant:U,icon:j,mod:G,...W}=p,q=useStyles({name:"CloseButton",props:p,className:v,style:M,classes:tq,classNames:C,styles:O,unstyled:R,vars:T,varsResolver:CloseButton_varsResolver});return(0,x.jsxs)(eW,{ref:u,...W,unstyled:R,variant:U,disabled:H,mod:[{disabled:H||L},G],...q("root",{variant:U,active:!H&&!L}),children:[j||(0,x.jsx)(tW,{}),g]})});tQ.classes=tq,tQ.displayName="@mantine/core/CloseButton";let tJ={multiple:!1},tX=(0,T.forwardRef)((l,u)=>{let{onChange:p,children:h,multiple:g,accept:E,name:v,form:C,resetRef:M,disabled:O,capture:R,inputProps:L,...H}=useProps("FileButton",tJ,l),U=(0,T.useRef)();return assignRef(M,()=>{U.current.value=""}),(0,x.jsxs)(x.Fragment,{children:[h({onClick:()=>{O||U.current?.click()},...H}),(0,x.jsx)("input",{style:{display:"none"},type:"file",accept:E,multiple:g,onChange:l=>{g?p(Array.from(l.currentTarget.files)):p(l.currentTarget.files[0]||null)},ref:useMergedRef(u,U),name:v,form:C,capture:R,...L})]})});tX.displayName="@mantine/core/FileButton";let tZ={valueComponent:({value:l})=>(0,x.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(l)?l.map(l=>l.name).join(", "):l?.name})},t1=factory((l,u)=>{let p=useProps("FileInput",tZ,l),{unstyled:h,vars:g,onChange:E,value:v,defaultValue:C,multiple:M,accept:O,name:R,form:L,valueComponent:H,clearable:U,clearButtonProps:j,readOnly:G,capture:W,fileInputProps:q,rightSection:Y,size:X,placeholder:Z,...er}=p,ea=(0,T.useRef)(null),[es,el]=useUncontrolled({value:v,defaultValue:C,onChange:E,finalValue:M?[]:null}),ec=Array.isArray(es)?0!==es.length:null!==es,eu=Y||(U&&ec&&!G?(0,x.jsx)(tQ,{...j,variant:"subtle",onClick:()=>el(M?[]:null),size:X,unstyled:h}):null);return(0,T.useEffect)(()=>{(Array.isArray(es)&&0===es.length||null===es)&&ea.current?.()},[es]),(0,x.jsx)(tX,{onChange:el,multiple:M,accept:O,name:R,form:L,resetRef:ea,disabled:G,capture:W,inputProps:q,children:l=>(0,x.jsx)(t$,{component:"button",ref:u,rightSection:eu,...l,...er,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:p,unstyled:h,size:X,children:ec?(0,x.jsx)(H,{value:es}):(0,x.jsx)(tz.Placeholder,{children:Z})})})});function getSafeId(l,u){return p=>{if("string"!=typeof p||0===p.trim().length)throw Error(u);return`${l}-${p}`}}function getContrastColor({color:l,theme:u,autoContrast:p}){let h="boolean"==typeof p?p:u.autoContrast;if(!h)return"var(--mantine-color-white)";let g=parseThemeColor({color:l||u.primaryColor,theme:u});return g.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function getPrimaryContrastColor(l,u){return getContrastColor({color:l.colors[l.primaryColor][getPrimaryShade(l,u)],theme:l,autoContrast:null})}t1.classes=t$.classes,t1.displayName="@mantine/core/FileInput";let[t0,t9]=createSafeContext("Tabs component was not found in the tree");var t5={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};let t4={},t2=factory((l,u)=>{let p=useProps("TabsList",t4,l),{children:h,className:g,grow:T,justify:E,classNames:v,styles:C,style:M,mod:O,...R}=p,L=t9();return(0,x.jsx)(er,{...R,...L.getStyles("list",{className:g,style:M,classNames:v,styles:C,props:p,variant:L.variant}),ref:u,role:"tablist",variant:L.variant,mod:[{grow:T,orientation:L.orientation,placement:"vertical"===L.orientation&&L.placement,inverted:L.inverted},O],"aria-orientation":L.orientation,__vars:{"--tabs-justify":E},children:h})});t2.classes=t5,t2.displayName="@mantine/core/TabsList";let t8={},t6=factory((l,u)=>{let p=useProps("TabsPanel",t8,l),{children:h,className:g,value:T,classNames:E,styles:v,style:C,mod:M,...O}=p,R=t9(),L=R.value===T,H=R.keepMounted||p.keepMounted?h:L?h:null;return(0,x.jsx)(er,{...O,...R.getStyles("panel",{className:g,classNames:E,styles:v,style:[C,L?void 0:{display:"none"}],props:p}),ref:u,mod:[{orientation:R.orientation},M],role:"tabpanel",id:R.getPanelId(T),"aria-labelledby":R.getTabId(T),children:H})});t6.classes=t5,t6.displayName="@mantine/core/TabsPanel";let t3={},t7=factory((l,u)=>{let p=useProps("TabsTab",t3,l),{className:h,children:g,rightSection:T,leftSection:E,value:v,onClick:C,onKeyDown:M,disabled:O,color:R,style:L,classNames:H,styles:U,vars:j,mod:G,...W}=p,q=useMantineTheme(),{dir:Y}=useDirection(),X=t9(),Z=v===X.value,er={classNames:H,styles:U,props:p};return(0,x.jsxs)(eW,{...W,...X.getStyles("tab",{className:h,style:L,variant:X.variant,...er}),disabled:O,unstyled:X.unstyled,variant:X.variant,mod:[{active:Z,disabled:O,orientation:X.orientation,inverted:X.inverted,placement:"vertical"===X.orientation&&X.placement},G],ref:u,role:"tab",id:X.getTabId(v),"aria-selected":Z,tabIndex:Z||null===X.value?0:-1,"aria-controls":X.getPanelId(v),onClick:l=>{X.onChange(X.allowTabDeactivation&&v===X.value?null:v),C?.(l)},__vars:{"--tabs-color":R?getThemeColor(R,q):void 0},onKeyDown:createScopedKeydownHandler({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:X.activateTabWithKeyboard,loop:X.loop,orientation:X.orientation||"horizontal",dir:Y,onKeyDown:M}),children:[E&&(0,x.jsx)("span",{...X.getStyles("tabSection",er),"data-position":"left",children:E}),g&&(0,x.jsx)("span",{...X.getStyles("tabLabel",er),children:g}),T&&(0,x.jsx)("span",{...X.getStyles("tabSection",er),"data-position":"right",children:T})]})});t7.classes=t5,t7.displayName="@mantine/core/TabsTab";let nt="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",nr={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Tabs_varsResolver=(l,{radius:u,color:p,autoContrast:h})=>({root:{"--tabs-radius":getRadius(u),"--tabs-color":getThemeColor(p,l),"--tabs-text-color":("boolean"==typeof h?h:l.autoContrast)?getContrastColor({color:p,theme:l}):void 0}}),ni=factory((l,u)=>{let p=useProps("Tabs",nr,l),{defaultValue:h,value:g,onChange:T,orientation:E,children:v,loop:C,id:M,activateTabWithKeyboard:O,allowTabDeactivation:R,variant:L,color:H,radius:U,inverted:j,placement:G,keepMounted:W,classNames:q,styles:Y,unstyled:X,className:Z,style:ea,vars:es,autoContrast:el,mod:ec,...eu}=p,ed=useId(M),[ep,eh]=useUncontrolled({value:g,defaultValue:h,finalValue:null,onChange:T}),ef=useStyles({name:"Tabs",props:p,classes:t5,className:Z,style:ea,classNames:q,styles:Y,unstyled:X,vars:es,varsResolver:Tabs_varsResolver});return(0,x.jsx)(t0,{value:{placement:G,value:ep,orientation:E,id:ed,loop:C,activateTabWithKeyboard:O,getTabId:getSafeId(`${ed}-tab`,nt),getPanelId:getSafeId(`${ed}-panel`,nt),onChange:eh,allowTabDeactivation:R,variant:L,color:H,radius:U,inverted:j,keepMounted:W,unstyled:X,getStyles:ef},children:(0,x.jsx)(er,{ref:u,id:ed,variant:L,mod:[{orientation:E,inverted:"horizontal"===E&&j,placement:"vertical"===E&&G},ec],...ef("root"),...eu,children:v})})});ni.classes=t5,ni.displayName="@mantine/core/Tabs",ni.Tab=t7,ni.Panel=t6,ni.List=t2;var no={root:"m_9814e45f"};let na={zIndex:eg.modal},Overlay_varsResolver=(l,{gradient:u,color:p,backgroundOpacity:h,blur:g,radius:T,zIndex:E})=>({root:{"--overlay-bg":u||(void 0!==p||void 0!==h)&&rgba(p||"#000",h??.6)||void 0,"--overlay-filter":g?`blur(${M(g)})`:void 0,"--overlay-radius":void 0===T?void 0:getRadius(T),"--overlay-z-index":E?.toString()}}),ns=polymorphicFactory((l,u)=>{let p=useProps("Overlay",na,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,fixed:M,center:O,children:R,radius:L,zIndex:H,gradient:U,blur:j,color:G,backgroundOpacity:W,mod:q,...Y}=p,X=useStyles({name:"Overlay",props:p,classes:no,className:g,style:T,classNames:h,styles:E,unstyled:v,vars:C,varsResolver:Overlay_varsResolver});return(0,x.jsx)(er,{ref:u,...X("root"),mod:[{center:O,fixed:M},q],...Y,children:R})});ns.classes=no,ns.displayName="@mantine/core/Overlay";var nl={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};let nc={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:eg.overlay},LoadingOverlay_varsResolver=(l,{zIndex:u})=>({root:{"--lo-z-index":u?.toString()}}),nu=factory((l,u)=>{let p=useProps("LoadingOverlay",nc,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,transitionProps:M,loaderProps:O,overlayProps:R,visible:L,zIndex:H,...U}=p,j=useMantineTheme(),G=useStyles({name:"LoadingOverlay",classes:nl,props:p,className:g,style:T,classNames:h,styles:E,unstyled:v,vars:C,varsResolver:LoadingOverlay_varsResolver}),W={...nc.overlayProps,...R};return(0,x.jsx)(Transition,{transition:"fade",...M,mounted:!!L,children:l=>(0,x.jsxs)(er,{...G("root",{style:l}),ref:u,...U,children:[(0,x.jsx)(e$,{...G("loader"),unstyled:v,...O}),(0,x.jsx)(ns,{...W,...G("overlay"),darkHidden:!0,unstyled:v,color:R?.color||j.white}),(0,x.jsx)(ns,{...W,...G("overlay"),lightHidden:!0,unstyled:v,color:R?.color||j.colors.dark[5]})]})})});nu.classes=nl,nu.displayName="@mantine/core/LoadingOverlay";var nd={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};let np={},Badge_varsResolver=(l,{radius:u,color:p,gradient:h,variant:g,size:T,autoContrast:E})=>{let v=l.variantColorResolver({color:p||l.primaryColor,theme:l,gradient:h,variant:g||"filled",autoContrast:E});return{root:{"--badge-height":getSize(T,"badge-height"),"--badge-padding-x":getSize(T,"badge-padding-x"),"--badge-fz":getSize(T,"badge-fz"),"--badge-radius":void 0===u?void 0:getRadius(u),"--badge-bg":p||g?v.background:void 0,"--badge-color":p||g?v.color:void 0,"--badge-bd":p||g?v.border:void 0,"--badge-dot-color":"dot"===g?getThemeColor(p,l):void 0}}},nh=polymorphicFactory((l,u)=>{let p=useProps("Badge",np,l),{classNames:h,className:g,style:T,styles:E,unstyled:v,vars:C,radius:M,color:O,gradient:R,leftSection:L,rightSection:H,children:U,variant:j,fullWidth:G,autoContrast:W,circle:q,mod:Y,...X}=p,Z=useStyles({name:"Badge",props:p,classes:nd,className:g,style:T,classNames:h,styles:E,unstyled:v,vars:C,varsResolver:Badge_varsResolver});return(0,x.jsxs)(er,{variant:j,mod:[{block:G,circle:q},Y],...Z("root",{variant:j}),ref:u,...X,children:[L&&(0,x.jsx)("span",{...Z("section"),"data-position":"left",children:L}),(0,x.jsx)("span",{...Z("label"),children:U}),H&&(0,x.jsx)("span",{...Z("section"),"data-position":"right",children:H})]})});function isMantineColorScheme(l){return"auto"===l||"dark"===l||"light"===l}function MantineClasses(){let l=useMantineTheme(),u=useMantineStyleNonce(),p=keys(l.breakpoints).reduce((u,p)=>{let h=l.breakpoints[p].includes("px"),g=function(l){let u="string"==typeof l&&l.includes("var(--mantine-scale)")?l.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim():l;return"number"==typeof u?u:"string"==typeof u?u.includes("calc")||u.includes("var")?u:u.includes("px")?Number(u.replace("px","")):u.includes("rem")?16*Number(u.replace("rem","")):u.includes("em")?16*Number(u.replace("em","")):Number(u):NaN}(l.breakpoints[p]),T=h?`${g-.1}px`:O(g-.1),E=h?`${g}px`:O(g);return`${u}@media (max-width: ${T}) {.mantine-visible-from-${p} {display: none !important;}}@media (min-width: ${E}) {.mantine-hidden-from-${p} {display: none !important;}}`},"");return(0,x.jsx)("style",{"data-mantine-styles":"classes",nonce:u?.(),dangerouslySetInnerHTML:{__html:p}})}function cssVariablesObjectToString(l){return Object.entries(l).map(([l,u])=>`${l}: ${u};`).join("")}function wrapWithSelector(l,u){let p=Array.isArray(l)?l:[l];return p.reduce((l,u)=>`${u}{${l}}`,u)}function getCSSColorVariables({theme:l,color:u,colorScheme:p,name:h=u,withColorValues:g=!0}){if(!l.colors[u])return{};if("light"===p){let p=getPrimaryShade(l,"light"),T={[`--mantine-color-${h}-text`]:`var(--mantine-color-${h}-filled)`,[`--mantine-color-${h}-filled`]:`var(--mantine-color-${h}-${p})`,[`--mantine-color-${h}-filled-hover`]:`var(--mantine-color-${h}-${9===p?8:p+1})`,[`--mantine-color-${h}-light`]:rgba(l.colors[u][p],.1),[`--mantine-color-${h}-light-hover`]:rgba(l.colors[u][p],.12),[`--mantine-color-${h}-light-color`]:`var(--mantine-color-${h}-${p})`,[`--mantine-color-${h}-outline`]:`var(--mantine-color-${h}-${p})`,[`--mantine-color-${h}-outline-hover`]:rgba(l.colors[u][p],.05)};return g?{[`--mantine-color-${h}-0`]:l.colors[u][0],[`--mantine-color-${h}-1`]:l.colors[u][1],[`--mantine-color-${h}-2`]:l.colors[u][2],[`--mantine-color-${h}-3`]:l.colors[u][3],[`--mantine-color-${h}-4`]:l.colors[u][4],[`--mantine-color-${h}-5`]:l.colors[u][5],[`--mantine-color-${h}-6`]:l.colors[u][6],[`--mantine-color-${h}-7`]:l.colors[u][7],[`--mantine-color-${h}-8`]:l.colors[u][8],[`--mantine-color-${h}-9`]:l.colors[u][9],...T}:T}let T=getPrimaryShade(l,"dark"),E={[`--mantine-color-${h}-text`]:`var(--mantine-color-${h}-4)`,[`--mantine-color-${h}-filled`]:`var(--mantine-color-${h}-${T})`,[`--mantine-color-${h}-filled-hover`]:`var(--mantine-color-${h}-${9===T?8:T+1})`,[`--mantine-color-${h}-light`]:rgba(l.colors[u][Math.max(0,T-2)],.15),[`--mantine-color-${h}-light-hover`]:rgba(l.colors[u][Math.max(0,T-2)],.2),[`--mantine-color-${h}-light-color`]:`var(--mantine-color-${h}-${Math.max(T-5,0)})`,[`--mantine-color-${h}-outline`]:`var(--mantine-color-${h}-${Math.max(T-4,0)})`,[`--mantine-color-${h}-outline-hover`]:rgba(l.colors[u][Math.max(T-4,0)],.05)};return g?{[`--mantine-color-${h}-0`]:l.colors[u][0],[`--mantine-color-${h}-1`]:l.colors[u][1],[`--mantine-color-${h}-2`]:l.colors[u][2],[`--mantine-color-${h}-3`]:l.colors[u][3],[`--mantine-color-${h}-4`]:l.colors[u][4],[`--mantine-color-${h}-5`]:l.colors[u][5],[`--mantine-color-${h}-6`]:l.colors[u][6],[`--mantine-color-${h}-7`]:l.colors[u][7],[`--mantine-color-${h}-8`]:l.colors[u][8],[`--mantine-color-${h}-9`]:l.colors[u][9],...E}:E}function assignSizeVariables(l,u,p){keys(u).forEach(h=>Object.assign(l,{[`--mantine-${p}-${h}`]:u[h]}))}nh.classes=nd,nh.displayName="@mantine/core/Badge";let defaultCssVariablesResolver=l=>{let u=getPrimaryShade(l,"light"),p=l.defaultRadius in l.radius?l.radius[l.defaultRadius]:M(l.defaultRadius),h={variables:{"--mantine-scale":l.scale.toString(),"--mantine-cursor-type":l.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":l.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":l.fontSmoothing?"grayscale":"unset","--mantine-color-white":l.white,"--mantine-color-black":l.black,"--mantine-line-height":l.lineHeights.md,"--mantine-font-family":l.fontFamily,"--mantine-font-family-monospace":l.fontFamilyMonospace,"--mantine-font-family-headings":l.headings.fontFamily,"--mantine-heading-font-weight":l.headings.fontWeight,"--mantine-heading-text-wrap":l.headings.textWrap,"--mantine-radius-default":p,"--mantine-primary-color-filled":`var(--mantine-color-${l.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${l.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${l.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${l.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${l.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":getPrimaryContrastColor(l,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":l.black,"--mantine-color-body":l.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${l.primaryColor}-${u})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":getPrimaryContrastColor(l,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${l.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};assignSizeVariables(h.variables,l.breakpoints,"breakpoint"),assignSizeVariables(h.variables,l.spacing,"spacing"),assignSizeVariables(h.variables,l.fontSizes,"font-size"),assignSizeVariables(h.variables,l.lineHeights,"line-height"),assignSizeVariables(h.variables,l.shadows,"shadow"),assignSizeVariables(h.variables,l.radius,"radius"),l.colors[l.primaryColor].forEach((u,p)=>{h.variables[`--mantine-primary-color-${p}`]=`var(--mantine-color-${l.primaryColor}-${p})`}),keys(l.colors).forEach(u=>{let p=l.colors[u];if(p&&"object"==typeof p&&"mantine-virtual-color"in p){Object.assign(h.light,getCSSColorVariables({theme:l,name:p.name,color:p.light,colorScheme:"light",withColorValues:!0})),Object.assign(h.dark,getCSSColorVariables({theme:l,name:p.name,color:p.dark,colorScheme:"dark",withColorValues:!0}));return}p.forEach((l,p)=>{h.variables[`--mantine-color-${u}-${p}`]=l}),Object.assign(h.light,getCSSColorVariables({theme:l,color:u,colorScheme:"light",withColorValues:!1})),Object.assign(h.dark,getCSSColorVariables({theme:l,color:u,colorScheme:"dark",withColorValues:!1}))});let g=l.headings.sizes;return keys(g).forEach(u=>{h.variables[`--mantine-${u}-font-size`]=g[u].fontSize,h.variables[`--mantine-${u}-line-height`]=g[u].lineHeight,h.variables[`--mantine-${u}-font-weight`]=g[u].fontWeight||l.headings.fontWeight}),h},nf=defaultCssVariablesResolver(L);function MantineCssVariables({cssVariablesSelector:l,deduplicateCssVariables:u}){let p=useMantineTheme(),h=useMantineStyleNonce(),g=useMantineContext().cssVariablesResolver,T=function({theme:l,generator:u}){let p=defaultCssVariablesResolver(l),h=u?.(l);return h?deepMerge(p,h):p}({theme:p,generator:g}),E=":root"===l&&u,v=E?function(l){let u={variables:{},light:{},dark:{}};return keys(l.variables).forEach(p=>{nf.variables[p]!==l.variables[p]&&(u.variables[p]=l.variables[p])}),keys(l.light).forEach(p=>{nf.light[p]!==l.light[p]&&(u.light[p]=l.light[p])}),keys(l.dark).forEach(p=>{nf.dark[p]!==l.dark[p]&&(u.dark[p]=l.dark[p])}),u}(T):T,C=function(l,u){let p=cssVariablesObjectToString(l.variables),h=p?wrapWithSelector(u,p):"",g=cssVariablesObjectToString(l.dark),T=g?wrapWithSelector(`${u}[data-mantine-color-scheme="dark"]`,g):"",E=cssVariablesObjectToString(l.light),v=E?wrapWithSelector(`${u}[data-mantine-color-scheme="light"]`,E):"";return`${h}${T}${v}`}(v,l);return C?(0,x.jsx)("style",{"data-mantine-styles":!0,nonce:h?.(),dangerouslySetInnerHTML:{__html:`${C}${E?"":`
  ${l}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${l}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}`}}):null}function setColorSchemeAttribute(l,u){let p="auto"!==l?l:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u()?.setAttribute("data-mantine-color-scheme",p)}function MantineProvider({theme:l,children:u,getStyleNonce:p,withStaticClasses:h=!0,withGlobalClasses:g=!0,deduplicateCssVariables:E=!0,withCssVariables:v=!0,cssVariablesSelector:C=":root",classNamesPrefix:M="mantine",colorSchemeManager:O=function({key:l="mantine-color-scheme-value"}={}){let u;return{get:u=>{if("undefined"==typeof window)return u;try{let p=window.localStorage.getItem(l);return isMantineColorScheme(p)?p:u}catch{return u}},set:u=>{try{window.localStorage.setItem(l,u)}catch(l){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",l)}},subscribe:p=>{u=u=>{u.storageArea===window.localStorage&&u.key===l&&isMantineColorScheme(u.newValue)&&p(u.newValue)},window.addEventListener("storage",u)},unsubscribe:()=>{window.removeEventListener("storage",u)},clear:()=>{window.localStorage.removeItem(l)}}}(),defaultColorScheme:R="light",getRootElement:L=()=>document.documentElement,cssVariablesResolver:H,forceColorScheme:j,stylesTransform:G}){let{colorScheme:W,setColorScheme:q,clearColorScheme:Y}=function({manager:l,defaultColorScheme:u,getRootElement:p,forceColorScheme:h}){let g=(0,T.useRef)(),[E,v]=(0,T.useState)(()=>l.get(u)),C=h||E,x=(0,T.useCallback)(u=>{h||(setColorSchemeAttribute(u,p),v(u),l.set(u))},[l.set,C,h]),M=(0,T.useCallback)(()=>{v(u),setColorSchemeAttribute(u,p),l.clear()},[l.clear,u]);return(0,T.useEffect)(()=>(l.subscribe(x),l.unsubscribe),[l.subscribe,l.unsubscribe]),ev(()=>{setColorSchemeAttribute(l.get(u),p)},[]),(0,T.useEffect)(()=>{if(h)return setColorSchemeAttribute(h,p),()=>{};void 0===h&&setColorSchemeAttribute(E,p),g.current=window.matchMedia("(prefers-color-scheme: dark)");let listener=l=>{"auto"===E&&setColorSchemeAttribute(l.matches?"dark":"light",p)};return g.current?.addEventListener("change",listener),()=>g.current?.removeEventListener("change",listener)},[E,h]),{colorScheme:C,setColorScheme:x,clearColorScheme:M}}({defaultColorScheme:R,forceColorScheme:j,manager:O,getRootElement:L});return!function({respectReducedMotion:l,getRootElement:u}){ev(()=>{l&&u()?.setAttribute("data-respect-reduced-motion","true")},[l])}({respectReducedMotion:l?.respectReducedMotion||!1,getRootElement:L}),(0,x.jsx)(U.Provider,{value:{colorScheme:W,setColorScheme:q,clearColorScheme:Y,getRootElement:L,classNamesPrefix:M,getStyleNonce:p,cssVariablesResolver:H,cssVariablesSelector:C,withStaticClasses:h,stylesTransform:G},children:(0,x.jsxs)(MantineThemeProvider,{theme:l,children:[v&&(0,x.jsx)(MantineCssVariables,{cssVariablesSelector:C,deduplicateCssVariables:E}),g&&(0,x.jsx)(MantineClasses,{}),u]})})}MantineCssVariables.displayName="@mantine/CssVariables",function(){let l=console.error;console.error=(...u)=>{u.length>1&&"string"==typeof u[0]&&u[0].toLowerCase().includes("extra attributes from the server")&&"string"==typeof u[1]&&u[1].toLowerCase().includes("data-mantine-color-scheme")||l(...u)}}(),MantineProvider.displayName="@mantine/core/MantineProvider";var index_esm_d=()=>{let[l,u]=T.useState(()=>{if(typeof window>"u")return"no-preference";let l=window.matchMedia("(prefers-color-scheme: dark)"),u=window.matchMedia("(prefers-color-scheme: light)");return l.matches?"dark":u.matches?"light":"no-preference"});return T.useEffect(()=>{if("function"!=typeof window.matchMedia)return;let l=window.matchMedia("(prefers-color-scheme: dark)"),p=window.matchMedia("(prefers-color-scheme: light)");if("function"==typeof p.addEventListener){let t=({matches:l})=>{l&&u("dark")},s=({matches:l})=>{l&&u("light")};return l.addEventListener("change",t),p.addEventListener("change",s),()=>{l.removeEventListener("change",t),p.removeEventListener("change",s)}}if("function"==typeof p.addListener){let t=()=>u(l.matches?"dark":p.matches?"light":"no-preference");return l.addListener(t),p.addListener(t),()=>{l.removeListener(t),p.removeListener(t)}}},[]),l},nm=p(90293);let ng=(0,T.createContext)(void 0);function te(l){return(0,T.useContext)(ng)}var ny={exports:{}},nb={};ny.exports=function(){if(h)return nb;h=1;var l=Symbol.for("react.element"),u=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,g=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,T){var v,C={},x=null,M=null;for(v in void 0!==T&&(x=""+T),void 0!==h.key&&(x=""+h.key),void 0!==h.ref&&(M=h.ref),h)p.call(h,v)&&!E.hasOwnProperty(v)&&(C[v]=h[v]);if(u&&u.defaultProps)for(v in h=u.defaultProps)void 0===C[v]&&(C[v]=h[v]);return{$$typeof:l,type:u,key:x,ref:M,props:C,_owner:g.current}}return nb.Fragment=u,nb.jsx=c,nb.jsxs=c,nb}();var nT=ny.exports;function w(l){let u=te();if(!(null!=u&&u.editor))throw Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return u.editor}function Je(l,u){let p=te();u||(u=null==p?void 0:p.editor),(0,T.useEffect)(()=>{if(!u)throw Error("'editor' is required, either from BlockNoteContext or as a function argument");return u.onChange(l)},[l,u])}function Qe(l,u){let p=te();u||(u=null==p?void 0:p.editor),(0,T.useEffect)(()=>{if(!u)throw Error("'editor' is required, either from BlockNoteContext or as a function argument");return u.onSelectionChange(l)},[l,u])}function z(l,u){Je(l,u),Qe(l,u)}function fe(l,u,p,h){let{refs:g,update:E,context:C,floatingStyles:x}=(0,v.YF)({open:l,...h}),{isMounted:M,styles:O}=(0,v.Y_)(C);return(0,T.useEffect)(()=>{E()},[u,E]),(0,T.useEffect)(()=>{null!==u&&g.setReference({getBoundingClientRect:()=>u})},[u,g]),(0,T.useMemo)(()=>({isMounted:M,ref:g.setFloating,style:{display:"flex",...O,...x,zIndex:p}}),[x,M,g.setFloating,O,p])}function ne(l){let[u,p]=(0,T.useState)();return(0,T.useEffect)(()=>l(l=>{p({...l})}),[l]),u}function en(l){return u=>{l.forEach(l=>{"function"==typeof l?l(u):null!=l&&(l.current=u)})}}let nE=(0,T.forwardRef)((l,u)=>{let{className:p,children:h,...g}=l;return nT.jsx(el,{className:(0,E.xQ)("bn-toolbar",p||""),ref:u,...g,children:h})});var nv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nk=T.createContext&&T.createContext(nv),nS=globalThis&&globalThis.__assign||function(){return(nS=Object.assign||function(l){for(var u,p=1,h=arguments.length;p<h;p++)for(var g in u=arguments[p])Object.prototype.hasOwnProperty.call(u,g)&&(l[g]=u[g]);return l}).apply(this,arguments)},nC=globalThis&&globalThis.__rest||function(l,u){var p={};for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&0>u.indexOf(h)&&(p[h]=l[h]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols)for(var g=0,h=Object.getOwnPropertySymbols(l);g<h.length;g++)0>u.indexOf(h[g])&&Object.prototype.propertyIsEnumerable.call(l,h[g])&&(p[h[g]]=l[h[g]]);return p};function y(l){return function(u){return T.createElement(yr,nS({attr:nS({},l.attr)},u),function nn(l){return l&&l.map(function(l,u){return T.createElement(l.tag,nS({key:u},l.attr),nn(l.child))})}(l.child))}}function yr(l){var t=function(u){var p,h=l.attr,g=l.size,E=l.title,v=nC(l,["attr","size","title"]),C=g||u.size||"1em";return u.className&&(p=u.className),l.className&&(p=(p?p+" ":"")+l.className),T.createElement("svg",nS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},u.attr,h,v,{className:p,style:nS(nS({color:l.color||u.color},u.style),l.style),height:C,width:C,xmlns:"http://www.w3.org/2000/svg"}),E&&T.createElement("title",null,E),l.children)};return void 0!==nk?T.createElement(nk.Consumer,null,function(l){return t(l)}):t(nv)}function rn(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"}}]})(l)}function on(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"}}]})(l)}function an(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"}}]})(l)}function Mr(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"}}]})(l)}function Rr(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"}}]})(l)}function Lr(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"}}]})(l)}function ln(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.3643 15.5353L16.95 14.1211L18.3643 12.7069C20.3169 10.7543 20.3169 7.58847 18.3643 5.63585C16.4116 3.68323 13.2458 3.68323 11.2932 5.63585L9.87898 7.05007L8.46477 5.63585L9.87898 4.22164C12.6127 1.48797 17.0448 1.48797 19.7785 4.22164C22.5121 6.95531 22.5121 11.3875 19.7785 14.1211L18.3643 15.5353ZM15.5358 18.3638L14.1216 19.778C11.388 22.5117 6.9558 22.5117 4.22213 19.778C1.48846 17.0443 1.48846 12.6122 4.22213 9.87849L5.63634 8.46428L7.05055 9.87849L5.63634 11.2927C3.68372 13.2453 3.68372 16.4112 5.63634 18.3638C7.58896 20.3164 10.7548 20.3164 12.7074 18.3638L14.1216 16.9496L15.5358 18.3638ZM14.8287 7.75717L16.2429 9.17139L9.17187 16.2425L7.75766 14.8282L14.8287 7.75717Z"}}]})(l)}function sn(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"}}]})(l)}function cn(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"}}]})(l)}function ce(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"}}]})(l)}function Dr(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"}}]})(l)}function Or(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"}}]})(l)}function F(l){let u=te();if(l||(l=null==u?void 0:u.editor),!l)throw Error("'editor' is required, either from BlockNoteContext or as a function argument");let p=l,[h,g]=(0,T.useState)(()=>{var l;return(null==(l=p.getSelection())?void 0:l.blocks)||[p.getTextCursorPosition().block]});return z(()=>{var l;return g((null==(l=p.getSelection())?void 0:l.blocks)||[p.getTextCursorPosition().block])},p),h}let Ar=l=>nT.jsxs(ed,{gap:0,className:"bn-tooltip",children:[nT.jsx(ef,{size:"sm",children:l.mainTooltip}),l.secondaryTooltip&&nT.jsx(ef,{size:"xs",children:l.secondaryTooltip})]}),nw=(0,T.forwardRef)((l,u)=>{let p=l.icon;return nT.jsx(eB,{withinPortal:!1,label:nT.jsx(Ar,{mainTooltip:l.mainTooltip,secondaryTooltip:l.secondaryTooltip}),children:l.children?nT.jsxs(eZ,{onMouseDown:l=>{(0,E.G6)()&&l.currentTarget.focus()},onClick:l.onClick,"data-selected":l.isSelected?"true":void 0,"data-test":l.mainTooltip.slice(0,1).toLowerCase()+l.mainTooltip.replace(/\s+/g,"").slice(1),size:"xs",disabled:l.isDisabled||!1,ref:u,children:[p&&nT.jsx(p,{}),l.children]}):nT.jsx(e4,{onMouseDown:l=>{(0,E.G6)()&&l.currentTarget.focus()},onClick:l.onClick,"data-selected":l.isSelected?"true":void 0,"data-test":l.mainTooltip.slice(0,1).toLowerCase()+l.mainTooltip.replace(/\s+/g,"").slice(1),size:30,disabled:l.isDisabled||!1,ref:u,children:p&&nT.jsx(p,{})})})}),nx={bold:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"}}]})(l)},italic:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"}}]})(l)},underline:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"}}]})(l)},strike:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"}}]})(l)},code:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23 11.9998L15.9289 19.0708L14.5147 17.6566L20.1716 11.9998L14.5147 6.34292L15.9289 4.92871L23 11.9998ZM3.82843 11.9998L9.48528 17.6566L8.07107 19.0708L1 11.9998L8.07107 4.92871L9.48528 6.34292L3.82843 11.9998Z"}}]})(l)}},nA={bold:"Mod+B",italic:"Mod+I",underline:"Mod+U",strike:"Mod+Shift+X",code:""},ke=l=>{var u;let p=w(),h=(u=l.basicTextStyle)in p.schema.styleSchema&&p.schema.styleSchema[u].type===u&&"boolean"===p.schema.styleSchema[u].propSchema,g=F(p),[v,C]=(0,T.useState)(l.basicTextStyle in p.getActiveStyles());z(()=>{h&&C(l.basicTextStyle in p.getActiveStyles())},p);let c=l=>{if(h){if(p.focus(),"boolean"!==p.schema.styleSchema[l].propSchema)throw Error("can only toggle boolean styles");p.toggleStyles({[l]:!0})}};return(0,T.useMemo)(()=>!!h&&!!g.find(l=>void 0!==l.content),[h,g])?nT.jsx(nw,{onClick:()=>c(l.basicTextStyle),isSelected:v,mainTooltip:l.basicTextStyle.slice(0,1).toUpperCase()+l.basicTextStyle.slice(1),secondaryTooltip:(0,E.eD)(nA[l.basicTextStyle]),icon:nx[l.basicTextStyle]}):null};function Xe(){let l=(0,T.useRef)(null);return{ref:l,updateMaxHeight:()=>{setTimeout(()=>{if(l.current&&l.current.childElementCount>0){l.current.firstElementChild.style.maxHeight="none";let u=l.current.firstElementChild.getBoundingClientRect();l.current.firstElementChild.style.maxHeight=`${Math.min(u.top>=0?window.innerHeight-u.top-20:u.bottom-20)}px`}},10)}}}let $e=l=>{let u=l.textColor||"default",p=l.backgroundColor||"default",h=l.size||16,g=(0,T.useMemo)(()=>({pointerEvents:"none",fontSize:(.75*h).toString()+"px",height:h.toString()+"px",lineHeight:h.toString()+"px",textAlign:"center",width:h.toString()+"px"}),[h]);return nT.jsx(er,{className:"bn-color-icon","data-background-color":p,"data-text-color":u,style:g,children:"A"})};function We(l){return y({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"}}]})(l)}let un=l=>nT.jsxs(nT.Fragment,{children:[nT.jsx(()=>l.text?nT.jsxs(nT.Fragment,{children:[nT.jsx(Menu.Label,{children:"Text"}),["default","gray","brown","red","orange","yellow","green","blue","purple","pink"].map(u=>nT.jsx(Menu.Item,{onClick:()=>{l.onClick&&l.onClick(),l.text.setColor(u)},component:"div","data-test":"text-color-"+u,leftSection:nT.jsx($e,{textColor:u,size:l.iconSize}),rightSection:l.text.color===u?nT.jsx(We,{size:20,className:"bn-tick-icon"}):nT.jsx("div",{className:"bn-tick-space"}),children:u.charAt(0).toUpperCase()+u.slice(1)},"text-color-"+u))]}):null,{}),nT.jsx(()=>l.background?nT.jsxs(nT.Fragment,{children:[nT.jsx(Menu.Label,{children:"Background"}),["default","gray","brown","red","orange","yellow","green","blue","purple","pink"].map(u=>nT.jsx(Menu.Item,{onClick:()=>{l.onClick&&l.onClick(),l.background.setColor(u)},component:"div","data-test":"background-color-"+u,leftSection:nT.jsx($e,{backgroundColor:u,size:l.iconSize}),rightSection:l.background.color===u?nT.jsx(We,{size:20,className:"bn-tick-icon"}):nT.jsx("div",{className:"bn-tick-space"}),children:u.charAt(0).toUpperCase()+u.slice(1)},"background-color-"+u))]}):null,{})]});function Et(l,u){return`${l}Color` in u.schema.styleSchema&&u.schema.styleSchema[`${l}Color`].type===`${l}Color`&&"string"===u.schema.styleSchema[`${l}Color`].propSchema}let zr=()=>{let l=w(),u=Et("text",l),p=Et("background",l),h=F(l),[g,E]=(0,T.useState)(u&&l.getActiveStyles().textColor||"default"),[v,C]=(0,T.useState)(p&&l.getActiveStyles().backgroundColor||"default");z(()=>{u&&E(l.getActiveStyles().textColor||"default"),p&&C(l.getActiveStyles().backgroundColor||"default")},l);let{ref:x,updateMaxHeight:M}=Xe(),O=(0,T.useCallback)(p=>{if(!u)throw Error("Tried to set text color, but style does not exist in editor schema.");l.focus(),"default"===p?l.removeStyles({textColor:p}):l.addStyles({textColor:p})},[l,u]),R=(0,T.useCallback)(u=>{if(!p)throw Error("Tried to set background color, but style does not exist in editor schema.");l.focus(),"default"===u?l.removeStyles({backgroundColor:u}):l.addStyles({backgroundColor:u})},[p,l]);return(0,T.useMemo)(()=>{if(!u&&!p)return!1;for(let l of h)if(void 0!==l.content)return!0;return!1},[p,h,u])?nT.jsxs(Menu,{withinPortal:!1,onOpen:M,children:[nT.jsx(Menu.Target,{children:nT.jsx(nw,{mainTooltip:"Colors",icon:()=>nT.jsx($e,{textColor:g,backgroundColor:v,size:20})})}),nT.jsx("div",{ref:x,children:nT.jsx(Menu.Dropdown,{children:nT.jsx(un,{text:u?{color:g,setColor:O}:void 0,background:p?{color:v,setColor:R}:void 0})})})]}):null},et=l=>nT.jsxs(Popover,{withinPortal:!1,zIndex:1e4,children:[nT.jsx(Popover.Target,{children:l.button}),nT.jsx(Popover.Dropdown,{children:nT.jsx(ed,{className:"bn-toolbar-input-dropdown",children:l.dropdownItems})})]}),n_={text:tK,file:t1},qe=l=>{let{type:u,icon:p,...h}=l,g=n_[l.type],T=l.icon;return nT.jsx(el,{children:nT.jsx(g,{size:"xs",icon:nT.jsx(T,{}),...h})})},dn=l=>{let{url:u,text:p,editLink:h}=l,[g,E]=(0,T.useState)(u),[v,C]=(0,T.useState)(p);(0,T.useEffect)(()=>{E(u),C(p)},[p,u]);let x=(0,T.useCallback)(l=>{"Enter"===l.key&&(l.preventDefault(),h(g,v))},[h,g,v]),M=(0,T.useCallback)(l=>E(l.currentTarget.value),[]),O=(0,T.useCallback)(l=>C(l.currentTarget.value),[]),R=(0,T.useCallback)(()=>h(g,v),[h,g,v]);return nT.jsxs(nT.Fragment,{children:[nT.jsx(qe,{type:"text",icon:ln,autoFocus:!0,placeholder:"Edit URL",value:g,onKeyDown:x,onChange:M,onSubmit:R}),nT.jsx(qe,{type:"text",icon:ce,placeholder:"Edit Title",value:v,onKeyDown:x,onChange:O,onSubmit:R})]})},Wr=()=>{let l=w(),u="link"in l.schema.inlineContentSchema&&"link"===l.schema.inlineContentSchema.link,p=F(l),[h,g]=(0,T.useState)(l.getSelectedLinkUrl()||""),[v,C]=(0,T.useState)(l.getSelectedText());z(()=>{C(l.getSelectedText()||""),g(l.getSelectedLinkUrl()||"")},l);let x=(0,T.useCallback)((u,p)=>{l.createLink(u,p),l.focus()},[l]);return(0,T.useMemo)(()=>{if(!u)return!1;for(let l of p)if(void 0===l.content)return!1;return!0},[u,p])?nT.jsx(et,{button:nT.jsx(nw,{mainTooltip:"Create Link",secondaryTooltip:(0,E.eD)("Mod+K"),icon:ln}),dropdownItems:nT.jsx(dn,{url:h,text:v,editLink:x})}):null},qr=()=>{let l=w(),[u,p]=(0,T.useState)(),h=F(l),g=(0,T.useMemo)(()=>{if(1!==h.length)return;let u=h[0];if((0,E.fl)("image",u,l))return u},[l,h]),v=(0,T.useCallback)(p=>{g&&(0,E._v)("image",l)&&"Enter"===p.key&&(p.preventDefault(),l.updateBlock(g,{type:"image",props:{caption:u}}))},[u,l,g]),C=(0,T.useCallback)(l=>p(l.currentTarget.value),[]);return g?nT.jsx(et,{button:nT.jsx(nw,{mainTooltip:"Edit Caption",icon:ce,isSelected:""!==g.props.caption}),dropdownItems:nT.jsx(qe,{type:"text",icon:ce,value:u,autoFocus:!0,placeholder:"Edit Caption",onKeyDown:v,defaultValue:g.props.caption,onChange:C})}):null},Yr=()=>{let l=w(),u=F(l),[p,h]=(0,T.useState)(()=>l.canNestBlock());z(()=>{h(l.canNestBlock())},l);let g=(0,T.useCallback)(()=>{l.focus(),l.nestBlock()},[l]);return(0,T.useMemo)(()=>!u.find(u=>"inline"!==l.schema.blockSchema[u.type].content),[l.schema.blockSchema,u])?nT.jsx(nw,{onClick:g,isDisabled:!p,mainTooltip:"Nest Block",secondaryTooltip:(0,E.eD)("Tab"),icon:Rr}):null},Kr=()=>{let l=w(),u=F(l),[p,h]=(0,T.useState)(()=>l.canUnnestBlock());z(()=>{h(l.canUnnestBlock())},l);let g=(0,T.useCallback)(()=>{l.focus(),l.unnestBlock()},[l]);return(0,T.useMemo)(()=>!u.find(u=>"inline"!==l.schema.blockSchema[u.type].content),[l.schema.blockSchema,u])?nT.jsx(nw,{onClick:g,isDisabled:!p,mainTooltip:"Unnest Block",secondaryTooltip:(0,E.eD)("Shift+Tab"),icon:Mr}):null},nN=(0,T.forwardRef)((l,u)=>{let{className:p,children:h,...g}=l;return nT.jsx("div",{className:(0,E.xQ)("bn-image-panel-tab",p||""),...g,ref:u,children:h})}),nM=(0,T.forwardRef)((l,u)=>nT.jsx(t1,{size:"xs",...l,ref:u,"data-test":"upload-input"})),Jr=l=>{let{block:u,setLoading:p}=l,h=w(),[g,E]=(0,T.useState)(!1);(0,T.useEffect)(()=>{g&&setTimeout(()=>{E(!1)},3e3)},[g]);let v=(0,T.useCallback)(l=>{null!==l&&d(l);async function d(l){if(p(!0),void 0!==h.uploadFile)try{let p=await h.uploadFile(l);h.updateBlock(u,{type:"image",props:{url:p}})}catch{E(!0)}finally{p(!1)}}},[u,h,p]);return void 0!==h.uploadFile?nT.jsxs(nN,{children:[nT.jsx(nM,{placeholder:"Upload Image",value:null,onChange:v}),g&&nT.jsx(ef,{c:"red",size:"12px",children:"Error: Upload failed"})]}):null},nO=(0,T.forwardRef)((l,u)=>nT.jsx(tK,{size:"xs",...l,ref:u,"data-test":"embed-input"})),nI=(0,T.forwardRef)((l,u)=>nT.jsx(eZ,{size:"xs",...l,ref:u,"data-test":"embed-input-button",children:"Embed Image"})),eo=l=>{let{block:u}=l,p=w(),[h,g]=(0,T.useState)(""),E=(0,T.useCallback)(l=>{g(l.currentTarget.value)},[]),v=(0,T.useCallback)(l=>{"Enter"===l.key&&(l.preventDefault(),p.updateBlock(u,{type:"image",props:{url:h}}))},[p,u,h]),C=(0,T.useCallback)(()=>{p.updateBlock(u,{type:"image",props:{url:h}})},[p,u,h]);return nT.jsxs(nN,{children:[nT.jsx(nO,{placeholder:"Enter URL",value:h,onChange:E,onKeyDown:v,"data-test":"embed-input"}),nT.jsx(nI,{className:"bn-image-panel-button",onClick:C,"data-test":"embed-input-button",children:"Embed Image"})]})},gn=l=>{let u=w(),[p,h]=(0,T.useState)("default"),[g,E]=(0,T.useState)(!1);return nT.jsx(el,{className:"bn-image-panel",children:void 0!==l.children?l.children:nT.jsxs(ni,{value:p,onChange:h,children:[g&&nT.jsx(nu,{visible:g}),nT.jsxs(ni.List,{children:[void 0!==u.uploadFile&&nT.jsx(ni.Tab,{value:"default","data-test":"upload-tab",children:"Upload"}),nT.jsx(ni.Tab,{value:void 0===u.uploadFile?"default":"embed","data-test":"embed-tab",children:"Embed"})]}),void 0!==u.uploadFile&&nT.jsx(ni.Panel,{className:"bn-upload-image-panel",value:"default",children:nT.jsx(Jr,{block:l.block,setLoading:E})}),nT.jsx(ni.Panel,{className:"bn-embed-image-panel",value:void 0===u.uploadFile?"default":"embed",children:nT.jsx(eo,{block:l.block})})]})})},to=()=>{let l=w(),u=F(l),[p,h]=(0,T.useState)(!1);(0,T.useEffect)(()=>{h(!1)},[u]);let g=1===u.length?u[0]:void 0;return void 0!==g&&"image"===g.type&&(0,E.fl)("image",g,l)?nT.jsxs(Popover,{withinPortal:!1,opened:p,position:"bottom",children:[nT.jsx(Popover.Target,{children:nT.jsx(nw,{onClick:()=>h(!p),isSelected:p,mainTooltip:"Replace Image",icon:Dr})}),nT.jsx(Popover.Dropdown,{children:nT.jsx(gn,{block:g})})]}):null},nR={left:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"}}]})(l)},center:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"}}]})(l)},right:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"}}]})(l)},justify:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"}}]})(l)}},Ae=l=>{let u=w(),p=F(u),h=(0,T.useMemo)(()=>{let l=p[0];if((0,E.w2)("textAlignment",l,u))return l.props.textAlignment},[u,p]),g=(0,T.useCallback)(l=>{for(let h of(u.focus(),p))(0,E.xg)("textAlignment",h.type,u)&&u.updateBlock(h,{props:{textAlignment:l}})},[u,p]);return(0,T.useMemo)(()=>!!p.find(l=>"textAlignment"in l.props),[p])?nT.jsx(nw,{onClick:()=>g(l.textAlignment),isSelected:h===l.textAlignment,mainTooltip:"justify"===l.textAlignment?"Justify Text":"Align Text "+l.textAlignment.slice(0,1).toUpperCase()+l.textAlignment.slice(1),icon:nR[l.textAlignment]}):null};function ro(l){let u=l.icon;return nT.jsx(Menu.Item,{onClick:l.onClick,leftSection:u&&nT.jsx(u,{size:16}),rightSection:l.isSelected?nT.jsx(We,{size:20,className:"bn-tick-icon"}):nT.jsx("div",{className:"bn-tick-space"}),disabled:l.isDisabled,children:l.text},l.text)}function oo(l){return y({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(l)}function io(l){return y({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(l)}function ao(l){let u=l.items.filter(l=>l.isSelected)[0],{ref:p,updateMaxHeight:h}=Xe();if(!u)return null;let g=u.icon;return nT.jsxs(Menu,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:l.isDisabled,onOpen:h,children:[nT.jsx(Menu.Target,{children:nT.jsx(eZ,{onMouseDown:l=>{(0,E.G6)()&&l.currentTarget.focus()},leftSection:g&&nT.jsx(g,{size:16}),rightSection:nT.jsx(oo,{}),size:"xs",variant:"subtle",disabled:l.isDisabled,children:u.text})}),nT.jsx("div",{ref:p,children:nT.jsx(Menu.Dropdown,{children:l.items.map(l=>nT.jsx(ro,{...l},l.text))})})]})}let nL=[{name:"Paragraph",type:"paragraph",icon:ce,isSelected:l=>"paragraph"===l.type},{name:"Heading 1",type:"heading",props:{level:1},icon:rn,isSelected:l=>"heading"===l.type&&"level"in l.props&&1===l.props.level},{name:"Heading 2",type:"heading",props:{level:2},icon:on,isSelected:l=>"heading"===l.type&&"level"in l.props&&2===l.props.level},{name:"Heading 3",type:"heading",props:{level:3},icon:an,isSelected:l=>"heading"===l.type&&"level"in l.props&&3===l.props.level},{name:"Bullet List",type:"bulletListItem",icon:cn,isSelected:l=>"bulletListItem"===l.type},{name:"Numbered List",type:"numberedListItem",icon:sn,isSelected:l=>"numberedListItem"===l.type}],so=l=>{let u=w(),p=F(u),[h,g]=(0,T.useState)(u.getTextCursorPosition().block),v=(0,T.useMemo)(()=>(l.items||nL).filter(l=>(0,E._v)(l.type,u)),[u,l.items]),C=(0,T.useMemo)(()=>void 0!==v.find(l=>l.type===h.type),[h.type,v]),x=(0,T.useMemo)(()=>{let d=l=>{for(let h of(u.focus(),p))u.updateBlock(h,{type:l.type,props:l.props})};return v.map(l=>({text:l.name,icon:l.icon,onClick:()=>d(l),isSelected:l.isSelected(h)}))},[h,v,u,p]);return z(()=>{g(u.getTextCursorPosition().block)},u),C?nT.jsx(ao,{items:x}):null},co=l=>[nT.jsx(so,{items:l},"blockTypeSelect"),nT.jsx(qr,{},"imageCaptionButton"),nT.jsx(to,{},"replaceImageButton"),nT.jsx(ke,{basicTextStyle:"bold"},"boldStyleButton"),nT.jsx(ke,{basicTextStyle:"italic"},"italicStyleButton"),nT.jsx(ke,{basicTextStyle:"underline"},"underlineStyleButton"),nT.jsx(ke,{basicTextStyle:"strike"},"strikeStyleButton"),nT.jsx(Ae,{textAlignment:"left"},"textAlignLeftButton"),nT.jsx(Ae,{textAlignment:"center"},"textAlignCenterButton"),nT.jsx(Ae,{textAlignment:"right"},"textAlignRightButton"),nT.jsx(zr,{},"colorStyleButton"),nT.jsx(Yr,{},"nestBlockButton"),nT.jsx(Kr,{},"unnestBlockButton"),nT.jsx(Wr,{},"createLinkButton")],uo=l=>nT.jsx(nE,{children:l.children||co(l.blockTypeSelectItems)}),Mt=l=>{switch(l){case"left":default:return"top-start";case"center":return"top";case"right":return"top-end"}},fo=l=>{let u=(0,T.useRef)(null),p=w(),[h,g]=(0,T.useState)(()=>{let l=p.getTextCursorPosition().block;return"textAlignment"in l.props?Mt(l.props.textAlignment):"top-start"});z(()=>{let l=p.getTextCursorPosition().block;"textAlignment"in l.props?g(Mt(l.props.textAlignment)):g("top-start")},p);let E=ne(p.formattingToolbar.onUpdate.bind(p.formattingToolbar)),{isMounted:v,ref:x,style:M}=fe((null==E?void 0:E.show)||!1,(null==E?void 0:E.referencePos)||null,3e3,{placement:h,middleware:[(0,C.cv)(10),(0,C.RR)()]}),O=(0,T.useMemo)(()=>en([u,x]),[u,x]);if(!v||!E)return null;if(!E.show&&u.current)return nT.jsx("div",{ref:O,style:M,dangerouslySetInnerHTML:{__html:u.current.innerHTML}});let R=l.formattingToolbar||uo;return nT.jsx("div",{ref:O,style:M,children:nT.jsx(R,{})})},go=l=>nT.jsx(et,{button:nT.jsx(nw,{mainTooltip:"Edit",isSelected:!1,children:"Edit Link"}),dropdownItems:nT.jsx(dn,{...l})}),ho=l=>nT.jsx(nw,{mainTooltip:"Open in new tab",isSelected:!1,onClick:()=>{window.open(l.url,"_blank")},icon:Or}),mo=l=>nT.jsx(nw,{mainTooltip:"Remove link",isSelected:!1,onClick:l.deleteLink,icon:Lr}),bo=l=>l.children?nT.jsx(nE,{children:l.children}):nT.jsxs(nE,{onMouseEnter:l.stopHideTimer,onMouseLeave:l.startHideTimer,children:[nT.jsx(go,{url:l.url,text:l.text,editLink:l.editLink}),nT.jsx(ho,{url:l.url}),nT.jsx(mo,{deleteLink:l.deleteLink})]}),xo=l=>{let u=w(),p={deleteLink:u.linkToolbar.deleteLink,editLink:u.linkToolbar.editLink,startHideTimer:u.linkToolbar.startHideTimer,stopHideTimer:u.linkToolbar.stopHideTimer},h=ne(u.linkToolbar.onUpdate.bind(u.linkToolbar)),{isMounted:g,ref:T,style:E}=fe((null==h?void 0:h.show)||!1,(null==h?void 0:h.referencePos)||null,4e3,{placement:"top-start",middleware:[(0,C.cv)(10),(0,C.RR)()]});if(!g||!h)return null;let{show:v,referencePos:x,...M}=h,O=l.linkToolbar||bo;return nT.jsx("div",{ref:T,style:E,children:nT.jsx(O,{...M,...p})})},vo=l=>{let u=w();if(!u.imagePanel)throw Error("ImageToolbarController can only be used when BlockNote editor schema contains image block");let p=ne(u.imagePanel.onUpdate.bind(u.imagePanel)),{isMounted:h,ref:g,style:T}=fe((null==p?void 0:p.show)||!1,(null==p?void 0:p.referencePos)||null,5e3,{placement:"bottom",middleware:[(0,C.cv)(10),(0,C.RR)()]});if(!h||!p)return null;let{show:E,referencePos:v,...x}=p,M=l.imageToolbar||gn;return nT.jsx("div",{ref:g,style:T,children:nT.jsx(M,{...x})})};function ko(l){return y({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"}},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"}}]})(l)}let hn=l=>nT.jsx(e4,{size:24,children:l.children}),po=l=>nT.jsx(hn,{children:nT.jsx(ko,{size:24,onClick:l.addBlock,"data-test":"dragHandleAdd"})});function mn(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(l)}let bn=l=>{let{children:u,...p}=l;return nT.jsx(Menu.Item,{...p,children:u})},Co=l=>{let u=w(),[p,h]=(0,T.useState)(!1),{ref:g,updateMaxHeight:v}=Xe(),C=(0,T.useRef)(),x=(0,T.useCallback)(()=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{h(!1)},250)},[]),M=(0,T.useCallback)(()=>{C.current&&clearTimeout(C.current),p||v(),h(!0)},[p,v]);return(0,E.xg)("textColor",l.block.type,u)||(0,E.xg)("backgroundColor",l.block.type,u)?nT.jsx(bn,{onMouseLeave:x,onMouseOver:M,children:nT.jsxs(Menu,{withinPortal:!1,opened:p,position:"right",children:[nT.jsx(Menu.Target,{children:nT.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[nT.jsx("div",{style:{flex:1},children:l.children}),nT.jsx(er,{style:{display:"flex",alignItems:"center"},children:nT.jsx(io,{size:15})})]})}),nT.jsx("div",{ref:g,children:nT.jsx(Menu.Dropdown,{onMouseLeave:x,onMouseOver:M,style:{marginLeft:"5px"},children:nT.jsx(un,{iconSize:18,text:(0,E.xg)("textColor",l.block.type,u)&&(0,E.w2)("textColor",l.block,u)?{color:l.block.props.textColor,setColor:p=>u.updateBlock(l.block,{type:l.block.type,props:{textColor:p}})}:void 0,background:(0,E.xg)("backgroundColor",l.block.type,u)&&(0,E.w2)("backgroundColor",l.block,u)?{color:l.block.props.backgroundColor,setColor:p=>u.updateBlock(l.block,{props:{backgroundColor:p}})}:void 0})})})]})}):null},yo=l=>{let u=w();return nT.jsx(bn,{onClick:()=>u.removeBlocks([l.block]),children:l.children})},So=l=>nT.jsx(Menu.Dropdown,{className:"bn-drag-handle-menu",children:l.children||nT.jsxs(nT.Fragment,{children:[nT.jsx(yo,{...l,children:"Delete"}),nT.jsx(Co,{...l,children:"Colors"})]})}),jo=l=>{let u=l.dragHandleMenu||So;return nT.jsxs(Menu,{withinPortal:!1,trigger:"click",onOpen:l.freezeMenu,onClose:l.unfreezeMenu,width:100,position:"left",children:[nT.jsx(Menu.Target,{children:nT.jsx("div",{className:"bn-drag-handle",draggable:"true",onDragStart:l.blockDragStart,onDragEnd:l.blockDragEnd,children:nT.jsx(hn,{children:nT.jsx(mn,{size:24,"data-test":"dragHandle"})})})}),nT.jsx(u,{block:l.block})]})},wo=l=>{let{addBlock:u,...p}=l;return nT.jsx(el,{className:"bn-side-menu",gap:0,children:l.children||nT.jsxs(nT.Fragment,{children:[nT.jsx(po,{addBlock:u}),nT.jsx(jo,{...p})]})})},To=l=>{let u=w(),p={addBlock:u.sideMenu.addBlock,blockDragStart:u.sideMenu.blockDragStart,blockDragEnd:u.sideMenu.blockDragEnd,freezeMenu:u.sideMenu.freezeMenu,unfreezeMenu:u.sideMenu.unfreezeMenu},h=ne(u.sideMenu.onUpdate.bind(u.sideMenu)),{isMounted:g,ref:T,style:E}=fe((null==h?void 0:h.show)||!1,(null==h?void 0:h.referencePos)||null,1e3,{placement:"left"});if(!g||!h)return null;let{show:v,referencePos:C,...x}=h,M=l.sideMenu||wo;return nT.jsx("div",{ref:T,style:E,children:nT.jsx(M,{...x,...p})})},nP={"Heading 1":rn,"Heading 2":on,"Heading 3":an,"Numbered List":sn,"Bullet List":cn,Paragraph:ce,Table:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"}}]})(l)},Image:function(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"}}]})(l)}};function xn(l){return(0,E.tp)(l).map(l=>{let u=nP[l.title];return{...l,icon:nT.jsx(u,{size:18})}})}function Vo(l){let u=w(),{getItems:p,suggestionMenuComponent:h,query:g,clearQuery:E,closeMenu:v,onItemClick:C}=l,x=(0,T.useCallback)(l=>{v(),E(),null==C||C(l)},[C,v,E]),{items:M,usedQuery:O,loadingState:R}=function(l,u){let[p,h]=(0,T.useState)([]),[g,E]=(0,T.useState)(!1),v=(0,T.useRef)(),C=(0,T.useRef)();return(0,T.useEffect)(()=>{v.current=l,E(!0),u(l).then(u=>{v.current===l&&(h(u),E(!1),C.current=l)})},[l,u]),{items:p||[],usedQuery:C.current,loadingState:void 0===C.current?"loading-initial":g?"loading":"loaded"}}(g,p);!function(l,u,p,h=3){let g=(0,T.useRef)(0);(0,T.useEffect)(()=>{void 0!==u&&(l.length>0?g.current=u.length:u.length-g.current>h&&p())},[p,h,l.length,u])}(M,O,v);let L=function(l,u,p,h){let[g,E]=(0,T.useState)(0);return(0,T.useEffect)(()=>{let c=l=>"ArrowUp"===l.key?(l.preventDefault(),u.length&&E((g-1+u.length)%u.length),!0):"ArrowDown"===l.key?(l.preventDefault(),u.length&&E((g+1)%u.length),!0):"Enter"===l.key?(l.preventDefault(),u.length&&(null==h||h(u[g])),!0):"Escape"===l.key&&(l.preventDefault(),p(),!0);return l.domElement.addEventListener("keydown",c,!0),()=>{l.domElement.removeEventListener("keydown",c,!0)}},[p,l.domElement,u,g,h]),g}(u,M,v,x);return nT.jsx(h,{items:M,onItemClick:x,loadingState:R,selectedIndex:L})}function Bo(l){let u=(0,T.useRef)(null);function n(){var p;let h=l.isSelected,g=null==(p=u.current)?void 0:p.matches(":hover");return h||g}function r(){var l,p;n()?null==(l=u.current)||l.setAttribute("data-hovered","true"):null==(p=u.current)||p.removeAttribute("data-hovered")}return(0,T.useEffect)(()=>{r(),n()&&u.current&&u.current.getBoundingClientRect().left>5&&u.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),nT.jsx(Menu.Item,{className:"bn-slash-menu-item",onClick:l.onClick,closeMenuOnClick:!1,onMouseLeave:()=>{setTimeout(()=>{r()},1)},leftSection:l.icon,rightSection:l.badge&&nT.jsx(nh,{size:"xs",children:l.badge}),ref:u,children:nT.jsxs(ed,{children:[nT.jsx(ef,{lh:"20px",size:"14px",fw:500,children:l.title}),nT.jsx(ef,{lh:"16px",size:"10px",children:l.subtext})]})})}function Io(l){let{items:u,loadingState:p,selectedIndex:h,onItemClick:g}=l,E="loading-initial"===p||"loading"===p?nT.jsx(e$,{className:"bn-slash-menu-loader",type:"dots"}):null,v=(0,T.useMemo)(()=>{let l;let p=[];for(let E=0;E<u.length;E++){let v=u[E];v.group!==l&&(l=v.group,p.push(nT.jsx(Menu.Label,{children:l},l))),p.push((0,T.createElement)(Bo,{...v,isSelected:E===h,key:v.title,onClick:()=>null==g?void 0:g(v)}))}return p},[u,h,g]);return nT.jsx(Menu,{withinPortal:!1,trapFocus:!1,defaultOpened:!0,trigger:"hover",closeDelay:1e7,children:nT.jsxs(Menu.Dropdown,{onMouseDown:l=>l.preventDefault(),className:"bn-slash-menu",children:[v,0===T.Children.count(v)&&("loading"===l.loadingState||"loaded"===l.loadingState)&&nT.jsx(Menu.Item,{children:"No match found"}),E]})})}function _o(l){let u=w(),{triggerCharacter:p,suggestionMenuComponent:h}=l,{onItemClick:g,getItems:T}=l;g||(g=l=>{l.onItemClick(u)});let v={closeMenu:u.suggestionMenus.closeMenu,clearQuery:u.suggestionMenus.clearQuery},x=ne(l=>u.suggestionMenus.onUpdate.bind(u.suggestionMenus)(p,l)),{isMounted:M,ref:O,style:R}=fe((null==x?void 0:x.show)||!1,(null==x?void 0:x.referencePos)||null,2e3,{placement:"bottom-start",middleware:[(0,C.cv)(10),(0,C.RR)(),(0,C.dp)({apply({availableHeight:l,elements:u}){Object.assign(u.floating.style,{maxHeight:`${l-10}px`})}})]});return M&&x?(T||(T=async l=>(0,E.yD)(xn(u),l)),nT.jsx("div",{ref:O,style:R,children:nT.jsx(Vo,{query:x.query,closeMenu:v.closeMenu,clearQuery:v.clearQuery,getItems:T,suggestionMenuComponent:h||Io,onItemClick:g})})):null}function Rt(l,u,p,h,g){let{refs:E,update:x,context:M,floatingStyles:O}=(0,v.YF)({open:u,placement:"row"===l?"left":"top",middleware:[(0,C.cv)("row"===l?-10:-12)]}),{isMounted:R,styles:L}=(0,v.Y_)(M);return(0,T.useEffect)(()=>{x()},[p,h,x]),(0,T.useEffect)(()=>{null===p||null===h||E.setReference({getBoundingClientRect:()=>("row"===l?function(l,u,p){return p&&"row"===p.draggedCellOrientation?new DOMRect(u.x,p.mousePos,u.width,0):new DOMRect(u.x,l.y,u.width,l.height)}:function(l,u,p){return p&&"col"===p.draggedCellOrientation?new DOMRect(p.mousePos,u.y,0,u.height):new DOMRect(l.x,u.y,l.width,u.height)})(p,h,g)})},[g,l,p,h,E]),(0,T.useMemo)(()=>({isMounted:R,ref:E.setFloating,style:{display:"flex",...L,...O,zIndex:1e4}}),[O,R,E.setFloating,L])}let we=l=>{let{children:u,...p}=l;return nT.jsx(Menu.Item,{...p,children:u})},Ao=l=>{let u=w();return nT.jsx(we,{onClick:()=>{let p=l.block.content.rows[l.index].cells.map(()=>[]),h=[...l.block.content.rows];h.splice(l.index+("below"===l.side?1:0),0,{cells:p}),u.updateBlock(l.block,{type:"table",content:{type:"tableContent",rows:h}})},children:`Add row ${l.side}`})},Fo=l=>{let u=w();return nT.jsx(we,{onClick:()=>{let p={type:"tableContent",rows:l.block.content.rows.map(u=>{let p=[...u.cells];return p.splice(l.index+("right"===l.side?1:0),0,[]),{cells:p}})};u.updateBlock(l.block,{type:"table",content:p})},children:`Add column ${l.side}`})},Vt=l=>"row"===l.orientation?nT.jsx(Ao,{...l,side:l.side}):nT.jsx(Fo,{...l,side:l.side}),No=l=>{let u=w();return nT.jsx(we,{onClick:()=>{let p={type:"tableContent",rows:l.block.content.rows.filter((u,p)=>p!==l.index)};u.updateBlock(l.block,{type:"table",content:p})},children:"Delete row"})},Zo=l=>{let u=w();return nT.jsx(we,{onClick:()=>{let p={type:"tableContent",rows:l.block.content.rows.map(u=>({cells:u.cells.filter((u,p)=>p!==l.index)}))};u.updateBlock(l.block,{type:"table",content:p})},children:"Delete column"})},zo=l=>"row"===l.orientation?nT.jsx(No,{...l}):nT.jsx(Zo,{...l}),Uo=l=>nT.jsx(Menu.Dropdown,{className:"bn-table-handle-menu",children:l.children||nT.jsxs(nT.Fragment,{children:[nT.jsx(zo,{orientation:l.orientation,block:l.block,index:l.index}),nT.jsx(Vt,{orientation:l.orientation,block:l.block,index:l.index,side:"row"===l.orientation?"above":"left"}),nT.jsx(Vt,{orientation:l.orientation,block:l.block,index:l.index,side:"row"===l.orientation?"below":"right"})]})}),$o=l=>{let[u,p]=(0,T.useState)(!1),h=l.tableHandleMenu||Uo;return nT.jsxs(Menu,{withinPortal:!1,trigger:"click",onOpen:()=>{l.freezeHandles(),l.hideOtherSide()},onClose:()=>{l.unfreezeHandles(),l.showOtherSide()},position:"right",children:[nT.jsx(Menu.Target,{children:nT.jsx("div",{className:(0,E.xQ)("bn-table-handle",u?"bn-table-handle-dragging":""),draggable:"true",onDragStart:u=>{p(!0),l.dragStart(u)},onDragEnd:()=>{l.dragEnd(),p(!1)},style:"column"===l.orientation?{transform:"rotate(0.25turn)"}:void 0,children:l.children||nT.jsx(mn,{size:24,"data-test":"tableHandle"})})}),nT.jsx(h,{orientation:l.orientation,block:l.block,index:l.index})]})},Wo=l=>{var u,p;let h=w();if(!h.tableHandles)throw Error("TableHandlesController can only be used when BlockNote editor schema contains table block");let g={rowDragStart:h.tableHandles.rowDragStart,colDragStart:h.tableHandles.colDragStart,dragEnd:h.tableHandles.dragEnd,freezeHandles:h.tableHandles.freezeHandles,unfreezeHandles:h.tableHandles.unfreezeHandles},E=ne(h.tableHandles.onUpdate.bind(h.tableHandles)),{rowHandle:v,colHandle:C}=function(l,u,p,h){let g=Rt("row",l,u,p,h),E=Rt("col",l,u,p,h);return(0,T.useMemo)(()=>({rowHandle:g,colHandle:E}),[E,g])}((null==E?void 0:E.show)||!1,(null==E?void 0:E.referencePosCell)||null,(null==E?void 0:E.referencePosTable)||null,null!=E&&E.draggingState?{draggedCellOrientation:null==(u=null==E?void 0:E.draggingState)?void 0:u.draggedCellOrientation,mousePos:null==(p=null==E?void 0:E.draggingState)?void 0:p.mousePos}:void 0),[x,M]=(0,T.useState)(!1),[O,R]=(0,T.useState)(!1);if(!v.isMounted||!C.isMounted||!E)return null;let L=l.tableHandle||$o;return nT.jsxs(nT.Fragment,{children:[!x&&nT.jsx("div",{ref:v.ref,style:v.style,children:nT.jsx(L,{editor:h,orientation:"row",showOtherSide:()=>R(!1),hideOtherSide:()=>R(!0),index:E.rowIndex,block:E.block,dragStart:g.rowDragStart,dragEnd:g.dragEnd,freezeHandles:g.freezeHandles,unfreezeHandles:g.unfreezeHandles})}),!O&&nT.jsx("div",{ref:C.ref,style:C.style,children:nT.jsx(L,{editor:h,orientation:"column",showOtherSide:()=>M(!1),hideOtherSide:()=>M(!0),index:E.colIndex,block:E.block,dragStart:g.colDragStart,dragEnd:g.dragEnd,freezeHandles:g.freezeHandles,unfreezeHandles:g.unfreezeHandles})})]})};function qo(l){let u=w();if(!u)throw Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return nT.jsxs(nT.Fragment,{children:[!1!==l.formattingToolbar&&nT.jsx(fo,{}),!1!==l.linkToolbar&&nT.jsx(xo,{}),!1!==l.slashMenu&&nT.jsx(_o,{getItems:async l=>(0,E.yD)(xn(u),l),onItemClick:l=>{l.onItemClick()},triggerCharacter:"/"}),!1!==l.sideMenu&&nT.jsx(To,{}),u.imagePanel&&!1!==l.imageToolbar&&nT.jsx(vo,{}),u.tableHandles&&!1!==l.tableHandles&&nT.jsx(Wo,{})]})}let vn=(l,u,p=!1)=>((function a(l,h="--bn"){for(let g in l){let T=g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),E=`${h}-${T}`;"object"!=typeof l[g]?("number"==typeof l[g]&&(l[g]=`${l[g]}px`),p?u.style.removeProperty(E):u.style.setProperty(E,l[g].toString())):a(l[g],E)}})(l),[]),Lt=(l,u)=>vn(l,u),nD={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},Ko=l=>vn(nD,l,!0),Go=({renderers:l})=>nT.jsx(nT.Fragment,{children:Object.entries(l).map(([l,u])=>(0,eE.createPortal)(u.reactElement,u.element,l))});function Jo(l){let[u,p]=(0,T.useState)({}),[h,g]=(0,T.useState)();return(0,T.useEffect)(()=>(l.editor._tiptapEditor.contentComponent={setRenderer(l,u){p(p=>({...p,[l]:u}))},removeRenderer(l){p(u=>{let p={...u};return delete p[l],p})},renderToElement(l,u){(0,eE.flushSync)(()=>{g({node:l,container:u})}),g(void 0)}},queueMicrotask(()=>{l.editor._tiptapEditor.createNodeViews()}),()=>{l.editor._tiptapEditor.contentComponent=null}),[l.editor._tiptapEditor]),nT.jsxs(nT.Fragment,{children:[nT.jsx(Go,{renderers:u}),h&&(0,eE.createPortal)(h.node,h.container),l.children]})}let nB={activeClassName:""},Bt=()=>{},nH=T.forwardRef(function(l,u){let{editor:p,className:h,theme:g,children:v,editable:C,onSelectionChange:x,onChange:M,formattingToolbar:O,linkToolbar:R,slashMenu:L,sideMenu:H,imageToolbar:U,tableHandles:j,...G}=l,W=te(),q=index_esm_d(),Y=(null==W?void 0:W.colorSchemePreference)||q,[X,Z]=(0,T.useState)(void 0),er=(0,T.useCallback)(l=>{if(l){if(Ko(l),"light"===g){Z("light");return}if("dark"===g){Z("dark");return}if("object"==typeof g){if("light"in g&&"dark"in g){Lt(g["dark"===Y?"dark":"light"],l),Z("dark"===Y?"dark":"light");return}Lt(g,l),Z(void 0);return}Z("dark"===Y?"dark":"light")}},[Y,g]);Je(M||Bt,p),Qe(x||Bt,p),(0,T.useEffect)(()=>{p.isEditable=!1!==C},[C,p]);let ea=(0,T.useMemo)(()=>nT.jsxs(nT.Fragment,{children:[v,nT.jsx(qo,{formattingToolbar:O,linkToolbar:R,slashMenu:L,sideMenu:H,imageToolbar:U,tableHandles:j})]}),[v,O,R,U,H,L,j]),es=(0,T.useMemo)(()=>({...W,editor:p}),[W,p]),el=(0,T.useMemo)(()=>en([er,p._tiptapEditor.mount,u]),[er,p._tiptapEditor.mount,u]);return nT.jsx(MantineProvider,{theme:nB,cssVariablesSelector:".bn-container",children:nT.jsx(ng.Provider,{value:es,children:nT.jsx(Jo,{editor:p,children:nT.jsx("div",{className:(0,E.xQ)("bn-container",h||""),"data-color-scheme":X,...G,ref:el,children:ea})})})})}),nF={borderRadius:6,fontFamily:'"Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont, "Open Sans", "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'};nF.borderRadius,nF.fontFamily;let ei=(l={},u=[])=>(0,T.useMemo)(()=>{let u=E.lw.create(l);return window&&(window.ProseMirror=u._tiptapEditor),u},u);function Ce(l,u){let p,h;let T=document.createElement("div");if(u?u._tiptapEditor.contentComponent.renderToElement(l(l=>p=l||void 0),T):(h=g(T),(0,eE.flushSync)(()=>{h.render(l(l=>p=l||void 0))})),!T.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};null==p||p.setAttribute("data-tmp-find","true");let E=T.cloneNode(!0),v=E.firstElementChild,C=E.querySelector("[data-tmp-find]");return null==C||C.removeAttribute("data-tmp-find"),null==h||h.unmount(),{dom:v,contentDOM:C||void 0}}function Fe(l){var u;return nT.jsx(nm.T5,{...Object.fromEntries(Object.entries(l.domAttributes||{}).filter(([l])=>"class"!==l)),className:(0,E.xQ)("bn-block-content",(null==(u=l.domAttributes)?void 0:u.class)||""),"data-content-type":l.blockType,...Object.fromEntries(Object.entries(l.blockProps).filter(([u,p])=>!E.rn.includes(u)&&p!==l.propSchema[u].default).map(([l,u])=>[(0,E.Rp)(l),u])),children:l.children})}function mi(l,u){let p=(0,E.BM)({name:l.type,content:"inline"===l.content?"inline*":"",group:"blockContent",selectable:!0,addAttributes:()=>(0,E.HC)(l.propSchema),parseHTML:()=>(0,E.rP)(l,u.parse),renderHTML(){let l=document.createElement("div");return l.setAttribute("data-tmp-placeholder","true"),{dom:l}},addNodeView(){return p=>(0,nm.fW)(p=>{var h;let g=this.options.editor,T=(0,E.kQ)(p.getPos,g,this.editor,l.type),v=(null==(h=this.options.domAttributes)?void 0:h.blockContent)||{},C=(0,nm.ms)({}).ref,x=u.render;return nT.jsx(Fe,{blockType:T.type,blockProps:T.props,propSchema:l.propSchema,domAttributes:v,children:nT.jsx(x,{block:T,editor:g,contentRef:C})})},{className:"bn-react-node-view-renderer"})(p)}});return(0,E.lz)(l,{node:p,toInternalHTML:(h,g)=>{var T,E;let v=(null==(T=p.options.domAttributes)?void 0:T.blockContent)||{},C=u.render,x=Ce(u=>nT.jsx(Fe,{blockType:h.type,blockProps:h.props,propSchema:l.propSchema,domAttributes:v,children:nT.jsx(C,{block:h,editor:g,contentRef:u})}),g);return null==(E=x.contentDOM)||E.setAttribute("data-editable",""),x},toExternalHTML:(h,g)=>{var T,E;let v=(null==(T=p.options.domAttributes)?void 0:T.blockContent)||{},C=u.toExternalHTML||u.render,x=Ce(u=>nT.jsx(Fe,{blockType:h.type,blockProps:h.props,propSchema:l.propSchema,domAttributes:v,children:nT.jsx(C,{block:h,editor:g,contentRef:u})}),g);return null==(E=x.contentDOM)||E.setAttribute("data-editable",""),x}})}g=eE.createRoot,eE.hydrateRoot},73870:function(l,u,p){"use strict";p.d(u,{ML:function(){return Editor},hj:function(){return Extension},VK:function(){return InputRule},vc:function(){return Mark},NB:function(){return Node},DK:function(){return NodeView},nU:function(){return callOrReturn},XP:function(){return combineTransactionSteps},OE:function(){return createDocument},Ov:function(){return escapeForRegEx},Rw:function(){return Z},N2:function(){return findChildren},b5:function(){return findChildrenInRange},Kk:function(){return findParentNode},u9:function(){return getAttributes},QC:function(){return getChangedRanges},Nl:function(){return getExtensionField},IH:function(){return getMarkRange},tI:function(){return getMarksBetween},EG:function(){return isNodeSelection},Cf:function(){return markInputRule},K9:function(){return markPasteRule},P1:function(){return mergeAttributes},pr:function(){return posToDOMRect},nj:function(){return selectionToInsertionEnd}});var h,g=p(75011),T=p(17712),E=p(49487),v=p(87218),C=p(98647);let deleteSelection=(l,u)=>!l.selection.empty&&(u&&u(l.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(l,u){let{$cursor:p}=l.selection;return p&&(u?u.endOfTextblock("backward",l):!(p.parentOffset>0))?p:null}let joinBackward=(l,u,p)=>{let h=atBlockStart(l,p);if(!h)return!1;let T=findCutBefore(h);if(!T){let p=h.blockRange(),g=p&&(0,C.k9)(p);return null!=g&&(u&&u(l.tr.lift(p,g).scrollIntoView()),!0)}let E=T.nodeBefore;if(!E.type.spec.isolating&&deleteBarrier(l,T,u))return!0;if(0==h.parent.content.size&&(textblockAt(E,"end")||g.qv.isSelectable(E))){let p=(0,C.dR)(l.doc,h.before(),h.after(),v.p2.empty);if(p&&p.slice.size<p.to-p.from){if(u){let h=l.tr.step(p);h.setSelection(textblockAt(E,"end")?g.Y1.findFrom(h.doc.resolve(h.mapping.map(T.pos,-1)),-1):g.qv.create(h.doc,T.pos-E.nodeSize)),u(h.scrollIntoView())}return!0}}return!!E.isAtom&&T.depth==h.depth-1&&(u&&u(l.tr.delete(T.pos-E.nodeSize,T.pos).scrollIntoView()),!0)},joinTextblockBackward=(l,u,p)=>{let h=atBlockStart(l,p);if(!h)return!1;let g=findCutBefore(h);return!!g&&joinTextblocksAround(l,g,u)},joinTextblockForward=(l,u,p)=>{let h=atBlockEnd(l,p);if(!h)return!1;let g=findCutAfter(h);return!!g&&joinTextblocksAround(l,g,u)};function joinTextblocksAround(l,u,p){let h=u.nodeBefore,T=u.pos-1;for(;!h.isTextblock;T--){if(h.type.spec.isolating)return!1;let l=h.lastChild;if(!l)return!1;h=l}let E=u.nodeAfter,x=u.pos+1;for(;!E.isTextblock;x++){if(E.type.spec.isolating)return!1;let l=E.firstChild;if(!l)return!1;E=l}let M=(0,C.dR)(l.doc,T,x,v.p2.empty);if(!M||M.from!=T||M instanceof C.Pu&&M.slice.size>=x-T)return!1;if(p){let u=l.tr.step(M);u.setSelection(g.Bs.create(u.doc,T)),p(u.scrollIntoView())}return!0}function textblockAt(l,u,p=!1){for(let h=l;h;h="start"==u?h.firstChild:h.lastChild){if(h.isTextblock)return!0;if(p&&1!=h.childCount)break}return!1}let selectNodeBackward=(l,u,p)=>{let{$head:h,empty:T}=l.selection,E=h;if(!T)return!1;if(h.parent.isTextblock){if(p?!p.endOfTextblock("backward",l):h.parentOffset>0)return!1;E=findCutBefore(h)}let v=E&&E.nodeBefore;return!!(v&&g.qv.isSelectable(v))&&(u&&u(l.tr.setSelection(g.qv.create(l.doc,E.pos-v.nodeSize)).scrollIntoView()),!0)};function findCutBefore(l){if(!l.parent.type.spec.isolating)for(let u=l.depth-1;u>=0;u--){if(l.index(u)>0)return l.doc.resolve(l.before(u+1));if(l.node(u).type.spec.isolating)break}return null}function atBlockEnd(l,u){let{$cursor:p}=l.selection;return p&&(u?u.endOfTextblock("forward",l):!(p.parentOffset<p.parent.content.size))?p:null}let joinForward=(l,u,p)=>{let h=atBlockEnd(l,p);if(!h)return!1;let T=findCutAfter(h);if(!T)return!1;let E=T.nodeAfter;if(deleteBarrier(l,T,u))return!0;if(0==h.parent.content.size&&(textblockAt(E,"start")||g.qv.isSelectable(E))){let p=(0,C.dR)(l.doc,h.before(),h.after(),v.p2.empty);if(p&&p.slice.size<p.to-p.from){if(u){let h=l.tr.step(p);h.setSelection(textblockAt(E,"start")?g.Y1.findFrom(h.doc.resolve(h.mapping.map(T.pos)),1):g.qv.create(h.doc,h.mapping.map(T.pos))),u(h.scrollIntoView())}return!0}}return!!E.isAtom&&T.depth==h.depth-1&&(u&&u(l.tr.delete(T.pos,T.pos+E.nodeSize).scrollIntoView()),!0)},selectNodeForward=(l,u,p)=>{let{$head:h,empty:T}=l.selection,E=h;if(!T)return!1;if(h.parent.isTextblock){if(p?!p.endOfTextblock("forward",l):h.parentOffset<h.parent.content.size)return!1;E=findCutAfter(h)}let v=E&&E.nodeAfter;return!!(v&&g.qv.isSelectable(v))&&(u&&u(l.tr.setSelection(g.qv.create(l.doc,E.pos)).scrollIntoView()),!0)};function findCutAfter(l){if(!l.parent.type.spec.isolating)for(let u=l.depth-1;u>=0;u--){let p=l.node(u);if(l.index(u)+1<p.childCount)return l.doc.resolve(l.after(u+1));if(p.type.spec.isolating)break}return null}let joinUp=(l,u)=>{let p=l.selection,h=p instanceof g.qv,T;if(h){if(p.node.isTextblock||!(0,C.Mn)(l.doc,p.from))return!1;T=p.from}else if(null==(T=(0,C.GJ)(l.doc,p.from,-1)))return!1;if(u){let p=l.tr.join(T);h&&p.setSelection(g.qv.create(p.doc,T-l.doc.resolve(T).nodeBefore.nodeSize)),u(p.scrollIntoView())}return!0},joinDown=(l,u)=>{let p=l.selection,h;if(p instanceof g.qv){if(p.node.isTextblock||!(0,C.Mn)(l.doc,p.to))return!1;h=p.to}else if(null==(h=(0,C.GJ)(l.doc,p.to,1)))return!1;return u&&u(l.tr.join(h).scrollIntoView()),!0},lift=(l,u)=>{let{$from:p,$to:h}=l.selection,g=p.blockRange(h),T=g&&(0,C.k9)(g);return null!=T&&(u&&u(l.tr.lift(g,T).scrollIntoView()),!0)},newlineInCode=(l,u)=>{let{$head:p,$anchor:h}=l.selection;return!!(p.parent.type.spec.code&&p.sameParent(h))&&(u&&u(l.tr.insertText("\n").scrollIntoView()),!0)};function defaultBlockAt(l){for(let u=0;u<l.edgeCount;u++){let{type:p}=l.edge(u);if(p.isTextblock&&!p.hasRequiredAttrs())return p}return null}let exitCode=(l,u)=>{let{$head:p,$anchor:h}=l.selection;if(!p.parent.type.spec.code||!p.sameParent(h))return!1;let T=p.node(-1),E=p.indexAfter(-1),v=defaultBlockAt(T.contentMatchAt(E));if(!v||!T.canReplaceWith(E,E,v))return!1;if(u){let h=p.after(),T=l.tr.replaceWith(h,h,v.createAndFill());T.setSelection(g.Y1.near(T.doc.resolve(h),1)),u(T.scrollIntoView())}return!0},createParagraphNear=(l,u)=>{let p=l.selection,{$from:h,$to:T}=p;if(p instanceof g.C1||h.parent.inlineContent||T.parent.inlineContent)return!1;let E=defaultBlockAt(T.parent.contentMatchAt(T.indexAfter()));if(!E||!E.isTextblock)return!1;if(u){let p=(!h.parentOffset&&T.index()<T.parent.childCount?h:T).pos,v=l.tr.insert(p,E.createAndFill());v.setSelection(g.Bs.create(v.doc,p+1)),u(v.scrollIntoView())}return!0},liftEmptyBlock=(l,u)=>{let{$cursor:p}=l.selection;if(!p||p.parent.content.size)return!1;if(p.depth>1&&p.after()!=p.end(-1)){let h=p.before();if((0,C.Ax)(l.doc,h))return u&&u(l.tr.split(h).scrollIntoView()),!0}let h=p.blockRange(),g=h&&(0,C.k9)(h);return null!=g&&(u&&u(l.tr.lift(h,g).scrollIntoView()),!0)},selectParentNode=(l,u)=>{let{$from:p,to:h}=l.selection,T,E=p.sharedDepth(h);return 0!=E&&(T=p.before(E),u&&u(l.tr.setSelection(g.qv.create(l.doc,T))),!0)};function deleteBarrier(l,u,p){let h,T,E,x=u.nodeBefore,M=u.nodeAfter,O,R;if(x.type.spec.isolating||M.type.spec.isolating)return!1;if(h=u.nodeBefore,T=u.nodeAfter,E=u.index(),h&&T&&h.type.compatibleContent(T.type)&&(!h.content.size&&u.parent.canReplace(E-1,E)?(p&&p(l.tr.delete(u.pos-h.nodeSize,u.pos).scrollIntoView()),!0):!!(u.parent.canReplace(E,E+1)&&(T.isTextblock||(0,C.Mn)(l.doc,u.pos)))&&(p&&p(l.tr.clearIncompatible(u.pos,h.type,h.contentMatchAt(h.childCount)).join(u.pos).scrollIntoView()),!0)))return!0;let L=u.parent.canReplace(u.index(),u.index()+1);if(L&&(O=(R=x.contentMatchAt(x.childCount)).findWrapping(M.type))&&R.matchType(O[0]||M.type).validEnd){if(p){let h=u.pos+M.nodeSize,g=v.HY.empty;for(let l=O.length-1;l>=0;l--)g=v.HY.from(O[l].create(null,g));g=v.HY.from(x.copy(g));let T=l.tr.step(new C.FC(u.pos-1,h,u.pos,h,new v.p2(g,1,0),O.length,!0)),E=h+2*O.length;(0,C.Mn)(T.doc,E)&&T.join(E),p(T.scrollIntoView())}return!0}let H=g.Y1.findFrom(u,1),U=H&&H.$from.blockRange(H.$to),j=U&&(0,C.k9)(U);if(null!=j&&j>=u.depth)return p&&p(l.tr.lift(U,j).scrollIntoView()),!0;if(L&&textblockAt(M,"start",!0)&&textblockAt(x,"end")){let h=x,g=[];for(;g.push(h),!h.isTextblock;)h=h.lastChild;let T=M,E=1;for(;!T.isTextblock;T=T.firstChild)E++;if(h.canReplace(h.childCount,h.childCount,T.content)){if(p){let h=v.HY.empty;for(let l=g.length-1;l>=0;l--)h=v.HY.from(g[l].copy(h));p(l.tr.step(new C.FC(u.pos-g.length,u.pos+M.nodeSize,u.pos+E,u.pos+M.nodeSize-E,new v.p2(h,g.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function selectTextblockSide(l){return function(u,p){let h=u.selection,T=l<0?h.$from:h.$to,E=T.depth;for(;T.node(E).isInline;){if(!E)return!1;E--}return!!T.node(E).isTextblock&&(p&&p(u.tr.setSelection(g.Bs.create(u.doc,l<0?T.start(E):T.end(E)))),!0)}}let x=selectTextblockSide(-1),M=selectTextblockSide(1);function setBlockType(l,u=null){return function(p,h){let g=!1;for(let h=0;h<p.selection.ranges.length&&!g;h++){let{$from:{pos:T},$to:{pos:E}}=p.selection.ranges[h];p.doc.nodesBetween(T,E,(h,T)=>{if(g)return!1;if(!(!h.isTextblock||h.hasMarkup(l,u))){if(h.type==l)g=!0;else{let u=p.doc.resolve(T),h=u.index();g=u.parent.canReplaceWith(h,h+1,l)}}})}if(!g)return!1;if(h){let g=p.tr;for(let h=0;h<p.selection.ranges.length;h++){let{$from:{pos:T},$to:{pos:E}}=p.selection.ranges[h];g.setBlockType(T,E,l,u)}h(g.scrollIntoView())}return!0}}function chainCommands(...l){return function(u,p,h){for(let g=0;g<l.length;g++)if(l[g](u,p,h))return!0;return!1}}let O=chainCommands(deleteSelection,joinBackward,selectNodeBackward),R=chainCommands(deleteSelection,joinForward,selectNodeForward),L={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,(l,u)=>{let{$from:p,$to:T}=l.selection;if(l.selection instanceof g.qv&&l.selection.node.isBlock)return!!(p.parentOffset&&(0,C.Ax)(l.doc,p.pos))&&(u&&u(l.tr.split(p.pos).scrollIntoView()),!0);if(!p.parent.isBlock)return!1;if(u){let E=T.parentOffset==T.parent.content.size,v=l.tr;(l.selection instanceof g.Bs||l.selection instanceof g.C1)&&v.deleteSelection();let x=0==p.depth?null:defaultBlockAt(p.node(-1).contentMatchAt(p.indexAfter(-1))),M=h&&h(T.parent,E),O=M?[M]:E&&x?[{type:x}]:void 0,R=(0,C.Ax)(v.doc,v.mapping.map(p.pos),1,O);if(!O&&!R&&(0,C.Ax)(v.doc,v.mapping.map(p.pos),1,x?[{type:x}]:void 0)&&(x&&(O=[{type:x}]),R=!0),R&&(v.split(v.mapping.map(p.pos),1,O),!E&&!p.parentOffset&&p.parent.type!=x)){let l=v.mapping.map(p.before()),u=v.doc.resolve(l);x&&p.node(-1).canReplaceWith(u.index(),u.index()+1,x)&&v.setNodeMarkup(v.mapping.map(p.before()),x)}u(v.scrollIntoView())}return!0}),"Mod-Enter":exitCode,Backspace:O,"Mod-Backspace":O,"Shift-Backspace":O,Delete:R,"Mod-Delete":R,"Mod-a":(l,u)=>(u&&u(l.tr.setSelection(new g.C1(l.doc))),!0)},H={"Ctrl-h":L.Backspace,"Alt-Backspace":L["Mod-Backspace"],"Ctrl-d":L.Delete,"Ctrl-Alt-Backspace":L["Mod-Delete"],"Alt-Delete":L["Mod-Delete"],"Alt-d":L["Mod-Delete"],"Ctrl-a":x,"Ctrl-e":M};for(let l in L)H[l]=L[l];function createChainableState(l){let{state:u,transaction:p}=l,{selection:h}=p,{doc:g}=p,{storedMarks:T}=p;return{...u,apply:u.apply.bind(u),applyTransaction:u.applyTransaction.bind(u),plugins:u.plugins,schema:u.schema,reconfigure:u.reconfigure.bind(u),toJSON:u.toJSON.bind(u),get storedMarks(){return T},get selection(){return h},get doc(){return g},get tr(){return h=p.selection,g=p.doc,T=p.storedMarks,p}}}"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();let CommandManager=class CommandManager{constructor(l){this.editor=l.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=l.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:l,editor:u,state:p}=this,{view:h}=u,{tr:g}=p,T=this.buildProps(g);return Object.fromEntries(Object.entries(l).map(([l,u])=>[l,(...l)=>{let p=u(...l)(T);return g.getMeta("preventDispatch")||this.hasCustomState||h.dispatch(g),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(l,u=!0){let{rawCommands:p,editor:h,state:g}=this,{view:T}=h,E=[],v=!!l,C=l||g.tr,x={...Object.fromEntries(Object.entries(p).map(([l,p])=>[l,(...l)=>{let h=this.buildProps(C,u),g=p(...l)(h);return E.push(g),x}])),run:()=>(v||!u||C.getMeta("preventDispatch")||this.hasCustomState||T.dispatch(C),E.every(l=>!0===l))};return x}createCan(l){let{rawCommands:u,state:p}=this,h=l||p.tr,g=this.buildProps(h,!1),T=Object.fromEntries(Object.entries(u).map(([l,u])=>[l,(...l)=>u(...l)({...g,dispatch:void 0})]));return{...T,chain:()=>this.createChain(h,!1)}}buildProps(l,u=!0){let{rawCommands:p,editor:h,state:g}=this,{view:T}=h,E={tr:l,editor:h,view:T,state:createChainableState({state:g,transaction:l}),dispatch:u?()=>void 0:void 0,chain:()=>this.createChain(l,u),can:()=>this.createCan(l),get commands(){return Object.fromEntries(Object.entries(p).map(([l,u])=>[l,(...l)=>u(...l)(E)]))}};return E}};let EventEmitter=class EventEmitter{constructor(){this.callbacks={}}on(l,u){return this.callbacks[l]||(this.callbacks[l]=[]),this.callbacks[l].push(u),this}emit(l,...u){let p=this.callbacks[l];return p&&p.forEach(l=>l.apply(this,u)),this}off(l,u){let p=this.callbacks[l];return p&&(u?this.callbacks[l]=p.filter(l=>l!==u):delete this.callbacks[l]),this}removeAllListeners(){this.callbacks={}}};function getExtensionField(l,u,p){if(void 0===l.config[u]&&l.parent)return getExtensionField(l.parent,u,p);if("function"==typeof l.config[u]){let h=l.config[u].bind({...p,parent:l.parent?getExtensionField(l.parent,u,p):null});return h}return l.config[u]}function splitExtensions(l){let u=l.filter(l=>"extension"===l.type),p=l.filter(l=>"node"===l.type),h=l.filter(l=>"mark"===l.type);return{baseExtensions:u,nodeExtensions:p,markExtensions:h}}function getAttributesFromExtensions(l){let u=[],{nodeExtensions:p,markExtensions:h}=splitExtensions(l),g=[...p,...h],T={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return l.forEach(l=>{let p={name:l.name,options:l.options,storage:l.storage},h=getExtensionField(l,"addGlobalAttributes",p);if(!h)return;let g=h();g.forEach(l=>{l.types.forEach(p=>{Object.entries(l.attributes).forEach(([l,h])=>{u.push({type:p,name:l,attribute:{...T,...h}})})})})}),g.forEach(l=>{let p={name:l.name,options:l.options,storage:l.storage},h=getExtensionField(l,"addAttributes",p);if(!h)return;let g=h();Object.entries(g).forEach(([p,h])=>{let g={...T,...h};"function"==typeof(null==g?void 0:g.default)&&(g.default=g.default()),(null==g?void 0:g.isRequired)&&(null==g?void 0:g.default)===void 0&&delete g.default,u.push({type:l.name,name:p,attribute:g})})}),u}function getNodeType(l,u){if("string"==typeof l){if(!u.nodes[l])throw Error(`There is no node type named '${l}'. Maybe you forgot to add the extension?`);return u.nodes[l]}return l}function mergeAttributes(...l){return l.filter(l=>!!l).reduce((l,u)=>{let p={...l};return Object.entries(u).forEach(([l,u])=>{let h=p[l];if(!h){p[l]=u;return}if("class"===l){let h=u?u.split(" "):[],g=p[l]?p[l].split(" "):[],T=h.filter(l=>!g.includes(l));p[l]=[...g,...T].join(" ")}else"style"===l?p[l]=[p[l],u].join("; "):p[l]=u}),p},{})}function getRenderedAttributes(l,u){return u.filter(l=>l.attribute.rendered).map(u=>u.attribute.renderHTML?u.attribute.renderHTML(l.attrs)||{}:{[u.name]:l.attrs[u.name]}).reduce((l,u)=>mergeAttributes(l,u),{})}function isFunction(l){return"function"==typeof l}function callOrReturn(l,u,...p){return isFunction(l)?u?l.bind(u)(...p):l(...p):l}function injectExtensionAttributesToParseRule(l,u){return l.style?l:{...l,getAttrs:p=>{let h=l.getAttrs?l.getAttrs(p):l.attrs;if(!1===h)return!1;let g=u.reduce((l,u)=>{var h;let g=u.attribute.parseHTML?u.attribute.parseHTML(p):"string"!=typeof(h=p.getAttribute(u.name))?h:h.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(h):"true"===h||"false"!==h&&h;return null==g?l:{...l,[u.name]:g}},{});return{...h,...g}}}}function cleanUpSchemaItem(l){return Object.fromEntries(Object.entries(l).filter(([l,u])=>!("attrs"===l&&function(l={}){return 0===Object.keys(l).length&&l.constructor===Object}(u))&&null!=u))}function getSchemaTypeByName(l,u){return u.nodes[l]||u.marks[l]||null}function isExtensionRulesEnabled(l,u){return Array.isArray(u)?u.some(u=>{let p="string"==typeof u?u:u.name;return p===l.name}):u}let getTextContentFromNodes=(l,u=500)=>{let p="",h=l.parentOffset;return l.parent.nodesBetween(Math.max(0,h-u),h,(l,u,g,T)=>{var E,v;let C=(null===(v=(E=l.type.spec).toText)||void 0===v?void 0:v.call(E,{node:l,pos:u,parent:g,index:T}))||l.textContent||"%leaf%";p+=C.slice(0,Math.max(0,h-u))}),p};function isRegExp(l){return"[object RegExp]"===Object.prototype.toString.call(l)}let InputRule=class InputRule{constructor(l){this.find=l.find,this.handler=l.handler}};let inputRuleMatcherHandler=(l,u)=>{if(isRegExp(u))return u.exec(l);let p=u(l);if(!p)return null;let h=[p.text];return h.index=p.index,h.input=l,h.data=p.data,p.replaceWith&&(p.text.includes(p.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),h.push(p.replaceWith)),h};function run$1(l){var u;let{editor:p,from:h,to:g,text:T,rules:E,plugin:v}=l,{view:C}=p;if(C.composing)return!1;let x=C.state.doc.resolve(h);if(x.parent.type.spec.code||(null===(u=x.nodeBefore||x.nodeAfter)||void 0===u?void 0:u.marks.find(l=>l.type.spec.code)))return!1;let M=!1,O=getTextContentFromNodes(x)+T;return E.forEach(l=>{if(M)return;let u=inputRuleMatcherHandler(O,l.find);if(!u)return;let E=C.state.tr,x=createChainableState({state:C.state,transaction:E}),R={from:h-(u[0].length-T.length),to:g},{commands:L,chain:H,can:U}=new CommandManager({editor:p,state:x}),j=l.handler({state:x,range:R,match:u,commands:L,chain:H,can:U});null!==j&&E.steps.length&&(E.setMeta(v,{transform:E,from:h,to:g,text:T}),C.dispatch(E),M=!0)}),M}let PasteRule=class PasteRule{constructor(l){this.find=l.find,this.handler=l.handler}};let pasteRuleMatcherHandler=(l,u,p)=>{if(isRegExp(u))return[...l.matchAll(u)];let h=u(l,p);return h?h.map(u=>{let p=[u.text];return p.index=u.index,p.input=l,p.data=u.data,u.replaceWith&&(u.text.includes(u.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),p.push(u.replaceWith)),p}):[]},createClipboardPasteEvent=l=>{var u;let p=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null===(u=p.clipboardData)||void 0===u||u.setData("text/html",l),p};let ExtensionManager=class ExtensionManager{constructor(l,u){this.splittableMarks=[],this.editor=u,this.extensions=ExtensionManager.resolve(l),this.schema=function(l,u){var p;let h=getAttributesFromExtensions(l),{nodeExtensions:g,markExtensions:T}=splitExtensions(l),E=null===(p=g.find(l=>getExtensionField(l,"topNode")))||void 0===p?void 0:p.name,C=Object.fromEntries(g.map(p=>{let g=h.filter(l=>l.type===p.name),T={name:p.name,options:p.options,storage:p.storage,editor:u},E=l.reduce((l,u)=>{let h=getExtensionField(u,"extendNodeSchema",T);return{...l,...h?h(p):{}}},{}),v=cleanUpSchemaItem({...E,content:callOrReturn(getExtensionField(p,"content",T)),marks:callOrReturn(getExtensionField(p,"marks",T)),group:callOrReturn(getExtensionField(p,"group",T)),inline:callOrReturn(getExtensionField(p,"inline",T)),atom:callOrReturn(getExtensionField(p,"atom",T)),selectable:callOrReturn(getExtensionField(p,"selectable",T)),draggable:callOrReturn(getExtensionField(p,"draggable",T)),code:callOrReturn(getExtensionField(p,"code",T)),defining:callOrReturn(getExtensionField(p,"defining",T)),isolating:callOrReturn(getExtensionField(p,"isolating",T)),attrs:Object.fromEntries(g.map(l=>{var u;return[l.name,{default:null===(u=null==l?void 0:l.attribute)||void 0===u?void 0:u.default}]}))}),C=callOrReturn(getExtensionField(p,"parseHTML",T));C&&(v.parseDOM=C.map(l=>injectExtensionAttributesToParseRule(l,g)));let x=getExtensionField(p,"renderHTML",T);x&&(v.toDOM=l=>x({node:l,HTMLAttributes:getRenderedAttributes(l,g)}));let M=getExtensionField(p,"renderText",T);return M&&(v.toText=M),[p.name,v]})),x=Object.fromEntries(T.map(p=>{let g=h.filter(l=>l.type===p.name),T={name:p.name,options:p.options,storage:p.storage,editor:u},E=l.reduce((l,u)=>{let h=getExtensionField(u,"extendMarkSchema",T);return{...l,...h?h(p):{}}},{}),v=cleanUpSchemaItem({...E,inclusive:callOrReturn(getExtensionField(p,"inclusive",T)),excludes:callOrReturn(getExtensionField(p,"excludes",T)),group:callOrReturn(getExtensionField(p,"group",T)),spanning:callOrReturn(getExtensionField(p,"spanning",T)),code:callOrReturn(getExtensionField(p,"code",T)),attrs:Object.fromEntries(g.map(l=>{var u;return[l.name,{default:null===(u=null==l?void 0:l.attribute)||void 0===u?void 0:u.default}]}))}),C=callOrReturn(getExtensionField(p,"parseHTML",T));C&&(v.parseDOM=C.map(l=>injectExtensionAttributesToParseRule(l,g)));let x=getExtensionField(p,"renderHTML",T);return x&&(v.toDOM=l=>x({mark:l,HTMLAttributes:getRenderedAttributes(l,g)})),[p.name,v]}));return new v.V_({topNode:E,nodes:C,marks:x})}(this.extensions,u),this.setupExtensions()}static resolve(l){let u=ExtensionManager.sort(ExtensionManager.flatten(l)),p=function(l){let u=l.filter((u,p)=>l.indexOf(u)!==p);return[...new Set(u)]}(u.map(l=>l.name));return p.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${p.map(l=>`'${l}'`).join(", ")}]. This can lead to issues.`),u}static flatten(l){return l.map(l=>{let u={name:l.name,options:l.options,storage:l.storage},p=getExtensionField(l,"addExtensions",u);return p?[l,...this.flatten(p())]:l}).flat(10)}static sort(l){return l.sort((l,u)=>{let p=getExtensionField(l,"priority")||100,h=getExtensionField(u,"priority")||100;return p>h?-1:p<h?1:0})}get commands(){return this.extensions.reduce((l,u)=>{let p={name:u.name,options:u.options,storage:u.storage,editor:this.editor,type:getSchemaTypeByName(u.name,this.schema)},h=getExtensionField(u,"addCommands",p);return h?{...l,...h()}:l},{})}get plugins(){let{editor:l}=this,u=ExtensionManager.sort([...this.extensions].reverse()),p=[],h=[],T=u.map(u=>{let g={name:u.name,options:u.options,storage:u.storage,editor:l,type:getSchemaTypeByName(u.name,this.schema)},T=[],v=getExtensionField(u,"addKeyboardShortcuts",g),C={};if("mark"===u.type&&u.config.exitable&&(C.ArrowRight=()=>Mark.handleExit({editor:l,mark:u})),v){let u=Object.fromEntries(Object.entries(v()).map(([u,p])=>[u,()=>p({editor:l})]));C={...C,...u}}let x=(0,E.h)(C);T.push(x);let M=getExtensionField(u,"addInputRules",g);isExtensionRulesEnabled(u,l.options.enableInputRules)&&M&&p.push(...M());let O=getExtensionField(u,"addPasteRules",g);isExtensionRulesEnabled(u,l.options.enablePasteRules)&&O&&h.push(...O());let R=getExtensionField(u,"addProseMirrorPlugins",g);if(R){let l=R();T.push(...l)}return T}).flat();return[function(l){let{editor:u,rules:p}=l,h=new g.Sy({state:{init:()=>null,apply(l,g){let T=l.getMeta(h);if(T)return T;let E=l.getMeta("applyInputRules");return E&&setTimeout(()=>{let{from:l,text:g}=E,T=l+g.length;run$1({editor:u,from:l,to:T,text:g,rules:p,plugin:h})}),l.selectionSet||l.docChanged?null:g}},props:{handleTextInput:(l,g,T,E)=>run$1({editor:u,from:g,to:T,text:E,rules:p,plugin:h}),handleDOMEvents:{compositionend:l=>(setTimeout(()=>{let{$cursor:g}=l.state.selection;g&&run$1({editor:u,from:g.pos,to:g.pos,text:"",rules:p,plugin:h})}),!1)},handleKeyDown(l,g){if("Enter"!==g.key)return!1;let{$cursor:T}=l.state.selection;return!!T&&run$1({editor:u,from:T.pos,to:T.pos,text:"\n",rules:p,plugin:h})}},isInputRules:!0});return h}({editor:l,rules:p}),...function(l){let{editor:u,rules:p}=l,h=null,T=!1,E=!1,v="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,C="undefined"!=typeof DragEvent?new DragEvent("drop"):null,processEvent=({state:l,from:p,to:h,rule:g,pasteEvt:T})=>{let E=l.tr,x=createChainableState({state:l,transaction:E}),M=function(l){let{editor:u,state:p,from:h,to:g,rule:T,pasteEvent:E,dropEvent:v}=l,{commands:C,chain:x,can:M}=new CommandManager({editor:u,state:p}),O=[];p.doc.nodesBetween(h,g,(l,u)=>{if(!l.isTextblock||l.type.spec.code)return;let R=Math.max(h,u),L=Math.min(g,u+l.content.size),H=l.textBetween(R-u,L-u,void 0,"￼"),U=pasteRuleMatcherHandler(H,T.find,E);U.forEach(l=>{if(void 0===l.index)return;let u=R+l.index+1,h=u+l[0].length,g={from:p.tr.mapping.map(u),to:p.tr.mapping.map(h)},L=T.handler({state:p,range:g,match:l,commands:C,chain:x,can:M,pasteEvent:E,dropEvent:v});O.push(L)})});let R=O.every(l=>null!==l);return R}({editor:u,state:x,from:Math.max(p-1,0),to:h.b-1,rule:g,pasteEvent:T,dropEvent:C});if(M&&E.steps.length)return C="undefined"!=typeof DragEvent?new DragEvent("drop"):null,v="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,E},x=p.map(l=>new g.Sy({view(l){let handleDragstart=u=>{var p;h=(null===(p=l.dom.parentElement)||void 0===p?void 0:p.contains(u.target))?l.dom.parentElement:null};return window.addEventListener("dragstart",handleDragstart),{destroy(){window.removeEventListener("dragstart",handleDragstart)}}},props:{handleDOMEvents:{drop:(l,u)=>(E=h===l.dom.parentElement,C=u,!1),paste:(l,u)=>{var p;let h=null===(p=u.clipboardData)||void 0===p?void 0:p.getData("text/html");return v=u,T=!!(null==h?void 0:h.includes("data-pm-slice")),!1}}},appendTransaction:(u,p,h)=>{let g=u[0],C="paste"===g.getMeta("uiEvent")&&!T,x="drop"===g.getMeta("uiEvent")&&!E,M=g.getMeta("applyPasteRules"),O=!!M;if(!C&&!x&&!O)return;if(O){let{from:u,text:p}=M,g=u+p.length,T=createClipboardPasteEvent(p);return processEvent({rule:l,state:h,from:u,to:{b:g},pasteEvt:T})}let R=p.doc.content.findDiffStart(h.doc.content),L=p.doc.content.findDiffEnd(h.doc.content);if("number"==typeof R&&L&&R!==L.b)return processEvent({rule:l,state:h,from:R,to:L,pasteEvt:v})}}));return x}({editor:l,rules:h}),...T]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){let{editor:l}=this,{nodeExtensions:u}=splitExtensions(this.extensions);return Object.fromEntries(u.filter(l=>!!getExtensionField(l,"addNodeView")).map(u=>{let p=this.attributes.filter(l=>l.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:l,type:getNodeType(u.name,this.schema)},g=getExtensionField(u,"addNodeView",h);return g?[u.name,(h,T,E,v)=>{let C=getRenderedAttributes(h,p);return g()({editor:l,node:h,getPos:E,decorations:v,HTMLAttributes:C,extension:u})}]:[]}))}setupExtensions(){this.extensions.forEach(l=>{var u;this.editor.extensionStorage[l.name]=l.storage;let p={name:l.name,options:l.options,storage:l.storage,editor:this.editor,type:getSchemaTypeByName(l.name,this.schema)};if("mark"===l.type){let h=null===(u=callOrReturn(getExtensionField(l,"keepOnSplit",p)))||void 0===u||u;h&&this.splittableMarks.push(l.name)}let h=getExtensionField(l,"onBeforeCreate",p),g=getExtensionField(l,"onCreate",p),T=getExtensionField(l,"onUpdate",p),E=getExtensionField(l,"onSelectionUpdate",p),v=getExtensionField(l,"onTransaction",p),C=getExtensionField(l,"onFocus",p),x=getExtensionField(l,"onBlur",p),M=getExtensionField(l,"onDestroy",p);h&&this.editor.on("beforeCreate",h),g&&this.editor.on("create",g),T&&this.editor.on("update",T),E&&this.editor.on("selectionUpdate",E),v&&this.editor.on("transaction",v),C&&this.editor.on("focus",C),x&&this.editor.on("blur",x),M&&this.editor.on("destroy",M)})}};function isPlainObject(l){return"Object"===Object.prototype.toString.call(l).slice(8,-1)&&l.constructor===Object&&Object.getPrototypeOf(l)===Object.prototype}function mergeDeep(l,u){let p={...l};return isPlainObject(l)&&isPlainObject(u)&&Object.keys(u).forEach(h=>{isPlainObject(u[h])&&h in l?p[h]=mergeDeep(l[h],u[h]):Object.assign(p,{[h]:u[h]})}),p}let Extension=class Extension{constructor(l={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...l},this.name=this.config.name,l.defaultOptions&&Object.keys(l.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(l={}){return new Extension(l)}configure(l={}){let u=this.extend();return u.parent=this.parent,u.options=mergeDeep(this.options,l),u.storage=callOrReturn(getExtensionField(u,"addStorage",{name:u.name,options:u.options})),u}extend(l={}){let u=new Extension({...this.config,...l});return u.parent=this,this.child=u,u.name=l.name?l.name:u.parent.name,l.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${u.name}".`),u.options=callOrReturn(getExtensionField(u,"addOptions",{name:u.name})),u.storage=callOrReturn(getExtensionField(u,"addStorage",{name:u.name,options:u.options})),u}};function getTextBetween(l,u,p){let{from:h,to:g}=u,{blockSeparator:T="\n\n",textSerializers:E={}}=p||{},v="";return l.nodesBetween(h,g,(l,p,C,x)=>{var M;l.isBlock&&p>h&&(v+=T);let O=null==E?void 0:E[l.type.name];if(O)return C&&(v+=O({node:l,pos:p,parent:C,index:x,range:u})),!1;l.isText&&(v+=null===(M=null==l?void 0:l.text)||void 0===M?void 0:M.slice(Math.max(h,p)-p,g-p))}),v}function getTextSerializersFromSchema(l){return Object.fromEntries(Object.entries(l.nodes).filter(([,l])=>l.spec.toText).map(([l,u])=>[l,u.spec.toText]))}let U=Extension.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new g.Sy({key:new g.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:l}=this,{state:u,schema:p}=l,{doc:h,selection:g}=u,{ranges:T}=g,E=Math.min(...T.map(l=>l.$from.pos)),v=Math.max(...T.map(l=>l.$to.pos)),C=getTextSerializersFromSchema(p);return getTextBetween(h,{from:E,to:v},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:C})}}})]}});function objectIncludes(l,u,p={strict:!0}){let h=Object.keys(u);return!h.length||h.every(h=>p.strict?u[h]===l[h]:isRegExp(u[h])?u[h].test(l[h]):u[h]===l[h])}function findMarkInSet(l,u,p={}){return l.find(l=>l.type===u&&objectIncludes(l.attrs,p))}function getMarkRange(l,u,p={}){if(!l||!u)return;let h=l.parent.childAfter(l.parentOffset);if(l.parentOffset===h.offset&&0!==h.offset&&(h=l.parent.childBefore(l.parentOffset)),!h.node)return;let g=findMarkInSet([...h.node.marks],u,p);if(!g)return;let T=h.index,E=l.start()+h.offset,v=T+1,C=E+h.node.nodeSize;for(findMarkInSet([...h.node.marks],u,p);T>0&&g.isInSet(l.parent.child(T-1).marks);)T-=1,E-=l.parent.child(T).nodeSize;for(;v<l.parent.childCount&&function(l,u,p={}){return!!findMarkInSet(l,u,p)}([...l.parent.child(v).marks],u,p);)C+=l.parent.child(v).nodeSize,v+=1;return{from:E,to:C}}function getMarkType(l,u){if("string"==typeof l){if(!u.marks[l])throw Error(`There is no mark type named '${l}'. Maybe you forgot to add the extension?`);return u.marks[l]}return l}function isTextSelection(l){return l instanceof g.Bs}function minMax(l=0,u=0,p=0){return Math.min(Math.max(l,u),p)}function resolveFocusPosition(l,u=null){if(!u)return null;let p=g.Y1.atStart(l),h=g.Y1.atEnd(l);if("start"===u||!0===u)return p;if("end"===u)return h;let T=p.from,E=h.to;return"all"===u?g.Bs.create(l,minMax(0,T,E),minMax(l.content.size,T,E)):g.Bs.create(l,minMax(u,T,E),minMax(u,T,E))}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}let removeWhitespaces=l=>{let u=l.childNodes;for(let p=u.length-1;p>=0;p-=1){let h=u[p];3===h.nodeType&&h.nodeValue&&/^(\n\s\s|\n)$/.test(h.nodeValue)?l.removeChild(h):1===h.nodeType&&removeWhitespaces(h)}return l};function elementFromString(l){let u=`<body>${l}</body>`,p=new window.DOMParser().parseFromString(u,"text/html").body;return removeWhitespaces(p)}function createNodeFromContent(l,u,p){p={slice:!0,parseOptions:{},...p};let h="object"==typeof l&&null!==l,g="string"==typeof l;if(h)try{let p=Array.isArray(l)&&l.length>0;if(p)return v.HY.fromArray(l.map(l=>u.nodeFromJSON(l)));return u.nodeFromJSON(l)}catch(h){return console.warn("[tiptap warn]: Invalid content.","Passed value:",l,"Error:",h),createNodeFromContent("",u,p)}if(g){let h=v.aw.fromSchema(u);return p.slice?h.parseSlice(elementFromString(l),p.parseOptions).content:h.parse(elementFromString(l),p.parseOptions)}return createNodeFromContent("",u,p)}function selectionToInsertionEnd(l,u,p){let h=l.steps.length-1;if(h<u)return;let T=l.steps[h];if(!(T instanceof C.Pu||T instanceof C.FC))return;let E=l.mapping.maps[h],v=0;E.forEach((l,u,p,h)=>{0===v&&(v=h)}),l.setSelection(g.Y1.near(l.doc.resolve(v),p))}let isFragment=l=>l.toString().startsWith("<");function isMacOS(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function isNodeActive(l,u,p={}){let{from:h,to:g,empty:T}=l.selection,E=u?getNodeType(u,l.schema):null,v=[];l.doc.nodesBetween(h,g,(l,u)=>{if(l.isText)return;let p=Math.max(h,u),T=Math.min(g,u+l.nodeSize);v.push({node:l,from:p,to:T})});let C=g-h,x=v.filter(l=>!E||E.name===l.node.type.name).filter(l=>objectIncludes(l.node.attrs,p,{strict:!1}));if(T)return!!x.length;let M=x.reduce((l,u)=>l+u.to-u.from,0);return M>=C}function getSchemaTypeNameByName(l,u){return u.nodes[l]?"node":u.marks[l]?"mark":null}function deleteProps(l,u){let p="string"==typeof u?[u]:u;return Object.keys(l).reduce((u,h)=>(p.includes(h)||(u[h]=l[h]),u),{})}function createDocument(l,u,p={}){return createNodeFromContent(l,u,{slice:!1,parseOptions:p})}function getMarkAttributes(l,u){let p=getMarkType(u,l.schema),{from:h,to:g,empty:T}=l.selection,E=[];T?(l.storedMarks&&E.push(...l.storedMarks),E.push(...l.selection.$head.marks())):l.doc.nodesBetween(h,g,l=>{E.push(...l.marks)});let v=E.find(l=>l.type.name===p.name);return v?{...v.attrs}:{}}function combineTransactionSteps(l,u){let p=new C.wx(l);return u.forEach(l=>{l.steps.forEach(l=>{p.step(l)})}),p}function findChildren(l,u){let p=[];return l.descendants((l,h)=>{u(l)&&p.push({node:l,pos:h})}),p}function findChildrenInRange(l,u,p){let h=[];return l.nodesBetween(u.from,u.to,(l,u)=>{p(l)&&h.push({node:l,pos:u})}),h}function findParentNode(l){return u=>(function(l,u){for(let p=l.depth;p>0;p-=1){let h=l.node(p);if(u(h))return{pos:p>0?l.before(p):0,start:l.start(p),depth:p,node:h}}})(u.$from,l)}function getAttributes(l,u){let p=getSchemaTypeNameByName("string"==typeof u?u:u.name,l.schema);return"node"===p?function(l,u){let p=getNodeType(u,l.schema),{from:h,to:g}=l.selection,T=[];l.doc.nodesBetween(h,g,l=>{T.push(l)});let E=T.reverse().find(l=>l.type.name===p.name);return E?{...E.attrs}:{}}(l,u):"mark"===p?getMarkAttributes(l,u):{}}function getChangedRanges(l){let{mapping:u,steps:p}=l,h=[];return u.maps.forEach((l,g)=>{let T=[];if(l.ranges.length)l.forEach((l,u)=>{T.push({from:l,to:u})});else{let{from:l,to:u}=p[g];if(void 0===l||void 0===u)return;T.push({from:l,to:u})}T.forEach(({from:l,to:p})=>{let T=u.slice(g).map(l,-1),E=u.slice(g).map(p),v=u.invert().map(T,-1),C=u.invert().map(E);h.push({oldRange:{from:v,to:C},newRange:{from:T,to:E}})})}),function(l){let u=function(l,u=JSON.stringify){let p={};return l.filter(l=>{let h=u(l);return!Object.prototype.hasOwnProperty.call(p,h)&&(p[h]=!0)})}(l);return 1===u.length?u:u.filter((l,p)=>{let h=u.filter((l,u)=>u!==p);return!h.some(u=>l.oldRange.from>=u.oldRange.from&&l.oldRange.to<=u.oldRange.to&&l.newRange.from>=u.newRange.from&&l.newRange.to<=u.newRange.to)})}(h)}function getMarksBetween(l,u,p){let h=[];return l===u?p.resolve(l).marks().forEach(u=>{let g=p.resolve(l-1),T=getMarkRange(g,u.type);T&&h.push({mark:u,...T})}):p.nodesBetween(l,u,(l,u)=>{l&&(null==l?void 0:l.nodeSize)!==void 0&&h.push(...l.marks.map(p=>({from:u,to:u+l.nodeSize,mark:p})))}),h}function getSplittedAttributes(l,u,p){return Object.fromEntries(Object.entries(p).filter(([p])=>{let h=l.find(l=>l.type===u&&l.name===p);return!!h&&h.attribute.keepOnSplit}))}function isMarkActive(l,u,p={}){let{empty:h,ranges:g}=l.selection,T=u?getMarkType(u,l.schema):null;if(h)return!!(l.storedMarks||l.selection.$from.marks()).filter(l=>!T||T.name===l.type.name).find(l=>objectIncludes(l.attrs,p,{strict:!1}));let E=0,v=[];if(g.forEach(({$from:u,$to:p})=>{let h=u.pos,g=p.pos;l.doc.nodesBetween(h,g,(l,u)=>{if(!l.isText&&!l.marks.length)return;let p=Math.max(h,u),T=Math.min(g,u+l.nodeSize);E+=T-p,v.push(...l.marks.map(l=>({mark:l,from:p,to:T})))})}),0===E)return!1;let C=v.filter(l=>!T||T.name===l.mark.type.name).filter(l=>objectIncludes(l.mark.attrs,p,{strict:!1})).reduce((l,u)=>l+u.to-u.from,0),x=v.filter(l=>!T||l.mark.type!==T&&l.mark.type.excludes(T)).reduce((l,u)=>l+u.to-u.from,0);return(C>0?C+x:C)>=E}function isList(l,u){let{nodeExtensions:p}=splitExtensions(u),h=p.find(u=>u.name===l);if(!h)return!1;let g={name:h.name,options:h.options,storage:h.storage},T=callOrReturn(getExtensionField(h,"group",g));return"string"==typeof T&&T.split(" ").includes("list")}function isNodeSelection(l){return l instanceof g.qv}function posToDOMRect(l,u,p){let h=l.state.doc.content.size,g=minMax(u,0,h),T=minMax(p,0,h),E=l.coordsAtPos(g),v=l.coordsAtPos(T,-1),C=Math.min(E.top,v.top),x=Math.max(E.bottom,v.bottom),M=Math.min(E.left,v.left),O=Math.max(E.right,v.right),R={top:C,bottom:x,left:M,right:O,width:O-M,height:x-C,x:M,y:C};return{...R,toJSON:()=>R}}function ensureMarks(l,u){let p=l.storedMarks||l.selection.$to.parentOffset&&l.selection.$from.marks();if(p){let h=p.filter(l=>null==u?void 0:u.includes(l.type.name));l.tr.ensureMarks(h)}}let joinListBackwards=(l,u)=>{let p=findParentNode(l=>l.type===u)(l.selection);if(!p)return!0;let h=l.doc.resolve(Math.max(0,p.pos-1)).before(p.depth);if(void 0===h)return!0;let g=l.doc.nodeAt(h),T=p.node.type===(null==g?void 0:g.type)&&(0,C.Mn)(l.doc,p.pos);return!T||(l.join(p.pos),!0)},joinListForwards=(l,u)=>{let p=findParentNode(l=>l.type===u)(l.selection);if(!p)return!0;let h=l.doc.resolve(p.start).after(p.depth);if(void 0===h)return!0;let g=l.doc.nodeAt(h),T=p.node.type===(null==g?void 0:g.type)&&(0,C.Mn)(l.doc,h);return!T||(l.join(h),!0)};var j=Object.freeze({__proto__:null,blur:()=>({editor:l,view:u})=>(requestAnimationFrame(()=>{var p;l.isDestroyed||(u.dom.blur(),null===(p=null==window?void 0:window.getSelection())||void 0===p||p.removeAllRanges())}),!0),clearContent:(l=!1)=>({commands:u})=>u.setContent("",l),clearNodes:()=>({state:l,tr:u,dispatch:p})=>{let{selection:h}=u,{ranges:g}=h;return!p||(g.forEach(({$from:p,$to:h})=>{l.doc.nodesBetween(p.pos,h.pos,(l,p)=>{if(l.type.isText)return;let{doc:h,mapping:g}=u,T=h.resolve(g.map(p)),E=h.resolve(g.map(p+l.nodeSize)),v=T.blockRange(E);if(!v)return;let x=(0,C.k9)(v);if(l.type.isTextblock){let{defaultType:l}=T.parent.contentMatchAt(T.index());u.setNodeMarkup(v.start,l)}(x||0===x)&&u.lift(v,x)})}),!0)},command:l=>u=>l(u),createParagraphNear:()=>({state:l,dispatch:u})=>createParagraphNear(l,u),cut:(l,u)=>({editor:p,tr:h})=>{let{state:T}=p,E=T.doc.slice(l.from,l.to);h.deleteRange(l.from,l.to);let v=h.mapping.map(u);return h.insert(v,E.content),h.setSelection(new g.Bs(h.doc.resolve(v-1))),!0},deleteCurrentNode:()=>({tr:l,dispatch:u})=>{let{selection:p}=l,h=p.$anchor.node();if(h.content.size>0)return!1;let g=l.selection.$anchor;for(let p=g.depth;p>0;p-=1){let T=g.node(p);if(T.type===h.type){if(u){let u=g.before(p),h=g.after(p);l.delete(u,h).scrollIntoView()}return!0}}return!1},deleteNode:l=>({tr:u,state:p,dispatch:h})=>{let g=getNodeType(l,p.schema),T=u.selection.$anchor;for(let l=T.depth;l>0;l-=1){let p=T.node(l);if(p.type===g){if(h){let p=T.before(l),h=T.after(l);u.delete(p,h).scrollIntoView()}return!0}}return!1},deleteRange:l=>({tr:u,dispatch:p})=>{let{from:h,to:g}=l;return p&&u.delete(h,g),!0},deleteSelection:()=>({state:l,dispatch:u})=>deleteSelection(l,u),enter:()=>({commands:l})=>l.keyboardShortcut("Enter"),exitCode:()=>({state:l,dispatch:u})=>exitCode(l,u),extendMarkRange:(l,u={})=>({tr:p,state:h,dispatch:T})=>{let E=getMarkType(l,h.schema),{doc:v,selection:C}=p,{$from:x,from:M,to:O}=C;if(T){let l=getMarkRange(x,E,u);if(l&&l.from<=M&&l.to>=O){let u=g.Bs.create(v,l.from,l.to);p.setSelection(u)}}return!0},first:l=>u=>{let p="function"==typeof l?l(u):l;for(let l=0;l<p.length;l+=1)if(p[l](u))return!0;return!1},focus:(l=null,u={})=>({editor:p,view:h,tr:g,dispatch:T})=>{u={scrollIntoView:!0,...u};let delayedFocus=()=>{isiOS()&&h.dom.focus(),requestAnimationFrame(()=>{!p.isDestroyed&&(h.focus(),(null==u?void 0:u.scrollIntoView)&&p.commands.scrollIntoView())})};if(h.hasFocus()&&null===l||!1===l)return!0;if(T&&null===l&&!isTextSelection(p.state.selection))return delayedFocus(),!0;let E=resolveFocusPosition(g.doc,l)||p.state.selection,v=p.state.selection.eq(E);return T&&(v||g.setSelection(E),v&&g.storedMarks&&g.setStoredMarks(g.storedMarks),delayedFocus()),!0},forEach:(l,u)=>p=>l.every((l,h)=>u(l,{...p,index:h})),insertContent:(l,u)=>({tr:p,commands:h})=>h.insertContentAt({from:p.selection.from,to:p.selection.to},l,u),insertContentAt:(l,u,p)=>({tr:h,dispatch:g,editor:T})=>{if(g){let g;p={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...p};let E=createNodeFromContent(u,T.schema,{parseOptions:{preserveWhitespace:"full",...p.parseOptions}});if("<>"===E.toString())return!0;let{from:v,to:C}="number"==typeof l?{from:l,to:l}:{from:l.from,to:l.to},x=!0,M=!0,O=isFragment(E)?E:[E];if(O.forEach(l=>{l.check(),x=!!x&&l.isText&&0===l.marks.length,M=!!M&&l.isBlock}),v===C&&M){let{parent:l}=h.doc.resolve(v),u=l.isTextblock&&!l.type.spec.code&&!l.childCount;u&&(v-=1,C+=1)}x?(g=Array.isArray(u)?u.map(l=>l.text||"").join(""):"object"==typeof u&&u&&u.text?u.text:u,h.insertText(g,v,C)):(g=E,h.replaceWith(v,C,g)),p.updateSelection&&selectionToInsertionEnd(h,h.steps.length-1,-1),p.applyInputRules&&h.setMeta("applyInputRules",{from:v,text:g}),p.applyPasteRules&&h.setMeta("applyPasteRules",{from:v,text:g})}return!0},joinUp:()=>({state:l,dispatch:u})=>joinUp(l,u),joinDown:()=>({state:l,dispatch:u})=>joinDown(l,u),joinBackward:()=>({state:l,dispatch:u})=>joinBackward(l,u),joinForward:()=>({state:l,dispatch:u})=>joinForward(l,u),joinItemBackward:()=>({tr:l,state:u,dispatch:p})=>{try{let h=(0,C.GJ)(u.doc,u.selection.$from.pos,-1);if(null==h)return!1;return l.join(h,2),p&&p(l),!0}catch{return!1}},joinItemForward:()=>({state:l,dispatch:u,tr:p})=>{try{let h=(0,C.GJ)(l.doc,l.selection.$from.pos,1);if(null==h)return!1;return p.join(h,2),u&&u(p),!0}catch(l){return!1}},joinTextblockBackward:()=>({state:l,dispatch:u})=>joinTextblockBackward(l,u),joinTextblockForward:()=>({state:l,dispatch:u})=>joinTextblockForward(l,u),keyboardShortcut:l=>({editor:u,view:p,tr:h,dispatch:g})=>{let T=(function(l){let u,p,h,g;let T=l.split(/-(?!$)/),E=T[T.length-1];"Space"===E&&(E=" ");for(let l=0;l<T.length-1;l+=1){let E=T[l];if(/^(cmd|meta|m)$/i.test(E))g=!0;else if(/^a(lt)?$/i.test(E))u=!0;else if(/^(c|ctrl|control)$/i.test(E))p=!0;else if(/^s(hift)?$/i.test(E))h=!0;else if(/^mod$/i.test(E))isiOS()||isMacOS()?g=!0:p=!0;else throw Error(`Unrecognized modifier name: ${E}`)}return u&&(E=`Alt-${E}`),p&&(E=`Ctrl-${E}`),g&&(E=`Meta-${E}`),h&&(E=`Shift-${E}`),E})(l).split(/-(?!$)/),E=T.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),v=new KeyboardEvent("keydown",{key:"Space"===E?" ":E,altKey:T.includes("Alt"),ctrlKey:T.includes("Ctrl"),metaKey:T.includes("Meta"),shiftKey:T.includes("Shift"),bubbles:!0,cancelable:!0}),C=u.captureTransaction(()=>{p.someProp("handleKeyDown",l=>l(p,v))});return null==C||C.steps.forEach(l=>{let u=l.map(h.mapping);u&&g&&h.maybeStep(u)}),!0},lift:(l,u={})=>({state:p,dispatch:h})=>{let g=getNodeType(l,p.schema),T=isNodeActive(p,g,u);return!!T&&lift(p,h)},liftEmptyBlock:()=>({state:l,dispatch:u})=>liftEmptyBlock(l,u),liftListItem:l=>({state:u,dispatch:p})=>{let h=getNodeType(l,u.schema);return function(l,u){let{$from:p,$to:g}=l.selection,T=p.blockRange(g,l=>l.childCount>0&&l.firstChild.type==h);return!!T&&(!u||(p.node(T.depth-1).type==h?function(l,u,p,h){let g=l.tr,T=h.end,E=h.$to.end(h.depth);T<E&&(g.step(new C.FC(T-1,E,T,E,new v.p2(v.HY.from(p.create(null,h.parent.copy())),1,0),1,!0)),h=new v.Ts(g.doc.resolve(h.$from.pos),g.doc.resolve(E),h.depth));let x=(0,C.k9)(h);if(null==x)return!1;g.lift(h,x);let M=g.mapping.map(T,-1)-1;return(0,C.Mn)(g.doc,M)&&g.join(M),u(g.scrollIntoView()),!0}(l,u,h,T):function(l,u,p){let h=l.tr,g=p.parent;for(let l=p.end,u=p.endIndex-1,T=p.startIndex;u>T;u--)l-=g.child(u).nodeSize,h.delete(l-1,l+1);let T=h.doc.resolve(p.start),E=T.nodeAfter;if(h.mapping.map(p.end)!=p.start+T.nodeAfter.nodeSize)return!1;let x=0==p.startIndex,M=p.endIndex==g.childCount,O=T.node(-1),R=T.index(-1);if(!O.canReplace(R+(x?0:1),R+1,E.content.append(M?v.HY.empty:v.HY.from(g))))return!1;let L=T.pos,H=L+E.nodeSize;return h.step(new C.FC(L-(x?1:0),H+(M?1:0),L+1,H-1,new v.p2((x?v.HY.empty:v.HY.from(g.copy(v.HY.empty))).append(M?v.HY.empty:v.HY.from(g.copy(v.HY.empty))),x?0:1,M?0:1),x?0:1)),u(h.scrollIntoView()),!0}(l,u,T)))}(u,p)},newlineInCode:()=>({state:l,dispatch:u})=>newlineInCode(l,u),resetAttributes:(l,u)=>({tr:p,state:h,dispatch:g})=>{let T=null,E=null,v=getSchemaTypeNameByName("string"==typeof l?l:l.name,h.schema);return!!v&&("node"===v&&(T=getNodeType(l,h.schema)),"mark"===v&&(E=getMarkType(l,h.schema)),g&&p.selection.ranges.forEach(l=>{h.doc.nodesBetween(l.$from.pos,l.$to.pos,(l,h)=>{T&&T===l.type&&p.setNodeMarkup(h,void 0,deleteProps(l.attrs,u)),E&&l.marks.length&&l.marks.forEach(g=>{E===g.type&&p.addMark(h,h+l.nodeSize,E.create(deleteProps(g.attrs,u)))})})}),!0)},scrollIntoView:()=>({tr:l,dispatch:u})=>(u&&l.scrollIntoView(),!0),selectAll:()=>({tr:l,commands:u})=>u.setTextSelection({from:0,to:l.doc.content.size}),selectNodeBackward:()=>({state:l,dispatch:u})=>selectNodeBackward(l,u),selectNodeForward:()=>({state:l,dispatch:u})=>selectNodeForward(l,u),selectParentNode:()=>({state:l,dispatch:u})=>selectParentNode(l,u),selectTextblockEnd:()=>({state:l,dispatch:u})=>M(l,u),selectTextblockStart:()=>({state:l,dispatch:u})=>x(l,u),setContent:(l,u=!1,p={})=>({tr:h,editor:g,dispatch:T})=>{let{doc:E}=h,v=createDocument(l,g.schema,p);return T&&h.replaceWith(0,E.content.size,v).setMeta("preventUpdate",!u),!0},setMark:(l,u={})=>({tr:p,state:h,dispatch:g})=>{let{selection:T}=p,{empty:E,ranges:v}=T,C=getMarkType(l,h.schema);if(g){if(E){let l=getMarkAttributes(h,C);p.addStoredMark(C.create({...l,...u}))}else v.forEach(l=>{let g=l.$from.pos,T=l.$to.pos;h.doc.nodesBetween(g,T,(l,h)=>{let E=Math.max(h,g),v=Math.min(h+l.nodeSize,T),x=l.marks.find(l=>l.type===C);x?l.marks.forEach(l=>{C===l.type&&p.addMark(E,v,C.create({...l.attrs,...u}))}):p.addMark(E,v,C.create(u))})})}return function(l,u,p){var h;let{selection:g}=u,T=null;if(isTextSelection(g)&&(T=g.$cursor),T){let u=null!==(h=l.storedMarks)&&void 0!==h?h:T.marks();return!!p.isInSet(u)||!u.some(l=>l.type.excludes(p))}let{ranges:E}=g;return E.some(({$from:u,$to:h})=>{let g=0===u.depth&&l.doc.inlineContent&&l.doc.type.allowsMarkType(p);return l.doc.nodesBetween(u.pos,h.pos,(l,u,h)=>{if(g)return!1;if(l.isInline){let u=!h||h.type.allowsMarkType(p),T=!!p.isInSet(l.marks)||!l.marks.some(l=>l.type.excludes(p));g=u&&T}return!g}),g})}(h,p,C)},setMeta:(l,u)=>({tr:p})=>(p.setMeta(l,u),!0),setNode:(l,u={})=>({state:p,dispatch:h,chain:g})=>{let T=getNodeType(l,p.schema);return T.isTextblock?g().command(({commands:l})=>{let h=setBlockType(T,u)(p);return!!h||l.clearNodes()}).command(({state:l})=>setBlockType(T,u)(l,h)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:l=>({tr:u,dispatch:p})=>{if(p){let{doc:p}=u,h=minMax(l,0,p.content.size),T=g.qv.create(p,h);u.setSelection(T)}return!0},setTextSelection:l=>({tr:u,dispatch:p})=>{if(p){let{doc:p}=u,{from:h,to:T}="number"==typeof l?{from:l,to:l}:l,E=g.Bs.atStart(p).from,v=g.Bs.atEnd(p).to,C=minMax(h,E,v),x=minMax(T,E,v),M=g.Bs.create(p,C,x);u.setSelection(M)}return!0},sinkListItem:l=>({state:u,dispatch:p})=>{let h=getNodeType(l,u.schema);return function(l,u){let{$from:p,$to:g}=l.selection,T=p.blockRange(g,l=>l.childCount>0&&l.firstChild.type==h);if(!T)return!1;let E=T.startIndex;if(0==E)return!1;let x=T.parent,M=x.child(E-1);if(M.type!=h)return!1;if(u){let p=M.lastChild&&M.lastChild.type==x.type,g=v.HY.from(p?h.create():null),E=new v.p2(v.HY.from(h.create(null,v.HY.from(x.type.create(null,g)))),p?3:1,0),O=T.start,R=T.end;u(l.tr.step(new C.FC(O-(p?3:1),R,O,R,E,1,!0)).scrollIntoView())}return!0}(u,p)},splitBlock:({keepMarks:l=!0}={})=>({tr:u,state:p,dispatch:h,editor:T})=>{let{selection:E,doc:v}=u,{$from:x,$to:M}=E,O=T.extensionManager.attributes,R=getSplittedAttributes(O,x.node().type.name,x.node().attrs);if(E instanceof g.qv&&E.node.isBlock)return!!(x.parentOffset&&(0,C.Ax)(v,x.pos))&&(h&&(l&&ensureMarks(p,T.extensionManager.splittableMarks),u.split(x.pos).scrollIntoView()),!0);if(!x.parent.isBlock)return!1;if(h){let h=M.parentOffset===M.parent.content.size;E instanceof g.Bs&&u.deleteSelection();let v=0===x.depth?void 0:function(l){for(let u=0;u<l.edgeCount;u+=1){let{type:p}=l.edge(u);if(p.isTextblock&&!p.hasRequiredAttrs())return p}return null}(x.node(-1).contentMatchAt(x.indexAfter(-1))),O=h&&v?[{type:v,attrs:R}]:void 0,L=(0,C.Ax)(u.doc,u.mapping.map(x.pos),1,O);if(!O&&!L&&(0,C.Ax)(u.doc,u.mapping.map(x.pos),1,v?[{type:v}]:void 0)&&(L=!0,O=v?[{type:v,attrs:R}]:void 0),L&&(u.split(u.mapping.map(x.pos),1,O),v&&!h&&!x.parentOffset&&x.parent.type!==v)){let l=u.mapping.map(x.before()),p=u.doc.resolve(l);x.node(-1).canReplaceWith(p.index(),p.index()+1,v)&&u.setNodeMarkup(u.mapping.map(x.before()),v)}l&&ensureMarks(p,T.extensionManager.splittableMarks),u.scrollIntoView()}return!0},splitListItem:l=>({tr:u,state:p,dispatch:h,editor:T})=>{var E;let x=getNodeType(l,p.schema),{$from:M,$to:O}=p.selection,R=p.selection.node;if(R&&R.isBlock||M.depth<2||!M.sameParent(O))return!1;let L=M.node(-1);if(L.type!==x)return!1;let H=T.extensionManager.attributes;if(0===M.parent.content.size&&M.node(-1).childCount===M.indexAfter(-1)){if(2===M.depth||M.node(-3).type!==x||M.index(-2)!==M.node(-2).childCount-1)return!1;if(h){let l=v.HY.empty,p=M.index(-1)?1:M.index(-2)?2:3;for(let u=M.depth-p;u>=M.depth-3;u-=1)l=v.HY.from(M.node(u).copy(l));let h=M.indexAfter(-1)<M.node(-2).childCount?1:M.indexAfter(-2)<M.node(-3).childCount?2:3,T=getSplittedAttributes(H,M.node().type.name,M.node().attrs),C=(null===(E=x.contentMatch.defaultType)||void 0===E?void 0:E.createAndFill(T))||void 0;l=l.append(v.HY.from(x.createAndFill(null,C)||void 0));let O=M.before(M.depth-(p-1));u.replace(O,M.after(-h),new v.p2(l,4-p,0));let R=-1;u.doc.nodesBetween(O,u.doc.content.size,(l,u)=>{if(R>-1)return!1;l.isTextblock&&0===l.content.size&&(R=u+1)}),R>-1&&u.setSelection(g.Bs.near(u.doc.resolve(R))),u.scrollIntoView()}return!0}let U=O.pos===M.end()?L.contentMatchAt(0).defaultType:null,j=getSplittedAttributes(H,L.type.name,L.attrs),G=getSplittedAttributes(H,M.node().type.name,M.node().attrs);if(u.delete(M.pos,O.pos),!(0,C.Ax)(u.doc,M.pos,2))return!1;if(h){let{selection:l,storedMarks:g}=p,{splittableMarks:E}=T.extensionManager,v=g||l.$to.parentOffset&&l.$from.marks();if(u.split(M.pos,2,U?[{type:x,attrs:j},{type:U,attrs:G}]:[{type:x,attrs:j}]).scrollIntoView(),!v||!h)return!0;let C=v.filter(l=>E.includes(l.type.name));u.ensureMarks(C)}return!0},toggleList:(l,u,p,h={})=>({editor:g,tr:T,state:E,dispatch:v,chain:C,commands:x,can:M})=>{let{extensions:O,splittableMarks:R}=g.extensionManager,L=getNodeType(l,E.schema),H=getNodeType(u,E.schema),{selection:U,storedMarks:j}=E,{$from:G,$to:W}=U,q=G.blockRange(W),Y=j||U.$to.parentOffset&&U.$from.marks();if(!q)return!1;let X=findParentNode(l=>isList(l.type.name,O))(U);if(q.depth>=1&&X&&q.depth-X.depth<=1){if(X.node.type===L)return x.liftListItem(H);if(isList(X.node.type.name,O)&&L.validContent(X.node.content)&&v)return C().command(()=>(T.setNodeMarkup(X.pos,L),!0)).command(()=>joinListBackwards(T,L)).command(()=>joinListForwards(T,L)).run()}return p&&Y&&v?C().command(()=>{let l=M().wrapInList(L,h),u=Y.filter(l=>R.includes(l.type.name));return T.ensureMarks(u),!!l||x.clearNodes()}).wrapInList(L,h).command(()=>joinListBackwards(T,L)).command(()=>joinListForwards(T,L)).run():C().command(()=>{let l=M().wrapInList(L,h);return!!l||x.clearNodes()}).wrapInList(L,h).command(()=>joinListBackwards(T,L)).command(()=>joinListForwards(T,L)).run()},toggleMark:(l,u={},p={})=>({state:h,commands:g})=>{let{extendEmptyMarkRange:T=!1}=p,E=getMarkType(l,h.schema),v=isMarkActive(h,E,u);return v?g.unsetMark(E,{extendEmptyMarkRange:T}):g.setMark(E,u)},toggleNode:(l,u,p={})=>({state:h,commands:g})=>{let T=getNodeType(l,h.schema),E=getNodeType(u,h.schema),v=isNodeActive(h,T,p);return v?g.setNode(E):g.setNode(T,p)},toggleWrap:(l,u={})=>({state:p,commands:h})=>{let g=getNodeType(l,p.schema),T=isNodeActive(p,g,u);return T?h.lift(g):h.wrapIn(g,u)},undoInputRule:()=>({state:l,dispatch:u})=>{let p=l.plugins;for(let h=0;h<p.length;h+=1){let g;let T=p[h];if(T.spec.isInputRules&&(g=T.getState(l))){if(u){let u=l.tr,p=g.transform;for(let l=p.steps.length-1;l>=0;l-=1)u.step(p.steps[l].invert(p.docs[l]));if(g.text){let p=u.doc.resolve(g.from).marks();u.replaceWith(g.from,g.to,l.schema.text(g.text,p))}else u.delete(g.from,g.to)}return!0}}return!1},unsetAllMarks:()=>({tr:l,dispatch:u})=>{let{selection:p}=l,{empty:h,ranges:g}=p;return!!h||(u&&g.forEach(u=>{l.removeMark(u.$from.pos,u.$to.pos)}),!0)},unsetMark:(l,u={})=>({tr:p,state:h,dispatch:g})=>{var T;let{extendEmptyMarkRange:E=!1}=u,{selection:v}=p,C=getMarkType(l,h.schema),{$from:x,empty:M,ranges:O}=v;if(!g)return!0;if(M&&E){let{from:l,to:u}=v,h=null===(T=x.marks().find(l=>l.type===C))||void 0===T?void 0:T.attrs,g=getMarkRange(x,C,h);g&&(l=g.from,u=g.to),p.removeMark(l,u,C)}else O.forEach(l=>{p.removeMark(l.$from.pos,l.$to.pos,C)});return p.removeStoredMark(C),!0},updateAttributes:(l,u={})=>({tr:p,state:h,dispatch:g})=>{let T=null,E=null,v=getSchemaTypeNameByName("string"==typeof l?l:l.name,h.schema);return!!v&&("node"===v&&(T=getNodeType(l,h.schema)),"mark"===v&&(E=getMarkType(l,h.schema)),g&&p.selection.ranges.forEach(l=>{let g=l.$from.pos,v=l.$to.pos;h.doc.nodesBetween(g,v,(l,h)=>{T&&T===l.type&&p.setNodeMarkup(h,void 0,{...l.attrs,...u}),E&&l.marks.length&&l.marks.forEach(T=>{if(E===T.type){let C=Math.max(h,g),x=Math.min(h+l.nodeSize,v);p.addMark(C,x,E.create({...T.attrs,...u}))}})})}),!0)},wrapIn:(l,u={})=>({state:p,dispatch:h})=>{let g=getNodeType(l,p.schema);return(function(l,u=null){return function(p,h){let{$from:g,$to:T}=p.selection,E=g.blockRange(T),v=E&&(0,C.nd)(E,l,u);return!!v&&(h&&h(p.tr.wrap(E,v).scrollIntoView()),!0)}})(g,u)(p,h)},wrapInList:(l,u={})=>({state:p,dispatch:h})=>{let g=getNodeType(l,p.schema);return(function(l,u=null){return function(p,h){let{$from:g,$to:T}=p.selection,E=g.blockRange(T),x=!1,M=E;if(!E)return!1;if(E.depth>=2&&g.node(E.depth-1).type.compatibleContent(l)&&0==E.startIndex){if(0==g.index(E.depth-1))return!1;let l=p.doc.resolve(E.start-2);M=new v.Ts(l,l,E.depth),E.endIndex<E.parent.childCount&&(E=new v.Ts(g,p.doc.resolve(T.end(E.depth)),E.depth)),x=!0}let O=(0,C.nd)(M,l,u,E);return!!O&&(h&&h((function(l,u,p,h,g){let T=v.HY.empty;for(let l=p.length-1;l>=0;l--)T=v.HY.from(p[l].type.create(p[l].attrs,T));l.step(new C.FC(u.start-(h?2:0),u.end,u.start,u.end,new v.p2(T,0,0),p.length,!0));let E=0;for(let l=0;l<p.length;l++)p[l].type==g&&(E=l+1);let x=p.length-E,M=u.start+p.length-(h?2:0),O=u.parent;for(let p=u.startIndex,h=u.endIndex,g=!0;p<h;p++,g=!1)!g&&(0,C.Ax)(l.doc,M,x)&&(l.split(M,x),M+=2*x),M+=O.child(p).nodeSize;return l})(p.tr,E,O,x,l).scrollIntoView()),!0)}})(g,u)(p,h)}});let G=Extension.create({name:"commands",addCommands:()=>({...j})}),W=Extension.create({name:"editable",addProseMirrorPlugins(){return[new g.Sy({key:new g.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),q=Extension.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:l}=this;return[new g.Sy({key:new g.H$("focusEvents"),props:{handleDOMEvents:{focus:(u,p)=>{l.isFocused=!0;let h=l.state.tr.setMeta("focus",{event:p}).setMeta("addToHistory",!1);return u.dispatch(h),!1},blur:(u,p)=>{l.isFocused=!1;let h=l.state.tr.setMeta("blur",{event:p}).setMeta("addToHistory",!1);return u.dispatch(h),!1}}}})]}}),Y=Extension.create({name:"keymap",addKeyboardShortcuts(){let handleBackspace=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{let{selection:p,doc:h}=u,{empty:T,$anchor:E}=p,{pos:v,parent:C}=E,x=E.parent.isTextblock&&v>0?u.doc.resolve(v-1):E,M=x.parent.type.spec.isolating,O=E.pos-E.parentOffset,R=M&&1===x.parent.childCount?O===E.pos:g.Y1.atStart(h).from===v;return!!T&&!!C.type.isTextblock&&!C.textContent.length&&!!R&&(!R||"paragraph"!==E.parent.type.name)&&l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),handleDelete=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),l={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:handleBackspace,"Mod-Backspace":handleBackspace,"Shift-Backspace":handleBackspace,Delete:handleDelete,"Mod-Delete":handleDelete,"Mod-a":()=>this.editor.commands.selectAll()},u={...l},p={...l,"Ctrl-h":handleBackspace,"Alt-Backspace":handleBackspace,"Ctrl-d":handleDelete,"Ctrl-Alt-Backspace":handleDelete,"Alt-Delete":handleDelete,"Alt-d":handleDelete,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?p:u},addProseMirrorPlugins(){return[new g.Sy({key:new g.H$("clearDocument"),appendTransaction:(l,u,p)=>{let h=l.some(l=>l.docChanged)&&!u.doc.eq(p.doc);if(!h)return;let{empty:T,from:E,to:v}=u.selection,C=g.Y1.atStart(u.doc).from,x=g.Y1.atEnd(u.doc).to;if(T||!(E===C&&v===x))return;let M=0===p.doc.textBetween(0,p.doc.content.size," "," ").length;if(!M)return;let O=p.tr,R=createChainableState({state:p,transaction:O}),{commands:L}=new CommandManager({editor:this.editor,state:R});if(L.clearNodes(),O.steps.length)return O}})]}}),X=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new g.Sy({key:new g.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Z=Object.freeze({__proto__:null,ClipboardTextSerializer:U,Commands:G,Editable:W,FocusEvents:q,Keymap:Y,Tabindex:X});let NodePos=class NodePos{constructor(l,u,p=!1,h=null){this.currentNode=null,this.actualDepth=null,this.isBlock=p,this.resolvedPos=l,this.editor=u,this.currentNode=h}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var l;return null!==(l=this.actualDepth)&&void 0!==l?l:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(l){let u=this.from,p=this.to;if(this.isBlock){if(0===this.content.size){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}u=this.from+1,p=this.to-1}this.editor.commands.insertContentAt({from:u,to:p},l)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;let l=this.resolvedPos.start(this.resolvedPos.depth-1),u=this.resolvedPos.doc.resolve(l);return new NodePos(u,this.editor)}get before(){let l=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return l.depth!==this.depth&&(l=this.resolvedPos.doc.resolve(this.from-3)),new NodePos(l,this.editor)}get after(){let l=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return l.depth!==this.depth&&(l=this.resolvedPos.doc.resolve(this.to+3)),new NodePos(l,this.editor)}get children(){let l=[];return this.node.content.forEach((u,p)=>{let h=u.isBlock&&!u.isTextblock,g=this.pos+p+1,T=this.resolvedPos.doc.resolve(g);if(!h&&T.depth<=this.depth)return;let E=new NodePos(T,this.editor,h,h?u:null);h&&(E.actualDepth=this.depth+1),l.push(new NodePos(T,this.editor,h,h?u:null))}),l}get firstChild(){return this.children[0]||null}get lastChild(){let l=this.children;return l[l.length-1]||null}closest(l,u={}){let p=null,h=this.parent;for(;h&&!p;){if(h.node.type.name===l){if(Object.keys(u).length>0){let l=h.node.attrs,p=Object.keys(u);for(let h=0;h<p.length;h+=1){let g=p[h];if(l[g]!==u[g])break}}else p=h}h=h.parent}return p}querySelector(l,u={}){return this.querySelectorAll(l,u,!0)[0]||null}querySelectorAll(l,u={},p=!1){let h=[];if(!this.children||0===this.children.length)return h;let g=Object.keys(u);return this.children.forEach(T=>{if(!p||!(h.length>0)){if(T.node.type.name===l){let l=g.every(l=>u[l]===T.node.attrs[l]);l&&h.push(T)}p&&h.length>0||(h=h.concat(T.querySelectorAll(l,u,p)))}}),h}setAttribute(l){let u=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,l).setTextSelection(u.from).run()}};let er=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;let Editor=class Editor extends EventEmitter{constructor(l={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(l),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(l,u,p){let h=document.querySelector(`style[data-tiptap-style${p?`-${p}`:""}]`);if(null!==h)return h;let g=document.createElement("style");return u&&g.setAttribute("nonce",u),g.setAttribute(`data-tiptap-style${p?`-${p}`:""}`,""),g.innerHTML=l,document.getElementsByTagName("head")[0].appendChild(g),g}(er,this.options.injectNonce))}setOptions(l={}){this.options={...this.options,...l},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(l,u=!0){this.setOptions({editable:l}),u&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(l,u){let p=isFunction(u)?u(l,[...this.state.plugins]):[...this.state.plugins,l],h=this.state.reconfigure({plugins:p});this.view.updateState(h)}unregisterPlugin(l){if(this.isDestroyed)return;let u="string"==typeof l?`${l}$`:l.key,p=this.state.reconfigure({plugins:this.state.plugins.filter(l=>!l.key.startsWith(u))});this.view.updateState(p)}createExtensionManager(){var l,u;let p=this.options.enableCoreExtensions?[W,U.configure({blockSeparator:null===(u=null===(l=this.options.coreExtensionOptions)||void 0===l?void 0:l.clipboardTextSerializer)||void 0===u?void 0:u.blockSeparator}),G,q,Y,X]:[],h=[...p,...this.options.extensions].filter(l=>["extension","node","mark"].includes(null==l?void 0:l.type));this.extensionManager=new ExtensionManager(h,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let l=createDocument(this.options.content,this.schema,this.options.parseOptions),u=resolveFocusPosition(l,this.options.autofocus);this.view=new T.tk(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:g.yy.create({doc:l,selection:u||void 0})});let p=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(p),this.createNodeViews(),this.prependClass();let h=this.view.dom;h.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(l){this.isCapturingTransaction=!0,l(),this.isCapturingTransaction=!1;let u=this.capturedTransaction;return this.capturedTransaction=null,u}dispatchTransaction(l){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=l;return}l.steps.forEach(l=>{var u;return null===(u=this.capturedTransaction)||void 0===u?void 0:u.step(l)});return}let u=this.state.apply(l),p=!this.state.selection.eq(u.selection);this.view.updateState(u),this.emit("transaction",{editor:this,transaction:l}),p&&this.emit("selectionUpdate",{editor:this,transaction:l});let h=l.getMeta("focus"),g=l.getMeta("blur");h&&this.emit("focus",{editor:this,event:h.event,transaction:l}),g&&this.emit("blur",{editor:this,event:g.event,transaction:l}),!l.docChanged||l.getMeta("preventUpdate")||this.emit("update",{editor:this,transaction:l})}getAttributes(l){return getAttributes(this.state,l)}isActive(l,u){let p="string"==typeof l?l:null,h="string"==typeof l?u:l;return function(l,u,p={}){if(!u)return isNodeActive(l,null,p)||isMarkActive(l,null,p);let h=getSchemaTypeNameByName(u,l.schema);return"node"===h?isNodeActive(l,u,p):"mark"===h&&isMarkActive(l,u,p)}(this.state,p,h)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(l,u){let p=v.PW.fromSchema(u).serializeFragment(l),h=document.implementation.createHTMLDocument(),g=h.createElement("div");return g.appendChild(p),g.innerHTML}(this.state.doc.content,this.schema)}getText(l){let{blockSeparator:u="\n\n",textSerializers:p={}}=l||{};return function(l,u){let p={from:0,to:l.content.size};return getTextBetween(l,p,u)}(this.state.doc,{blockSeparator:u,textSerializers:{...getTextSerializersFromSchema(this.schema),...p}})}get isEmpty(){return function(l){var u;let p=null===(u=l.type.createAndFill())||void 0===u?void 0:u.toJSON(),h=l.toJSON();return JSON.stringify(p)===JSON.stringify(h)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var l;return!(null===(l=this.view)||void 0===l?void 0:l.docView)}$node(l,u){var p;return(null===(p=this.$doc)||void 0===p?void 0:p.querySelector(l,u))||null}$nodes(l,u){var p;return(null===(p=this.$doc)||void 0===p?void 0:p.querySelectorAll(l,u))||null}$pos(l){let u=this.state.doc.resolve(l);return new NodePos(u,this)}get $doc(){return this.$pos(0)}};function markInputRule(l){return new InputRule({find:l.find,handler:({state:u,range:p,match:h})=>{let g=callOrReturn(l.getAttributes,void 0,h);if(!1===g||null===g)return null;let{tr:T}=u,E=h[h.length-1],v=h[0];if(E){let h=v.search(/\S/),C=p.from+v.indexOf(E),x=C+E.length,M=getMarksBetween(p.from,p.to,u.doc).filter(u=>{let p=u.mark.type.excluded;return p.find(p=>p===l.type&&p!==u.mark.type)}).filter(l=>l.to>C);if(M.length)return null;x<p.to&&T.delete(x,p.to),C>p.from&&T.delete(p.from+h,C);let O=p.from+h+E.length;T.addMark(p.from+h,O,l.type.create(g||{})),T.removeStoredMark(l.type)}}})}let Mark=class Mark{constructor(l={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...l},this.name=this.config.name,l.defaultOptions&&Object.keys(l.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(l={}){return new Mark(l)}configure(l={}){let u=this.extend();return u.options=mergeDeep(this.options,l),u.storage=callOrReturn(getExtensionField(u,"addStorage",{name:u.name,options:u.options})),u}extend(l={}){let u=new Mark({...this.config,...l});return u.parent=this,this.child=u,u.name=l.name?l.name:u.parent.name,l.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${u.name}".`),u.options=callOrReturn(getExtensionField(u,"addOptions",{name:u.name})),u.storage=callOrReturn(getExtensionField(u,"addStorage",{name:u.name,options:u.options})),u}static handleExit({editor:l,mark:u}){let{tr:p}=l.state,h=l.state.selection.$from,g=h.pos===h.end();if(g){let g=h.marks(),T=!!g.find(l=>(null==l?void 0:l.type.name)===u.name);if(!T)return!1;let E=g.find(l=>(null==l?void 0:l.type.name)===u.name);return E&&p.removeStoredMark(E),p.insertText(" ",h.pos),l.view.dispatch(p),!0}return!1}};let Node=class Node{constructor(l={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...l},this.name=this.config.name,l.defaultOptions&&Object.keys(l.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(l={}){return new Node(l)}configure(l={}){let u=this.extend();return u.options=mergeDeep(this.options,l),u.storage=callOrReturn(getExtensionField(u,"addStorage",{name:u.name,options:u.options})),u}extend(l={}){let u=new Node({...this.config,...l});return u.parent=this,this.child=u,u.name=l.name?l.name:u.parent.name,l.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${u.name}".`),u.options=callOrReturn(getExtensionField(u,"addOptions",{name:u.name})),u.storage=callOrReturn(getExtensionField(u,"addStorage",{name:u.name,options:u.options})),u}};let NodeView=class NodeView{constructor(l,u,p){this.isDragging=!1,this.component=l,this.editor=u.editor,this.options={stopEvent:null,ignoreMutation:null,...p},this.extension=u.extension,this.node=u.node,this.decorations=u.decorations,this.getPos=u.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(l){var u,p,h,T,E,v,C;let{view:x}=this.editor,M=l.target,O=3===M.nodeType?null===(u=M.parentElement)||void 0===u?void 0:u.closest("[data-drag-handle]"):M.closest("[data-drag-handle]");if(!this.dom||(null===(p=this.contentDOM)||void 0===p?void 0:p.contains(M))||!O)return;let R=0,L=0;if(this.dom!==O){let u=this.dom.getBoundingClientRect(),p=O.getBoundingClientRect(),g=null!==(h=l.offsetX)&&void 0!==h?h:null===(T=l.nativeEvent)||void 0===T?void 0:T.offsetX,C=null!==(E=l.offsetY)&&void 0!==E?E:null===(v=l.nativeEvent)||void 0===v?void 0:v.offsetY;R=p.x-u.x+g,L=p.y-u.y+C}null===(C=l.dataTransfer)||void 0===C||C.setDragImage(this.dom,R,L);let H=g.qv.create(x.state.doc,this.getPos()),U=x.state.tr.setSelection(H);x.dispatch(U)}stopEvent(l){var u;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:l});let p=l.target,h=this.dom.contains(p)&&!(null===(u=this.contentDOM)||void 0===u?void 0:u.contains(p));if(!h)return!1;let T=l.type.startsWith("drag"),E="drop"===l.type,v=["INPUT","BUTTON","SELECT","TEXTAREA"].includes(p.tagName)||p.isContentEditable;if(v&&!E&&!T)return!0;let{isEditable:C}=this.editor,{isDragging:x}=this,M=!!this.node.type.spec.draggable,O=g.qv.isSelectable(this.node),R="copy"===l.type,L="paste"===l.type,H="cut"===l.type,U="mousedown"===l.type;if(!M&&O&&T&&l.preventDefault(),M&&T&&!x)return l.preventDefault(),!1;if(M&&C&&!x&&U){let l=p.closest("[data-drag-handle]"),u=l&&(this.dom===l||this.dom.contains(l));u&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!x&&!E&&!R&&!L&&!H&&(!U||!O)}ignoreMutation(l){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:l});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===l.type)return!1;if(this.dom.contains(l.target)&&"childList"===l.type&&(isiOS()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&this.editor.isFocused){let u=[...Array.from(l.addedNodes),...Array.from(l.removedNodes)];if(u.every(l=>l.isContentEditable))return!1}return this.contentDOM===l.target&&"attributes"===l.type||!this.contentDOM.contains(l.target)}updateAttributes(l){this.editor.commands.command(({tr:u})=>{let p=this.getPos();return u.setNodeMarkup(p,void 0,{...this.node.attrs,...l}),!0})}deleteNode(){let l=this.getPos(),u=l+this.node.nodeSize;this.editor.commands.deleteRange({from:l,to:u})}};function markPasteRule(l){return new PasteRule({find:l.find,handler:({state:u,range:p,match:h,pasteEvent:g})=>{let T=callOrReturn(l.getAttributes,void 0,h,g);if(!1===T||null===T)return null;let{tr:E}=u,v=h[h.length-1],C=h[0],x=p.to;if(v){let h=C.search(/\S/),g=p.from+C.indexOf(v),M=g+v.length,O=getMarksBetween(p.from,p.to,u.doc).filter(u=>{let p=u.mark.type.excluded;return p.find(p=>p===l.type&&p!==u.mark.type)}).filter(l=>l.to>g);if(O.length)return null;M<p.to&&E.delete(M,p.to),g>p.from&&E.delete(p.from+h,g),x=p.from+h+v.length,E.addMark(p.from+h,x,l.type.create(T||{})),E.removeStoredMark(l.type)}}})}function escapeForRegEx(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},55160:function(l,u,p){"use strict";p.d(u,{ZP:function(){return E}});var h=p(73870);let g=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,T=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,E=h.vc.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:l}){return["code",(0,h.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{setCode:()=>({commands:l})=>l.setMark(this.name),toggleCode:()=>({commands:l})=>l.toggleMark(this.name),unsetCode:()=>({commands:l})=>l.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,h.Cf)({find:g,type:this.type})]},addPasteRules(){return[(0,h.K9)({find:T,type:this.type})]}})},90293:function(l,u,p){"use strict";p.d(u,{M_:function(){return ReactRenderer},T5:function(){return x},fW:function(){return ReactNodeViewRenderer},ms:function(){return NodeViewContent}});var h=p(82684),g=p(85202),T=p(73870);let mergeRefs=(...l)=>u=>{l.forEach(l=>{"function"==typeof l?l(u):l&&(l.current=u)})},Portals=({renderers:l})=>h.createElement(h.Fragment,null,Object.entries(l).map(([l,u])=>g.createPortal(u.reactElement,u.element,l)));let PureEditorContent=class PureEditorContent extends h.Component{constructor(l){super(l),this.editorContentRef=h.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:l}=this.props;if(l&&l.options.element){if(l.contentComponent)return;let u=this.editorContentRef.current;u.append(...l.options.element.childNodes),l.setOptions({element:u}),l.contentComponent=this,l.createNodeViews(),this.initialized=!0}}maybeFlushSync(l){this.initialized?(0,g.flushSync)(l):l()}setRenderer(l,u){this.maybeFlushSync(()=>{this.setState(({renderers:p})=>({renderers:{...p,[l]:u}}))})}removeRenderer(l){this.maybeFlushSync(()=>{this.setState(({renderers:u})=>{let p={...u};return delete p[l],{renderers:p}})})}componentWillUnmount(){let{editor:l}=this.props;if(!l||(this.initialized=!1,l.isDestroyed||l.view.setProps({nodeViews:{}}),l.contentComponent=null,!l.options.element.firstChild))return;let u=document.createElement("div");u.append(...l.options.element.childNodes),l.setOptions({element:u})}render(){let{editor:l,innerRef:u,...p}=this.props;return h.createElement(h.Fragment,null,h.createElement("div",{ref:mergeRefs(u,this.editorContentRef),...p}),h.createElement(Portals,{renderers:this.state.renderers}))}};let E=(0,h.forwardRef)((l,u)=>{let p=h.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[l.editor]);return h.createElement(PureEditorContent,{key:p,innerRef:u,...l})});h.memo(E);let v=(0,h.createContext)({editor:null});v.Consumer;let C=(0,h.createContext)({onDragStart:void 0}),useReactNodeView=()=>(0,h.useContext)(C),NodeViewContent=l=>{let u=l.as||"div",{nodeViewContentRef:p}=useReactNodeView();return h.createElement(u,{...l,ref:p,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...l.style}})},x=h.forwardRef((l,u)=>{let{onDragStart:p}=useReactNodeView(),g=l.as||"div";return h.createElement(g,{...l,ref:u,"data-node-view-wrapper":"",onDragStart:p,style:{whiteSpace:"normal",...l.style}})});let ReactRenderer=class ReactRenderer{constructor(l,{editor:u,props:p={},as:h="div",className:g="",attrs:T}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=l,this.editor=u,this.props=p,this.element=document.createElement(h),this.element.classList.add("react-renderer"),g&&this.element.classList.add(...g.split(" ")),T&&Object.keys(T).forEach(l=>{this.element.setAttribute(l,T[l])}),this.render()}render(){var l,u,p;let g=this.component,T=this.props;("function"==typeof g&&g.prototype&&g.prototype.isReactComponent||"object"==typeof g&&(null===(p=g.$$typeof)||void 0===p?void 0:p.toString())==="Symbol(react.forward_ref)")&&(T.ref=l=>{this.ref=l}),this.reactElement=h.createElement(g,{...T}),null===(u=null===(l=this.editor)||void 0===l?void 0:l.contentComponent)||void 0===u||u.setRenderer(this.id,this)}updateProps(l={}){this.props={...this.props,...l},this.render()}destroy(){var l,u;null===(u=null===(l=this.editor)||void 0===l?void 0:l.contentComponent)||void 0===u||u.removeRenderer(this.id)}};let ReactNodeView=class ReactNodeView extends T.DK{mount(){let l={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){var u;this.component.displayName=(u=this.extension.name).charAt(0).toUpperCase()+u.substring(1)}let ReactNodeViewProvider=l=>{let u=this.component,p=this.onDragStart.bind(this);return h.createElement(h.Fragment,null,h.createElement(C.Provider,{value:{onDragStart:p,nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&l.appendChild(this.contentDOMElement)}}},h.createElement(u,{...l})))};ReactNodeViewProvider.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let p=this.node.isInline?"span":"div";this.options.as&&(p=this.options.as);let{className:g=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new ReactRenderer(ReactNodeViewProvider,{editor:this.editor,props:l,as:p,className:`node-${this.node.type.name} ${g}`.trim(),attrs:this.options.attrs})}get dom(){var l;if(this.renderer.element.firstElementChild&&!(null===(l=this.renderer.element.firstElementChild)||void 0===l?void 0:l.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){let{from:l,to:u}=this.editor.state.selection;if(l<=this.getPos()&&u>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(l,u){let updateProps=l=>{this.renderer.updateProps(l)};if(l.type!==this.node.type)return!1;if("function"==typeof this.options.update){let p=this.node,h=this.decorations;return this.node=l,this.decorations=u,this.options.update({oldNode:p,oldDecorations:h,newNode:l,newDecorations:u,updateProps:()=>updateProps({node:l,decorations:u})})}return l===this.node&&this.decorations===u||(this.node=l,this.decorations=u,updateProps({node:l,decorations:u}),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}};function ReactNodeViewRenderer(l,u){return p=>p.editor.contentComponent?new ReactNodeView(l,p,u):{}}},90928:function(l,u,p){"use strict";p.d(u,{ZP:function(){return Suggestion}});var h=p(75011),g=p(17712),T=p(73870);function findSuggestionMatch(l){var u;let{char:p,allowSpaces:h,allowedPrefixes:g,startOfLine:E,$position:v}=l,C=(0,T.Ov)(p),x=RegExp(`\\s${C}$`),M=E?"^":"",O=h?RegExp(`${M}${C}.*?(?=\\s${C}|$)`,"gm"):RegExp(`${M}(?:^)?${C}[^\\s${C}]*`,"gm"),R=(null===(u=v.nodeBefore)||void 0===u?void 0:u.isText)&&v.nodeBefore.text;if(!R)return null;let L=v.pos-R.length,H=Array.from(R.matchAll(O)).pop();if(!H||void 0===H.input||void 0===H.index)return null;let U=H.input.slice(Math.max(0,H.index-1),H.index),j=RegExp(`^[${null==g?void 0:g.join("")}\0]?$`).test(U);if(null!==g&&!j)return null;let G=L+H.index,W=G+H[0].length;return(h&&x.test(R.slice(W-1,W+1))&&(H[0]+=" ",W+=1),G<v.pos&&W>=v.pos)?{range:{from:G,to:W},query:H[0].slice(p.length),text:H[0]}:null}let E=new h.H$("suggestion");function Suggestion({pluginKey:l=E,editor:u,char:p="@",allowSpaces:T=!1,allowedPrefixes:v=[" "],startOfLine:C=!1,decorationTag:x="span",decorationClass:M="suggestion",command:O=()=>null,items:R=()=>[],render:L=()=>({}),allow:H=()=>!0,findSuggestionMatch:U=findSuggestionMatch}){let j;let G=null==L?void 0:L(),W=new h.Sy({key:l,view(){return{update:async(l,p)=>{var h,g,T,E,v,C,x;let M=null===(h=this.key)||void 0===h?void 0:h.getState(p),L=null===(g=this.key)||void 0===g?void 0:g.getState(l.state),H=M.active&&L.active&&M.range.from!==L.range.from,U=!M.active&&L.active,W=M.active&&!L.active,q=!U&&!W&&M.query!==L.query,Y=U||H,X=q&&!H,Z=W||H;if(!Y&&!X&&!Z)return;let er=Z&&!Y?M:L,ea=l.dom.querySelector(`[data-decoration-id="${er.decorationId}"]`);j={editor:u,range:er.range,query:er.query,text:er.text,items:[],command:l=>O({editor:u,range:er.range,props:l}),decorationNode:ea,clientRect:ea?()=>{var p;let{decorationId:h}=null===(p=this.key)||void 0===p?void 0:p.getState(u.state),g=l.dom.querySelector(`[data-decoration-id="${h}"]`);return(null==g?void 0:g.getBoundingClientRect())||null}:null},Y&&(null===(T=null==G?void 0:G.onBeforeStart)||void 0===T||T.call(G,j)),X&&(null===(E=null==G?void 0:G.onBeforeUpdate)||void 0===E||E.call(G,j)),(X||Y)&&(j.items=await R({editor:u,query:er.query})),Z&&(null===(v=null==G?void 0:G.onExit)||void 0===v||v.call(G,j)),X&&(null===(C=null==G?void 0:G.onUpdate)||void 0===C||C.call(G,j)),Y&&(null===(x=null==G?void 0:G.onStart)||void 0===x||x.call(G,j))},destroy:()=>{var l;j&&(null===(l=null==G?void 0:G.onExit)||void 0===l||l.call(G,j))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(l,h,g,E){let{isEditable:x}=u,{composing:M}=u.view,{selection:O}=l,{empty:R,from:L}=O,j={...h};if(j.composing=M,x&&(R||u.view.composing)){(L<h.range.from||L>h.range.to)&&!M&&!h.composing&&(j.active=!1);let l=U({char:p,allowSpaces:T,allowedPrefixes:v,startOfLine:C,$position:O.$from}),g=`id_${Math.floor(4294967295*Math.random())}`;l&&H({editor:u,state:E,range:l.range})?(j.active=!0,j.decorationId=h.decorationId?h.decorationId:g,j.range=l.range,j.query=l.query,j.text=l.text):j.active=!1}else j.active=!1;return j.active||(j.decorationId=null,j.range={from:0,to:0},j.query=null,j.text=null),j}},props:{handleKeyDown(l,u){var p;let{active:h,range:g}=W.getState(l.state);return!!h&&((null===(p=null==G?void 0:G.onKeyDown)||void 0===p?void 0:p.call(G,{view:l,event:u,range:g}))||!1)},decorations(l){let{active:u,range:p,decorationId:h}=W.getState(l);return u?g.EH.create(l.doc,[g.p.inline(p.from,p.to,{nodeName:x,class:M,"data-decoration-id":h})]):null}}});return W}},96743:function(l,u,p){"use strict";p.d(u,{Dp:function(){return h},G:function(){return some},Z$:function(){return last},kJ:function(){return g},s7:function(){return appendTo}});let last=l=>l[l.length-1],appendTo=(l,u)=>{for(let p=0;p<u.length;p++)l.push(u[p])},h=Array.from,some=(l,u)=>{for(let p=0;p<l.length;p++)if(u(l[p],p,l))return!0;return!1},g=Array.isArray},4253:function(l,u,p){"use strict";p.d(u,{$2:function(){return O},CY:function(){return T},Ko:function(){return E},Qn:function(){return g},RP:function(){return L},Tg:function(){return H},Vw:function(){return h},cq:function(){return v},jS:function(){return R},kr:function(){return M},rc:function(){return C},x1:function(){return x}});let h=1,g=2,T=4,E=8,v=32,C=64,x=128,M=31,O=63,R=127,L=2147483647,H=4294967295},6472:function(l,u,p){"use strict";p.d(u,{Gh:function(){return v},eh:function(){return createUint8ArrayFromArrayBuffer},f9:function(){return copyUint8Array},s3:function(){return E}});var h=p(54440),g=p(20917),T=p(2968).lW;let createUint8ArrayFromLen=l=>new Uint8Array(l),createUint8ArrayViewFromArrayBuffer=(l,u,p)=>new Uint8Array(l,u,p),createUint8ArrayFromArrayBuffer=l=>new Uint8Array(l),E=g.jU?l=>{let u="";for(let p=0;p<l.byteLength;p++)u+=h.IK(l[p]);return btoa(u)}:l=>T.from(l.buffer,l.byteOffset,l.byteLength).toString("base64"),v=g.jU?l=>{let u=atob(l),p=createUint8ArrayFromLen(u.length);for(let l=0;l<u.length;l++)p[l]=u.charCodeAt(l);return p}:l=>{let u=T.from(l,"base64");return createUint8ArrayViewFromArrayBuffer(u.buffer,u.byteOffset,u.byteLength)},copyUint8Array=l=>{let u=createUint8ArrayFromLen(l.byteLength);return u.set(l),u}},65275:function(l,u,p){"use strict";p.d(u,{HN:function(){return readVarUint8Array},UF:function(){return UintOptRleDecoder},XW:function(){return RleDecoder},dD:function(){return IntDiffOptRleDecoder},kf:function(){return M},kj:function(){return readUint8},l1:function(){return createDecoder},sO:function(){return StringDecoder},v_:function(){return readAny},yg:function(){return readVarUint}});var h=p(4253),g=p(73583),T=p(67174),E=p(54440),v=p(80554);let C=v.Ue("Unexpected end of array"),x=v.Ue("Integer out of Range");let Decoder=class Decoder{constructor(l){this.arr=l,this.pos=0}};let createDecoder=l=>new Decoder(l),hasContent=l=>l.pos!==l.arr.length,readUint8Array=(l,u)=>{let p=new Uint8Array(l.arr.buffer,l.pos+l.arr.byteOffset,u);return l.pos+=u,p},readVarUint8Array=l=>readUint8Array(l,readVarUint(l)),readUint8=l=>l.arr[l.pos++],readVarUint=l=>{let u=0,p=1,g=l.arr.length;for(;l.pos<g;){let g=l.arr[l.pos++];if(u+=(g&h.jS)*p,p*=128,g<h.x1)return u;if(u>T.YM)throw x}throw C},readVarInt=l=>{let u=l.arr[l.pos++],p=u&h.$2,g=64,E=(u&h.rc)>0?-1:1;if((u&h.x1)==0)return E*p;let v=l.arr.length;for(;l.pos<v;){if(p+=((u=l.arr[l.pos++])&h.jS)*g,g*=128,u<h.x1)return E*p;if(p>T.YM)throw x}throw C},M=E.CO?l=>E.CO.decode(readVarUint8Array(l)):l=>{let u=readVarUint(l);if(0===u)return"";{let p=String.fromCodePoint(readUint8(l));if(--u<100)for(;u--;)p+=String.fromCodePoint(readUint8(l));else for(;u>0;){let h=u<1e4?u:1e4,g=l.arr.subarray(l.pos,l.pos+h);l.pos+=h,p+=String.fromCodePoint.apply(null,g),u-=h}return decodeURIComponent(escape(p))}},readFromDataView=(l,u)=>{let p=new DataView(l.arr.buffer,l.arr.byteOffset+l.pos,u);return l.pos+=u,p},O=[l=>void 0,l=>null,readVarInt,l=>readFromDataView(l,4).getFloat32(0,!1),l=>readFromDataView(l,8).getFloat64(0,!1),l=>readFromDataView(l,8).getBigInt64(0,!1),l=>!1,l=>!0,M,l=>{let u=readVarUint(l),p={};for(let h=0;h<u;h++){let u=M(l);p[u]=readAny(l)}return p},l=>{let u=readVarUint(l),p=[];for(let h=0;h<u;h++)p.push(readAny(l));return p},readVarUint8Array],readAny=l=>O[127-readUint8(l)](l);let RleDecoder=class RleDecoder extends Decoder{constructor(l,u){super(l),this.reader=u,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),hasContent(this)?this.count=readVarUint(this)+1:this.count=-1),this.count--,this.s}};let UintOptRleDecoder=class UintOptRleDecoder extends Decoder{constructor(l){super(l),this.s=0,this.count=0}read(){if(0===this.count){this.s=readVarInt(this);let l=g.GR(this.s);this.count=1,l&&(this.s=-this.s,this.count=readVarUint(this)+2)}return this.count--,this.s}};let IntDiffOptRleDecoder=class IntDiffOptRleDecoder extends Decoder{constructor(l){super(l),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){let l=readVarInt(this),u=1&l;this.diff=g.GW(l/2),this.count=1,u&&(this.count=readVarUint(this)+2)}return this.s+=this.diff,this.count--,this.s}};let StringDecoder=class StringDecoder{constructor(l){this.decoder=new UintOptRleDecoder(l),this.str=M(this.decoder),this.spos=0}read(){let l=this.spos+this.decoder.read(),u=this.str.slice(this.spos,l);return this.spos=l,u}}},70842:function(l,u,p){"use strict";p.d(u,{JU:function(){return g},x0:function(){return mapToStyleString}});var h=p(35423);let g="undefined"!=typeof document?document:{};"undefined"!=typeof DOMParser&&new DOMParser;let mapToStyleString=l=>h.UI(l,(l,u)=>`${u}:${l};`).join("");g.ELEMENT_NODE,g.TEXT_NODE,g.CDATA_SECTION_NODE,g.COMMENT_NODE,g.DOCUMENT_NODE,g.DOCUMENT_TYPE_NODE,g.DOCUMENT_FRAGMENT_NODE},873:function(l,u,p){"use strict";p.d(u,{$F:function(){return C},EM:function(){return writeAny},GF:function(){return RleEncoder},HE:function(){return UintOptRleEncoder},HK:function(){return writeUint8Array},Mf:function(){return createEncoder},TS:function(){return StringEncoder},_f:function(){return toUint8Array},kE:function(){return length},mP:function(){return writeVarUint8Array},sX:function(){return IntDiffOptRleEncoder},uE:function(){return writeVarUint},uw:function(){return O}});var h=p(73583),g=p(67174),T=p(4253),E=p(54440),v=p(96743);let Encoder=class Encoder{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}};let createEncoder=()=>new Encoder,length=l=>{let u=l.cpos;for(let p=0;p<l.bufs.length;p++)u+=l.bufs[p].length;return u},toUint8Array=l=>{let u=new Uint8Array(length(l)),p=0;for(let h=0;h<l.bufs.length;h++){let g=l.bufs[h];u.set(g,p),p+=g.length}return u.set(new Uint8Array(l.cbuf.buffer,0,l.cpos),p),u},verifyLen=(l,u)=>{let p=l.cbuf.length;p-l.cpos<u&&(l.bufs.push(new Uint8Array(l.cbuf.buffer,0,l.cpos)),l.cbuf=new Uint8Array(2*h.Fp(p,u)),l.cpos=0)},write=(l,u)=>{let p=l.cbuf.length;l.cpos===p&&(l.bufs.push(l.cbuf),l.cbuf=new Uint8Array(2*p),l.cpos=0),l.cbuf[l.cpos++]=u},C=write,writeVarUint=(l,u)=>{for(;u>T.jS;)write(l,T.x1|T.jS&u),u=h.GW(u/128);write(l,T.jS&u)},writeVarInt=(l,u)=>{let p=h.GR(u);for(p&&(u=-u),write(l,(u>T.$2?T.x1:0)|(p?T.rc:0)|T.$2&u),u=h.GW(u/64);u>0;)write(l,(u>T.jS?T.x1:0)|T.jS&u),u=h.GW(u/128)},x=new Uint8Array(3e4),M=x.length/3,O=E.YZ&&E.YZ.encodeInto?(l,u)=>{if(u.length<M){let p=E.YZ.encodeInto(u,x).written||0;writeVarUint(l,p);for(let u=0;u<p;u++)write(l,x[u])}else writeVarUint8Array(l,E.lz(u))}:(l,u)=>{let p=unescape(encodeURIComponent(u)),h=p.length;writeVarUint(l,h);for(let u=0;u<h;u++)write(l,p.codePointAt(u))},writeUint8Array=(l,u)=>{let p=l.cbuf.length,g=l.cpos,T=h.VV(p-g,u.length),E=u.length-T;l.cbuf.set(u.subarray(0,T),g),l.cpos+=T,E>0&&(l.bufs.push(l.cbuf),l.cbuf=new Uint8Array(h.Fp(2*p,E)),l.cbuf.set(u.subarray(T)),l.cpos=E)},writeVarUint8Array=(l,u)=>{writeVarUint(l,u.byteLength),writeUint8Array(l,u)},writeOnDataView=(l,u)=>{verifyLen(l,u);let p=new DataView(l.cbuf.buffer,l.cpos,u);return l.cpos+=u,p},writeFloat32=(l,u)=>writeOnDataView(l,4).setFloat32(0,u,!1),writeFloat64=(l,u)=>writeOnDataView(l,8).setFloat64(0,u,!1),writeBigInt64=(l,u)=>writeOnDataView(l,8).setBigInt64(0,u,!1),R=new DataView(new ArrayBuffer(4)),isFloat32=l=>(R.setFloat32(0,l),R.getFloat32(0)===l),writeAny=(l,u)=>{switch(typeof u){case"string":write(l,119),O(l,u);break;case"number":g.U(u)&&h.Wn(u)<=T.RP?(write(l,125),writeVarInt(l,u)):isFloat32(u)?(write(l,124),writeFloat32(l,u)):(write(l,123),writeFloat64(l,u));break;case"bigint":write(l,122),writeBigInt64(l,u);break;case"object":if(null===u)write(l,126);else if(v.kJ(u)){write(l,117),writeVarUint(l,u.length);for(let p=0;p<u.length;p++)writeAny(l,u[p])}else if(u instanceof Uint8Array)write(l,116),writeVarUint8Array(l,u);else{write(l,118);let p=Object.keys(u);writeVarUint(l,p.length);for(let h=0;h<p.length;h++){let g=p[h];O(l,g),writeAny(l,u[g])}}break;case"boolean":write(l,u?120:121);break;default:write(l,127)}};let RleEncoder=class RleEncoder extends Encoder{constructor(l){super(),this.w=l,this.s=null,this.count=0}write(l){this.s===l?this.count++:(this.count>0&&writeVarUint(this,this.count-1),this.count=1,this.w(this,l),this.s=l)}};let flushUintOptRleEncoder=l=>{l.count>0&&(writeVarInt(l.encoder,1===l.count?l.s:-l.s),l.count>1&&writeVarUint(l.encoder,l.count-2))};let UintOptRleEncoder=class UintOptRleEncoder{constructor(){this.encoder=new Encoder,this.s=0,this.count=0}write(l){this.s===l?this.count++:(flushUintOptRleEncoder(this),this.count=1,this.s=l)}toUint8Array(){return flushUintOptRleEncoder(this),toUint8Array(this.encoder)}};let flushIntDiffOptRleEncoder=l=>{if(l.count>0){let u=2*l.diff+(1===l.count?0:1);writeVarInt(l.encoder,u),l.count>1&&writeVarUint(l.encoder,l.count-2)}};let IntDiffOptRleEncoder=class IntDiffOptRleEncoder{constructor(){this.encoder=new Encoder,this.s=0,this.count=0,this.diff=0}write(l){this.diff===l-this.s?(this.s=l,this.count++):(flushIntDiffOptRleEncoder(this),this.count=1,this.diff=l-this.s,this.s=l)}toUint8Array(){return flushIntDiffOptRleEncoder(this),toUint8Array(this.encoder)}};let StringEncoder=class StringEncoder{constructor(){this.sarr=[],this.s="",this.lensE=new UintOptRleEncoder}write(l){this.s+=l,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(l.length)}toUint8Array(){let l=new Encoder;return this.sarr.push(this.s),this.s="",O(l,this.sarr.join("")),writeUint8Array(l,this.lensE.toUint8Array()),toUint8Array(l)}}},20917:function(l,u,p){"use strict";let h;p.d(u,{jU:function(){return O},hH:function(){return H}});var g,T=p(35423),E=p(54440);let undefinedToNull=l=>void 0===l?null:l;var v=p(47856),C=p(83685),x=p(48497);let M=void 0!==x&&x.release&&/node|io\.js/.test(x.release.name)&&"[object process]"===Object.prototype.toString.call(void 0!==x?x:0),O="undefined"!=typeof window&&"undefined"!=typeof document&&!M;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let R=[],computeParams=()=>{if(void 0===h){if(M){h=T.Ue();let l=x.argv,u=null;for(let p=0;p<l.length;p++){let g=l[p];"-"===g[0]?(null!==u&&h.set(u,""),u=g):null!==u?(h.set(u,g),u=null):R.push(g)}null!==u&&h.set(u,"")}else"object"==typeof location?(h=T.Ue(),(location.search||"?").slice(1).split("&").forEach(l=>{if(0!==l.length){let[u,p]=l.split("=");h.set(`--${E.NF(u,"-")}`,p),h.set(`-${E.NF(u,"-")}`,p)}})):h=T.Ue()}return h},hasParam=l=>computeParams().has(l),getVariable=l=>M?undefinedToNull(x.env[l.toUpperCase().replaceAll("-","_")]):undefinedToNull(v.XN.getItem(l));hasParam("--"+(g="production"))||getVariable(g);let L=M&&C.gB(x.env.FORCE_COLOR,["true","1","2"]),H=!hasParam("--no-colors")&&(!M||x.stdout.isTTY||L)&&(!M||hasParam("--color")||L||null!==getVariable("COLORTERM")||(getVariable("TERM")||"").includes("color"))},80554:function(l,u,p){"use strict";p.d(u,{Nw:function(){return methodUnimplemented},Ue:function(){return create},zR:function(){return unexpectedCase}});let create=l=>Error(l),methodUnimplemented=()=>{throw create("Method unimplemented")},unexpectedCase=()=>{throw create("Unexpected case")}},83685:function(l,u,p){"use strict";p.d(u,{Hi:function(){return equalityDeep},PP:function(){return callAll},gB:function(){return isOneOf},id:function(){return id}});var h=p(96743),g=p(11530);let callAll=(l,u,p=0)=>{try{for(;p<l.length;p++)l[p](...u)}finally{p<l.length&&callAll(l,u,p+1)}},id=l=>l,equalityStrict=(l,u)=>l===u,equalityDeep=(l,u)=>{if(null==l||null==u)return equalityStrict(l,u);if(l.constructor!==u.constructor)return!1;if(l===u)return!0;switch(l.constructor){case ArrayBuffer:l=new Uint8Array(l),u=new Uint8Array(u);case Uint8Array:if(l.byteLength!==u.byteLength)return!1;for(let p=0;p<l.length;p++)if(l[p]!==u[p])return!1;break;case Set:if(l.size!==u.size)return!1;for(let p of l)if(!u.has(p))return!1;break;case Map:if(l.size!==u.size)return!1;for(let p of l.keys())if(!u.has(p)||!equalityDeep(l.get(p),u.get(p)))return!1;break;case Object:if(g.kE(l)!==g.kE(u))return!1;for(let p in l)if(!g.l$(l,p)||!equalityDeep(l[p],u[p]))return!1;break;case Array:if(l.length!==u.length)return!1;for(let p=0;p<l.length;p++)if(!equalityDeep(l[p],u[p]))return!1;break;default:return!1}return!0},isOneOf=(l,u)=>u.includes(l);h.kJ},95947:function(l,u,p){"use strict";p.d(u,{BG:function(){return iteratorFilter},CA:function(){return iteratorMap}});let createIterator=l=>({[Symbol.iterator](){return this},next:l}),iteratorFilter=(l,u)=>createIterator(()=>{let p;do p=l.next();while(!p.done&&!u(p.value));return p}),iteratorMap=(l,u)=>createIterator(()=>{let{done:p,value:h}=l.next();return{done:p,value:p?void 0:u(h)}})},65919:function(l,u,p){"use strict";p.d(u,{Ej:function(){return v},Pl:function(){return T},ZA:function(){return x},s7:function(){return C},ud:function(){return R},Wd:function(){return O},hM:function(){return M},YW:function(){return E},WO:function(){return L},_X:function(){return computeNoColorLoggingArgs}});let h=Symbol;var g=p(11585);let T=h(),E=h(),v=h(),C=h(),x=h(),M=h(),O=h(),R=h(),L=h(),computeNoColorLoggingArgs=l=>{1===l.length&&l[0]?.constructor===Function&&(l=l[0]());let u=[],p=[],h=0;for(;h<l.length;h++){let g=l[h];void 0===g?u.push("undefined"):g.constructor===String||g.constructor===Number?u.push(g):g.constructor===Object&&p.push(JSON.stringify(g))}return p};g.ZG()},55728:function(l,u,p){"use strict";p.d(u,{S0:function(){return print},ZK:function(){return warn}});var h=p(20917),g=p(45791);let Pair=class Pair{constructor(l,u){this.left=l,this.right=u}};let create=(l,u)=>new Pair(l,u);var T=p(70842),E=p(35423),v=p(65919);let C={[v.Pl]:create("font-weight","bold"),[v.YW]:create("font-weight","normal"),[v.Ej]:create("color","blue"),[v.ZA]:create("color","green"),[v.s7]:create("color","grey"),[v.hM]:create("color","red"),[v.Wd]:create("color","purple"),[v.ud]:create("color","orange"),[v.WO]:create("color","black")},x=h.hH?l=>{1===l.length&&l[0]?.constructor===Function&&(l=l[0]());let u=[],p=[],h=E.Ue(),g=[],v=0;for(;v<l.length;v++){let g=l[v],E=C[g];if(void 0!==E)h.set(E.left,E.right);else{if(void 0===g)break;if(g.constructor===String||g.constructor===Number){let l=T.x0(h);v>0||l.length>0?(u.push("%c"+g),p.push(l)):u.push(g)}else break}}for(v>0&&(g=p).unshift(u.join(""));v<l.length;v++){let u=l[v];u instanceof Symbol||g.push(u)}return g}:v._X,print=(...l)=>{console.log(...x(l)),M.forEach(u=>u.print(l))},warn=(...l)=>{console.warn(...x(l)),l.unshift(v.ud),M.forEach(u=>u.print(l))},M=g.Ue()},35423:function(l,u,p){"use strict";p.d(u,{JG:function(){return copy},UI:function(){return map},Ue:function(){return create},Yj:function(){return any},Yu:function(){return setIfUndefined}});let create=()=>new Map,copy=l=>{let u=create();return l.forEach((l,p)=>{u.set(p,l)}),u},setIfUndefined=(l,u,p)=>{let h=l.get(u);return void 0===h&&l.set(u,h=p()),h},map=(l,u)=>{let p=[];for(let[h,g]of l)p.push(u(g,h));return p},any=(l,u)=>{for(let[p,h]of l)if(u(h,p))return!0;return!1}},73583:function(l,u,p){"use strict";p.d(u,{Fp:function(){return max},GR:function(){return isNegativeZero},GW:function(){return h},VV:function(){return min},Wn:function(){return g},sQ:function(){return T}});let h=Math.floor,g=Math.abs,min=(l,u)=>l<u?l:u,max=(l,u)=>l>u?l:u,T=Math.pow,isNegativeZero=l=>0!==l?l<0:1/l<0},67174:function(l,u,p){"use strict";p.d(u,{U:function(){return E},YM:function(){return T}});var h=p(73583),g=p(4253);let T=Number.MAX_SAFE_INTEGER;g.RP,g.Tg;let E=Number.isInteger||(l=>"number"==typeof l&&isFinite(l)&&h.GW(l)===l)},11530:function(l,u,p){"use strict";p.d(u,{$m:function(){return equalFlat},Ed:function(){return forEach},UI:function(){return map},XP:function(){return g},f0:function(){return h},kE:function(){return length},l$:function(){return hasProperty},xb:function(){return isEmpty}});let h=Object.assign,g=Object.keys,forEach=(l,u)=>{for(let p in l)u(l[p],p)},map=(l,u)=>{let p=[];for(let h in l)p.push(u(l[h],h));return p},length=l=>g(l).length,size=l=>g(l).length,isEmpty=l=>{for(let u in l)return!1;return!0},every=(l,u)=>{for(let p in l)if(!u(l[p],p))return!1;return!0},hasProperty=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),equalFlat=(l,u)=>l===u||size(l)===size(u)&&every(l,(l,p)=>(void 0!==l||hasProperty(u,p))&&u[p]===l)},69506:function(l,u,p){"use strict";p.d(u,{g:function(){return ObservableV2},y:function(){return Observable}});var h=p(35423),g=p(45791),T=p(96743);let ObservableV2=class ObservableV2{constructor(){this._observers=h.Ue()}on(l,u){return h.Yu(this._observers,l,g.Ue).add(u),u}once(l,u){let _f=(...p)=>{this.off(l,_f),u(...p)};this.on(l,_f)}off(l,u){let p=this._observers.get(l);void 0!==p&&(p.delete(u),0===p.size&&this._observers.delete(l))}emit(l,u){return T.Dp((this._observers.get(l)||h.Ue()).values()).forEach(l=>l(...u))}destroy(){this._observers=h.Ue()}};let Observable=class Observable{constructor(){this._observers=h.Ue()}on(l,u){h.Yu(this._observers,l,g.Ue).add(u)}once(l,u){let _f=(...p)=>{this.off(l,_f),u(...p)};this.on(l,_f)}off(l,u){let p=this._observers.get(l);void 0!==p&&(p.delete(u),0===p.size&&this._observers.delete(l))}emit(l,u){return T.Dp((this._observers.get(l)||h.Ue()).values()).forEach(l=>l(...u))}destroy(){this._observers=h.Ue()}}},40361:function(l,u,p){"use strict";p.d(u,{Ue:function(){return create}});let create=l=>new Promise(l);Promise.all.bind(Promise)},16086:function(l,u,p){"use strict";p.d(u,{kw:function(){return oneOf},U7:function(){return uint32},k$:function(){return uuidv4}});var h=p(73583);crypto.subtle;let g=crypto.getRandomValues.bind(crypto),T=Math.random,uint32=()=>g(new Uint32Array(1))[0],oneOf=l=>l[h.GW(T()*l.length)],uuidv4=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(l^uint32()&15>>l/4).toString(16))},45791:function(l,u,p){"use strict";p.d(u,{Ue:function(){return create}});let create=()=>new Set},47856:function(l,u,p){"use strict";p.d(u,{F:function(){return offChange},XN:function(){return T},z2:function(){return onChange}});let h=new class{constructor(){this.map=new Map}setItem(l,u){this.map.set(l,u)}getItem(l){return this.map.get(l)}},g=!0;try{"undefined"!=typeof localStorage&&localStorage&&(h=localStorage,g=!1)}catch(l){}let T=h,onChange=l=>g||addEventListener("storage",l),offChange=l=>g||removeEventListener("storage",l)},54440:function(l,u,p){"use strict";p.d(u,{CO:function(){return C},IK:function(){return h},NF:function(){return fromCamelCase},YZ:function(){return E},lz:function(){return v}});let h=String.fromCharCode;h(65535);let toLowerCase=l=>l.toLowerCase(),g=/^\s*/g,trimLeft=l=>l.replace(g,""),T=/([A-Z])/g,fromCamelCase=(l,u)=>trimLeft(l.replace(T,l=>`${u}${toLowerCase(l)}`)),E="undefined"!=typeof TextEncoder?new TextEncoder:null,v=E?l=>E.encode(l):l=>{let u=unescape(encodeURIComponent(l)),p=u.length,h=new Uint8Array(p);for(let l=0;l<p;l++)h[l]=u.codePointAt(l);return h},C="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});C&&1===C.decode(new Uint8Array).length&&(C=null)},11585:function(l,u,p){"use strict";p.d(u,{ZG:function(){return h}});let h=Date.now},49487:function(l,u,p){"use strict";p.d(u,{$:function(){return keydownHandler},h:function(){return keymap}});var h=p(20885),g=p(75011);let T="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function modifiers(l,u,p=!0){return u.altKey&&(l="Alt-"+l),u.ctrlKey&&(l="Ctrl-"+l),u.metaKey&&(l="Meta-"+l),p&&u.shiftKey&&(l="Shift-"+l),l}function keymap(l){return new g.Sy({props:{handleKeyDown:keydownHandler(l)}})}function keydownHandler(l){let u=function(l){let u=Object.create(null);for(let p in l)u[function(l){let u,p,h,g,E=l.split(/-(?!$)/),v=E[E.length-1];"Space"==v&&(v=" ");for(let l=0;l<E.length-1;l++){let v=E[l];if(/^(cmd|meta|m)$/i.test(v))g=!0;else if(/^a(lt)?$/i.test(v))u=!0;else if(/^(c|ctrl|control)$/i.test(v))p=!0;else if(/^s(hift)?$/i.test(v))h=!0;else if(/^mod$/i.test(v))T?g=!0:p=!0;else throw Error("Unrecognized modifier name: "+v)}return u&&(v="Alt-"+v),p&&(v="Ctrl-"+v),g&&(v="Meta-"+v),h&&(v="Shift-"+v),v}(p)]=l[p];return u}(l);return function(l,p){let g=(0,h.YG)(p),T,E=u[modifiers(g,p)];if(E&&E(l.state,l.dispatch,l))return!0;if(1==g.length&&" "!=g){if(p.shiftKey){let h=u[modifiers(g,p,!1)];if(h&&h(l.state,l.dispatch,l))return!0}if((p.shiftKey||p.altKey||p.metaKey||g.charCodeAt(0)>127)&&(T=h.ue[p.keyCode])&&T!=g){let h=u[modifiers(T,p)];if(h&&h(l.state,l.dispatch,l))return!0}}return!1}}},87218:function(l,u,p){"use strict";function OrderedMap(l){this.content=l}p.d(u,{aw:function(){return DOMParser},PW:function(){return DOMSerializer},HY:function(){return Fragment},vc:function(){return Mark},ZU:function(){return MarkType},NB:function(){return Node},Ts:function(){return NodeRange},e4:function(){return ReplaceError},V_:function(){return Schema},p2:function(){return Slice}}),OrderedMap.prototype={constructor:OrderedMap,find:function(l){for(var u=0;u<this.content.length;u+=2)if(this.content[u]===l)return u;return -1},get:function(l){var u=this.find(l);return -1==u?void 0:this.content[u+1]},update:function(l,u,p){var h=p&&p!=l?this.remove(p):this,g=h.find(l),T=h.content.slice();return -1==g?T.push(p||l,u):(T[g+1]=u,p&&(T[g]=p)),new OrderedMap(T)},remove:function(l){var u=this.find(l);if(-1==u)return this;var p=this.content.slice();return p.splice(u,2),new OrderedMap(p)},addToStart:function(l,u){return new OrderedMap([l,u].concat(this.remove(l).content))},addToEnd:function(l,u){var p=this.remove(l).content.slice();return p.push(l,u),new OrderedMap(p)},addBefore:function(l,u,p){var h=this.remove(u),g=h.content.slice(),T=h.find(l);return g.splice(-1==T?g.length:T,0,u,p),new OrderedMap(g)},forEach:function(l){for(var u=0;u<this.content.length;u+=2)l(this.content[u],this.content[u+1])},prepend:function(l){return(l=OrderedMap.from(l)).size?new OrderedMap(l.content.concat(this.subtract(l).content)):this},append:function(l){return(l=OrderedMap.from(l)).size?new OrderedMap(this.subtract(l).content.concat(l.content)):this},subtract:function(l){var u=this;l=OrderedMap.from(l);for(var p=0;p<l.content.length;p+=2)u=u.remove(l.content[p]);return u},toObject:function(){var l={};return this.forEach(function(u,p){l[u]=p}),l},get size(){return this.content.length>>1}},OrderedMap.from=function(l){if(l instanceof OrderedMap)return l;var u=[];if(l)for(var p in l)u.push(p,l[p]);return new OrderedMap(u)};let Fragment=class Fragment{constructor(l,u){if(this.content=l,this.size=u||0,null==u)for(let u=0;u<l.length;u++)this.size+=l[u].nodeSize}nodesBetween(l,u,p,h=0,g){for(let T=0,E=0;E<u;T++){let v=this.content[T],C=E+v.nodeSize;if(C>l&&!1!==p(v,h+E,g||null,T)&&v.content.size){let g=E+1;v.nodesBetween(Math.max(0,l-g),Math.min(v.content.size,u-g),p,h+g)}E=C}}descendants(l){this.nodesBetween(0,this.size,l)}textBetween(l,u,p,h){let g="",T=!0;return this.nodesBetween(l,u,(E,v)=>{let C=E.isText?E.text.slice(Math.max(l,v)-v,u-v):E.isLeaf?h?"function"==typeof h?h(E):h:E.type.spec.leafText?E.type.spec.leafText(E):"":"";E.isBlock&&(E.isLeaf&&C||E.isTextblock)&&p&&(T?T=!1:g+=p),g+=C},0),g}append(l){if(!l.size)return this;if(!this.size)return l;let u=this.lastChild,p=l.firstChild,h=this.content.slice(),g=0;for(u.isText&&u.sameMarkup(p)&&(h[h.length-1]=u.withText(u.text+p.text),g=1);g<l.content.length;g++)h.push(l.content[g]);return new Fragment(h,this.size+l.size)}cut(l,u=this.size){if(0==l&&u==this.size)return this;let p=[],h=0;if(u>l)for(let g=0,T=0;T<u;g++){let E=this.content[g],v=T+E.nodeSize;v>l&&((T<l||v>u)&&(E=E.isText?E.cut(Math.max(0,l-T),Math.min(E.text.length,u-T)):E.cut(Math.max(0,l-T-1),Math.min(E.content.size,u-T-1))),p.push(E),h+=E.nodeSize),T=v}return new Fragment(p,h)}cutByIndex(l,u){return l==u?Fragment.empty:0==l&&u==this.content.length?this:new Fragment(this.content.slice(l,u))}replaceChild(l,u){let p=this.content[l];if(p==u)return this;let h=this.content.slice(),g=this.size+u.nodeSize-p.nodeSize;return h[l]=u,new Fragment(h,g)}addToStart(l){return new Fragment([l].concat(this.content),this.size+l.nodeSize)}addToEnd(l){return new Fragment(this.content.concat(l),this.size+l.nodeSize)}eq(l){if(this.content.length!=l.content.length)return!1;for(let u=0;u<this.content.length;u++)if(!this.content[u].eq(l.content[u]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(l){let u=this.content[l];if(!u)throw RangeError("Index "+l+" out of range for "+this);return u}maybeChild(l){return this.content[l]||null}forEach(l){for(let u=0,p=0;u<this.content.length;u++){let h=this.content[u];l(h,p,u),p+=h.nodeSize}}findDiffStart(l,u=0){return function findDiffStart(l,u,p){for(let h=0;;h++){if(h==l.childCount||h==u.childCount)return l.childCount==u.childCount?null:p;let g=l.child(h),T=u.child(h);if(g==T){p+=g.nodeSize;continue}if(!g.sameMarkup(T))return p;if(g.isText&&g.text!=T.text){for(let l=0;g.text[l]==T.text[l];l++)p++;return p}if(g.content.size||T.content.size){let l=findDiffStart(g.content,T.content,p+1);if(null!=l)return l}p+=g.nodeSize}}(this,l,u)}findDiffEnd(l,u=this.size,p=l.size){return function findDiffEnd(l,u,p,h){for(let g=l.childCount,T=u.childCount;;){if(0==g||0==T)return g==T?null:{a:p,b:h};let E=l.child(--g),v=u.child(--T),C=E.nodeSize;if(E==v){p-=C,h-=C;continue}if(!E.sameMarkup(v))return{a:p,b:h};if(E.isText&&E.text!=v.text){let l=0,u=Math.min(E.text.length,v.text.length);for(;l<u&&E.text[E.text.length-l-1]==v.text[v.text.length-l-1];)l++,p--,h--;return{a:p,b:h}}if(E.content.size||v.content.size){let l=findDiffEnd(E.content,v.content,p-1,h-1);if(l)return l}p-=C,h-=C}}(this,l,u,p)}findIndex(l,u=-1){if(0==l)return retIndex(0,l);if(l==this.size)return retIndex(this.content.length,l);if(l>this.size||l<0)throw RangeError(`Position ${l} outside of fragment (${this})`);for(let p=0,h=0;;p++){let g=h+this.child(p).nodeSize;if(g>=l){if(g==l||u>0)return retIndex(p+1,g);return retIndex(p,h)}h=g}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(l=>l.toJSON()):null}static fromJSON(l,u){if(!u)return Fragment.empty;if(!Array.isArray(u))throw RangeError("Invalid input for Fragment.fromJSON");return new Fragment(u.map(l.nodeFromJSON))}static fromArray(l){if(!l.length)return Fragment.empty;let u,p=0;for(let h=0;h<l.length;h++){let g=l[h];p+=g.nodeSize,h&&g.isText&&l[h-1].sameMarkup(g)?(u||(u=l.slice(0,h)),u[u.length-1]=g.withText(u[u.length-1].text+g.text)):u&&u.push(g)}return new Fragment(u||l,p)}static from(l){if(!l)return Fragment.empty;if(l instanceof Fragment)return l;if(Array.isArray(l))return this.fromArray(l);if(l.attrs)return new Fragment([l],l.nodeSize);throw RangeError("Can not convert "+l+" to a Fragment"+(l.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};Fragment.empty=new Fragment([],0);let h={index:0,offset:0};function retIndex(l,u){return h.index=l,h.offset=u,h}function compareDeep(l,u){if(l===u)return!0;if(!(l&&"object"==typeof l)||!(u&&"object"==typeof u))return!1;let p=Array.isArray(l);if(Array.isArray(u)!=p)return!1;if(p){if(l.length!=u.length)return!1;for(let p=0;p<l.length;p++)if(!compareDeep(l[p],u[p]))return!1}else{for(let p in l)if(!(p in u)||!compareDeep(l[p],u[p]))return!1;for(let p in u)if(!(p in l))return!1}return!0}let Mark=class Mark{constructor(l,u){this.type=l,this.attrs=u}addToSet(l){let u,p=!1;for(let h=0;h<l.length;h++){let g=l[h];if(this.eq(g))return l;if(this.type.excludes(g.type))u||(u=l.slice(0,h));else{if(g.type.excludes(this.type))return l;!p&&g.type.rank>this.type.rank&&(u||(u=l.slice(0,h)),u.push(this),p=!0),u&&u.push(g)}}return u||(u=l.slice()),p||u.push(this),u}removeFromSet(l){for(let u=0;u<l.length;u++)if(this.eq(l[u]))return l.slice(0,u).concat(l.slice(u+1));return l}isInSet(l){for(let u=0;u<l.length;u++)if(this.eq(l[u]))return!0;return!1}eq(l){return this==l||this.type==l.type&&compareDeep(this.attrs,l.attrs)}toJSON(){let l={type:this.type.name};for(let u in this.attrs){l.attrs=this.attrs;break}return l}static fromJSON(l,u){if(!u)throw RangeError("Invalid input for Mark.fromJSON");let p=l.marks[u.type];if(!p)throw RangeError(`There is no mark type ${u.type} in this schema`);return p.create(u.attrs)}static sameSet(l,u){if(l==u)return!0;if(l.length!=u.length)return!1;for(let p=0;p<l.length;p++)if(!l[p].eq(u[p]))return!1;return!0}static setFrom(l){if(!l||Array.isArray(l)&&0==l.length)return Mark.none;if(l instanceof Mark)return[l];let u=l.slice();return u.sort((l,u)=>l.type.rank-u.type.rank),u}};Mark.none=[];let ReplaceError=class ReplaceError extends Error{};let Slice=class Slice{constructor(l,u,p){this.content=l,this.openStart=u,this.openEnd=p}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(l,u){let p=function insertInto(l,u,p,h){let{index:g,offset:T}=l.findIndex(u),E=l.maybeChild(g);if(T==u||E.isText)return h&&!h.canReplace(g,g,p)?null:l.cut(0,u).append(p).append(l.cut(u));let v=insertInto(E.content,u-T-1,p);return v&&l.replaceChild(g,E.copy(v))}(this.content,l+this.openStart,u);return p&&new Slice(p,this.openStart,this.openEnd)}removeBetween(l,u){return new Slice(function removeRange(l,u,p){let{index:h,offset:g}=l.findIndex(u),T=l.maybeChild(h),{index:E,offset:v}=l.findIndex(p);if(g==u||T.isText){if(v!=p&&!l.child(E).isText)throw RangeError("Removing non-flat range");return l.cut(0,u).append(l.cut(p))}if(h!=E)throw RangeError("Removing non-flat range");return l.replaceChild(h,T.copy(removeRange(T.content,u-g-1,p-g-1)))}(this.content,l+this.openStart,u+this.openStart),this.openStart,this.openEnd)}eq(l){return this.content.eq(l.content)&&this.openStart==l.openStart&&this.openEnd==l.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let l={content:this.content.toJSON()};return this.openStart>0&&(l.openStart=this.openStart),this.openEnd>0&&(l.openEnd=this.openEnd),l}static fromJSON(l,u){if(!u)return Slice.empty;let p=u.openStart||0,h=u.openEnd||0;if("number"!=typeof p||"number"!=typeof h)throw RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(l,u.content),p,h)}static maxOpen(l,u=!0){let p=0,h=0;for(let h=l.firstChild;h&&!h.isLeaf&&(u||!h.type.spec.isolating);h=h.firstChild)p++;for(let p=l.lastChild;p&&!p.isLeaf&&(u||!p.type.spec.isolating);p=p.lastChild)h++;return new Slice(l,p,h)}};function checkJoin(l,u){if(!u.type.compatibleContent(l.type))throw new ReplaceError("Cannot join "+u.type.name+" onto "+l.type.name)}function joinable(l,u,p){let h=l.node(p);return checkJoin(h,u.node(p)),h}function addNode(l,u){let p=u.length-1;p>=0&&l.isText&&l.sameMarkup(u[p])?u[p]=l.withText(u[p].text+l.text):u.push(l)}function addRange(l,u,p,h){let g=(u||l).node(p),T=0,E=u?u.index(p):g.childCount;l&&(T=l.index(p),l.depth>p?T++:l.textOffset&&(addNode(l.nodeAfter,h),T++));for(let l=T;l<E;l++)addNode(g.child(l),h);u&&u.depth==p&&u.textOffset&&addNode(u.nodeBefore,h)}function dist_close(l,u){return l.type.checkContent(u),l.copy(u)}function replaceTwoWay(l,u,p){let h=[];return addRange(null,l,p,h),l.depth>p&&addNode(dist_close(joinable(l,u,p+1),replaceTwoWay(l,u,p+1)),h),addRange(u,null,p,h),new Fragment(h)}Slice.empty=new Slice(Fragment.empty,0,0);let ResolvedPos=class ResolvedPos{constructor(l,u,p){this.pos=l,this.path=u,this.parentOffset=p,this.depth=u.length/3-1}resolveDepth(l){return null==l?this.depth:l<0?this.depth+l:l}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(l){return this.path[3*this.resolveDepth(l)]}index(l){return this.path[3*this.resolveDepth(l)+1]}indexAfter(l){return l=this.resolveDepth(l),this.index(l)+(l!=this.depth||this.textOffset?1:0)}start(l){return 0==(l=this.resolveDepth(l))?0:this.path[3*l-1]+1}end(l){return l=this.resolveDepth(l),this.start(l)+this.node(l).content.size}before(l){if(!(l=this.resolveDepth(l)))throw RangeError("There is no position before the top-level node");return l==this.depth+1?this.pos:this.path[3*l-1]}after(l){if(!(l=this.resolveDepth(l)))throw RangeError("There is no position after the top-level node");return l==this.depth+1?this.pos:this.path[3*l-1]+this.path[3*l].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let l=this.parent,u=this.index(this.depth);if(u==l.childCount)return null;let p=this.pos-this.path[this.path.length-1],h=l.child(u);return p?l.child(u).cut(p):h}get nodeBefore(){let l=this.index(this.depth),u=this.pos-this.path[this.path.length-1];return u?this.parent.child(l).cut(0,u):0==l?null:this.parent.child(l-1)}posAtIndex(l,u){u=this.resolveDepth(u);let p=this.path[3*u],h=0==u?0:this.path[3*u-1]+1;for(let u=0;u<l;u++)h+=p.child(u).nodeSize;return h}marks(){let l=this.parent,u=this.index();if(0==l.content.size)return Mark.none;if(this.textOffset)return l.child(u).marks;let p=l.maybeChild(u-1),h=l.maybeChild(u);if(!p){let l=p;p=h,h=l}let g=p.marks;for(var T=0;T<g.length;T++)!1!==g[T].type.spec.inclusive||h&&g[T].isInSet(h.marks)||(g=g[T--].removeFromSet(g));return g}marksAcross(l){let u=this.parent.maybeChild(this.index());if(!u||!u.isInline)return null;let p=u.marks,h=l.parent.maybeChild(l.index());for(var g=0;g<p.length;g++)!1!==p[g].type.spec.inclusive||h&&p[g].isInSet(h.marks)||(p=p[g--].removeFromSet(p));return p}sharedDepth(l){for(let u=this.depth;u>0;u--)if(this.start(u)<=l&&this.end(u)>=l)return u;return 0}blockRange(l=this,u){if(l.pos<this.pos)return l.blockRange(this);for(let p=this.depth-(this.parent.inlineContent||this.pos==l.pos?1:0);p>=0;p--)if(l.pos<=this.end(p)&&(!u||u(this.node(p))))return new NodeRange(this,l,p);return null}sameParent(l){return this.pos-this.parentOffset==l.pos-l.parentOffset}max(l){return l.pos>this.pos?l:this}min(l){return l.pos<this.pos?l:this}toString(){let l="";for(let u=1;u<=this.depth;u++)l+=(l?"/":"")+this.node(u).type.name+"_"+this.index(u-1);return l+":"+this.parentOffset}static resolve(l,u){if(!(u>=0&&u<=l.content.size))throw RangeError("Position "+u+" out of range");let p=[],h=0,g=u;for(let u=l;;){let{index:l,offset:T}=u.content.findIndex(g),E=g-T;if(p.push(u,l,h+T),!E||(u=u.child(l)).isText)break;g=E-1,h+=T+1}return new ResolvedPos(u,p,g)}static resolveCached(l,u){for(let p=0;p<g.length;p++){let h=g[p];if(h.pos==u&&h.doc==l)return h}let p=g[T]=ResolvedPos.resolve(l,u);return T=(T+1)%E,p}};let g=[],T=0,E=12;let NodeRange=class NodeRange{constructor(l,u,p){this.$from=l,this.$to=u,this.depth=p}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}};let v=Object.create(null);let Node=class Node{constructor(l,u,p,h=Mark.none){this.type=l,this.attrs=u,this.marks=h,this.content=p||Fragment.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(l){return this.content.child(l)}maybeChild(l){return this.content.maybeChild(l)}forEach(l){this.content.forEach(l)}nodesBetween(l,u,p,h=0){this.content.nodesBetween(l,u,p,h,this)}descendants(l){this.nodesBetween(0,this.content.size,l)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(l,u,p,h){return this.content.textBetween(l,u,p,h)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(l){return this==l||this.sameMarkup(l)&&this.content.eq(l.content)}sameMarkup(l){return this.hasMarkup(l.type,l.attrs,l.marks)}hasMarkup(l,u,p){return this.type==l&&compareDeep(this.attrs,u||l.defaultAttrs||v)&&Mark.sameSet(this.marks,p||Mark.none)}copy(l=null){return l==this.content?this:new Node(this.type,this.attrs,l,this.marks)}mark(l){return l==this.marks?this:new Node(this.type,this.attrs,this.content,l)}cut(l,u=this.content.size){return 0==l&&u==this.content.size?this:this.copy(this.content.cut(l,u))}slice(l,u=this.content.size,p=!1){if(l==u)return Slice.empty;let h=this.resolve(l),g=this.resolve(u),T=p?0:h.sharedDepth(u),E=h.start(T),v=h.node(T).content.cut(h.pos-E,g.pos-E);return new Slice(v,h.depth-T,g.depth-T)}replace(l,u,p){return function(l,u,p){if(p.openStart>l.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(l.depth-p.openStart!=u.depth-p.openEnd)throw new ReplaceError("Inconsistent open depths");return function replaceOuter(l,u,p,h){let g=l.index(h),T=l.node(h);if(g==u.index(h)&&h<l.depth-p.openStart){let E=replaceOuter(l,u,p,h+1);return T.copy(T.content.replaceChild(g,E))}if(!p.content.size)return dist_close(T,replaceTwoWay(l,u,h));if(p.openStart||p.openEnd||l.depth!=h||u.depth!=h){let{start:g,end:E}=function(l,u){let p=u.depth-l.openStart,h=u.node(p).copy(l.content);for(let l=p-1;l>=0;l--)h=u.node(l).copy(Fragment.from(h));return{start:h.resolveNoCache(l.openStart+p),end:h.resolveNoCache(h.content.size-l.openEnd-p)}}(p,l);return dist_close(T,function replaceThreeWay(l,u,p,h,g){let T=l.depth>g&&joinable(l,u,g+1),E=h.depth>g&&joinable(p,h,g+1),v=[];return addRange(null,l,g,v),T&&E&&u.index(g)==p.index(g)?(checkJoin(T,E),addNode(dist_close(T,replaceThreeWay(l,u,p,h,g+1)),v)):(T&&addNode(dist_close(T,replaceTwoWay(l,u,g+1)),v),addRange(u,p,g,v),E&&addNode(dist_close(E,replaceTwoWay(p,h,g+1)),v)),addRange(h,null,g,v),new Fragment(v)}(l,g,E,u,h))}{let h=l.parent,g=h.content;return dist_close(h,g.cut(0,l.parentOffset).append(p.content).append(g.cut(u.parentOffset)))}}(l,u,p,0)}(this.resolve(l),this.resolve(u),p)}nodeAt(l){for(let u=this;;){let{index:p,offset:h}=u.content.findIndex(l);if(!(u=u.maybeChild(p)))return null;if(h==l||u.isText)return u;l-=h+1}}childAfter(l){let{index:u,offset:p}=this.content.findIndex(l);return{node:this.content.maybeChild(u),index:u,offset:p}}childBefore(l){if(0==l)return{node:null,index:0,offset:0};let{index:u,offset:p}=this.content.findIndex(l);if(p<l)return{node:this.content.child(u),index:u,offset:p};let h=this.content.child(u-1);return{node:h,index:u-1,offset:p-h.nodeSize}}resolve(l){return ResolvedPos.resolveCached(this,l)}resolveNoCache(l){return ResolvedPos.resolve(this,l)}rangeHasMark(l,u,p){let h=!1;return u>l&&this.nodesBetween(l,u,l=>(p.isInSet(l.marks)&&(h=!0),!h)),h}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let l=this.type.name;return this.content.size&&(l+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,l)}contentMatchAt(l){let u=this.type.contentMatch.matchFragment(this.content,0,l);if(!u)throw Error("Called contentMatchAt on a node with invalid content");return u}canReplace(l,u,p=Fragment.empty,h=0,g=p.childCount){let T=this.contentMatchAt(l).matchFragment(p,h,g),E=T&&T.matchFragment(this.content,u);if(!E||!E.validEnd)return!1;for(let l=h;l<g;l++)if(!this.type.allowsMarks(p.child(l).marks))return!1;return!0}canReplaceWith(l,u,p,h){if(h&&!this.type.allowsMarks(h))return!1;let g=this.contentMatchAt(l).matchType(p),T=g&&g.matchFragment(this.content,u);return!!T&&T.validEnd}canAppend(l){return l.content.size?this.canReplace(this.childCount,this.childCount,l.content):this.type.compatibleContent(l.type)}check(){this.type.checkContent(this.content);let l=Mark.none;for(let u=0;u<this.marks.length;u++)l=this.marks[u].addToSet(l);if(!Mark.sameSet(l,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(l=>l.type.name)}`);this.content.forEach(l=>l.check())}toJSON(){let l={type:this.type.name};for(let u in this.attrs){l.attrs=this.attrs;break}return this.content.size&&(l.content=this.content.toJSON()),this.marks.length&&(l.marks=this.marks.map(l=>l.toJSON())),l}static fromJSON(l,u){if(!u)throw RangeError("Invalid input for Node.fromJSON");let p=null;if(u.marks){if(!Array.isArray(u.marks))throw RangeError("Invalid mark data for Node.fromJSON");p=u.marks.map(l.markFromJSON)}if("text"==u.type){if("string"!=typeof u.text)throw RangeError("Invalid text node in JSON");return l.text(u.text,p)}let h=Fragment.fromJSON(l,u.content);return l.nodeType(u.type).create(u.attrs,h,p)}};Node.prototype.text=void 0;let TextNode=class TextNode extends Node{constructor(l,u,p,h){if(super(l,u,null,h),!p)throw RangeError("Empty text nodes are not allowed");this.text=p}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(l,u){return this.text.slice(l,u)}get nodeSize(){return this.text.length}mark(l){return l==this.marks?this:new TextNode(this.type,this.attrs,this.text,l)}withText(l){return l==this.text?this:new TextNode(this.type,this.attrs,l,this.marks)}cut(l=0,u=this.text.length){return 0==l&&u==this.text.length?this:this.withText(this.text.slice(l,u))}eq(l){return this.sameMarkup(l)&&this.text==l.text}toJSON(){let l=super.toJSON();return l.text=this.text,l}};function wrapMarks(l,u){for(let p=l.length-1;p>=0;p--)u=l[p].type.name+"("+u+")";return u}let ContentMatch=class ContentMatch{constructor(l){this.validEnd=l,this.next=[],this.wrapCache=[]}static parse(l,u){var p;let h,g=new TokenStream(l,u);if(null==g.next)return ContentMatch.empty;let T=function parseExpr(l){let u=[];do u.push(function(l){let u=[];do u.push(function(l){let u=function(l){if(l.eat("(")){let u=parseExpr(l);return l.eat(")")||l.err("Missing closing paren"),u}if(/\W/.test(l.next))l.err("Unexpected token '"+l.next+"'");else{let u=(function(l,u){let p=l.nodeTypes,h=p[u];if(h)return[h];let g=[];for(let l in p){let h=p[l];h.groups.indexOf(u)>-1&&g.push(h)}return 0==g.length&&l.err("No node type or group '"+u+"' found"),g})(l,l.next).map(u=>(null==l.inline?l.inline=u.isInline:l.inline!=u.isInline&&l.err("Mixing inline and block content"),{type:"name",value:u}));return l.pos++,1==u.length?u[0]:{type:"choice",exprs:u}}}(l);for(;;)if(l.eat("+"))u={type:"plus",expr:u};else if(l.eat("*"))u={type:"star",expr:u};else if(l.eat("?"))u={type:"opt",expr:u};else if(l.eat("{"))u=function(l,u){let p=parseNum(l),h=p;return l.eat(",")&&(h="}"!=l.next?parseNum(l):-1),l.eat("}")||l.err("Unclosed braced range"),{type:"range",min:p,max:h,expr:u}}(l,u);else break;return u}(l));while(l.next&&")"!=l.next&&"|"!=l.next);return 1==u.length?u[0]:{type:"seq",exprs:u}}(l));while(l.eat("|"));return 1==u.length?u[0]:{type:"choice",exprs:u}}(g);g.next&&g.err("Unexpected trailing text");let E=(p=function(l){let u=[[]];return connect(function compile(l,u){if("choice"==l.type)return l.exprs.reduce((l,p)=>l.concat(compile(p,u)),[]);if("seq"==l.type)for(let p=0;;p++){let h=compile(l.exprs[p],u);if(p==l.exprs.length-1)return h;connect(h,u=node())}else if("star"==l.type){let p=node();return edge(u,p),connect(compile(l.expr,p),p),[edge(p)]}else if("plus"==l.type){let p=node();return connect(compile(l.expr,u),p),connect(compile(l.expr,p),p),[edge(p)]}else if("opt"==l.type)return[edge(u)].concat(compile(l.expr,u));else if("range"==l.type){let p=u;for(let u=0;u<l.min;u++){let u=node();connect(compile(l.expr,p),u),p=u}if(-1==l.max)connect(compile(l.expr,p),p);else for(let u=l.min;u<l.max;u++){let u=node();edge(p,u),connect(compile(l.expr,p),u),p=u}return[edge(p)]}else if("name"==l.type)return[edge(u,void 0,l.value)];else throw Error("Unknown expr type")}(l,0),node()),u;function node(){return u.push([])-1}function edge(l,p,h){let g={term:h,to:p};return u[l].push(g),g}function connect(l,u){l.forEach(l=>l.to=u)}}(T),h=Object.create(null),function explore(l){let u=[];l.forEach(l=>{p[l].forEach(({term:l,to:h})=>{let g;if(l){for(let p=0;p<u.length;p++)u[p][0]==l&&(g=u[p][1]);nullFrom(p,h).forEach(p=>{g||u.push([l,g=[]]),-1==g.indexOf(p)&&g.push(p)})}})});let g=h[l.join(",")]=new ContentMatch(l.indexOf(p.length-1)>-1);for(let l=0;l<u.length;l++){let p=u[l][1].sort(cmp);g.next.push({type:u[l][0],next:h[p.join(",")]||explore(p)})}return g}(nullFrom(p,0)));return function(l,u){for(let p=0,h=[l];p<h.length;p++){let l=h[p],g=!l.validEnd,T=[];for(let u=0;u<l.next.length;u++){let{type:p,next:E}=l.next[u];T.push(p.name),g&&!(p.isText||p.hasRequiredAttrs())&&(g=!1),-1==h.indexOf(E)&&h.push(E)}g&&u.err("Only non-generatable nodes ("+T.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(E,g),E}matchType(l){for(let u=0;u<this.next.length;u++)if(this.next[u].type==l)return this.next[u].next;return null}matchFragment(l,u=0,p=l.childCount){let h=this;for(let g=u;h&&g<p;g++)h=h.matchType(l.child(g).type);return h}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let l=0;l<this.next.length;l++){let{type:u}=this.next[l];if(!(u.isText||u.hasRequiredAttrs()))return u}return null}compatible(l){for(let u=0;u<this.next.length;u++)for(let p=0;p<l.next.length;p++)if(this.next[u].type==l.next[p].type)return!0;return!1}fillBefore(l,u=!1,p=0){let h=[this];return function search(g,T){let E=g.matchFragment(l,p);if(E&&(!u||E.validEnd))return Fragment.from(T.map(l=>l.createAndFill()));for(let l=0;l<g.next.length;l++){let{type:u,next:p}=g.next[l];if(!(u.isText||u.hasRequiredAttrs())&&-1==h.indexOf(p)){h.push(p);let l=search(p,T.concat(u));if(l)return l}}return null}(this,[])}findWrapping(l){for(let u=0;u<this.wrapCache.length;u+=2)if(this.wrapCache[u]==l)return this.wrapCache[u+1];let u=this.computeWrapping(l);return this.wrapCache.push(l,u),u}computeWrapping(l){let u=Object.create(null),p=[{match:this,type:null,via:null}];for(;p.length;){let h=p.shift(),g=h.match;if(g.matchType(l)){let l=[];for(let u=h;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<g.next.length;l++){let{type:T,next:E}=g.next[l];T.isLeaf||T.hasRequiredAttrs()||T.name in u||h.type&&!E.validEnd||(p.push({match:T.contentMatch,type:T,via:h}),u[T.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(l){if(l>=this.next.length)throw RangeError(`There's no ${l}th edge in this content match`);return this.next[l]}toString(){let l=[];return!function scan(u){l.push(u);for(let p=0;p<u.next.length;p++)-1==l.indexOf(u.next[p].next)&&scan(u.next[p].next)}(this),l.map((u,p)=>{let h=p+(u.validEnd?"*":" ")+" ";for(let p=0;p<u.next.length;p++)h+=(p?", ":"")+u.next[p].type.name+"->"+l.indexOf(u.next[p].next);return h}).join("\n")}};ContentMatch.empty=new ContentMatch(!0);let TokenStream=class TokenStream{constructor(l,u){this.string=l,this.nodeTypes=u,this.inline=null,this.pos=0,this.tokens=l.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(l){return this.next==l&&(this.pos++||!0)}err(l){throw SyntaxError(l+" (in content expression '"+this.string+"')")}};function parseNum(l){/\D/.test(l.next)&&l.err("Expected number, got '"+l.next+"'");let u=Number(l.next);return l.pos++,u}function cmp(l,u){return u-l}function nullFrom(l,u){let p=[];return function scan(u){let h=l[u];if(1==h.length&&!h[0].term)return scan(h[0].to);p.push(u);for(let l=0;l<h.length;l++){let{term:u,to:g}=h[l];u||-1!=p.indexOf(g)||scan(g)}}(u),p.sort(cmp)}function defaultAttrs(l){let u=Object.create(null);for(let p in l){let h=l[p];if(!h.hasDefault)return null;u[p]=h.default}return u}function computeAttrs(l,u){let p=Object.create(null);for(let h in l){let g=u&&u[h];if(void 0===g){let u=l[h];if(u.hasDefault)g=u.default;else throw RangeError("No value supplied for attribute "+h)}p[h]=g}return p}function initAttrs(l){let u=Object.create(null);if(l)for(let p in l)u[p]=new Attribute(l[p]);return u}let NodeType=class NodeType{constructor(l,u,p){this.name=l,this.schema=u,this.spec=p,this.markSet=null,this.groups=p.group?p.group.split(" "):[],this.attrs=initAttrs(p.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(p.inline||"text"==l),this.isText="text"==l}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let l in this.attrs)if(this.attrs[l].isRequired)return!0;return!1}compatibleContent(l){return this==l||this.contentMatch.compatible(l.contentMatch)}computeAttrs(l){return!l&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,l)}create(l=null,u,p){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new Node(this,this.computeAttrs(l),Fragment.from(u),Mark.setFrom(p))}createChecked(l=null,u,p){return u=Fragment.from(u),this.checkContent(u),new Node(this,this.computeAttrs(l),u,Mark.setFrom(p))}createAndFill(l=null,u,p){if(l=this.computeAttrs(l),(u=Fragment.from(u)).size){let l=this.contentMatch.fillBefore(u);if(!l)return null;u=l.append(u)}let h=this.contentMatch.matchFragment(u),g=h&&h.fillBefore(Fragment.empty,!0);return g?new Node(this,l,u.append(g),Mark.setFrom(p)):null}validContent(l){let u=this.contentMatch.matchFragment(l);if(!u||!u.validEnd)return!1;for(let u=0;u<l.childCount;u++)if(!this.allowsMarks(l.child(u).marks))return!1;return!0}checkContent(l){if(!this.validContent(l))throw RangeError(`Invalid content for node ${this.name}: ${l.toString().slice(0,50)}`)}allowsMarkType(l){return null==this.markSet||this.markSet.indexOf(l)>-1}allowsMarks(l){if(null==this.markSet)return!0;for(let u=0;u<l.length;u++)if(!this.allowsMarkType(l[u].type))return!1;return!0}allowedMarks(l){let u;if(null==this.markSet)return l;for(let p=0;p<l.length;p++)this.allowsMarkType(l[p].type)?u&&u.push(l[p]):u||(u=l.slice(0,p));return u?u.length?u:Mark.none:l}static compile(l,u){let p=Object.create(null);l.forEach((l,h)=>p[l]=new NodeType(l,u,h));let h=u.spec.topNode||"doc";if(!p[h])throw RangeError("Schema is missing its top node type ('"+h+"')");if(!p.text)throw RangeError("Every schema needs a 'text' type");for(let l in p.text.attrs)throw RangeError("The text node type should not have attributes");return p}};let Attribute=class Attribute{constructor(l){this.hasDefault=Object.prototype.hasOwnProperty.call(l,"default"),this.default=l.default}get isRequired(){return!this.hasDefault}};let MarkType=class MarkType{constructor(l,u,p,h){this.name=l,this.rank=u,this.schema=p,this.spec=h,this.attrs=initAttrs(h.attrs),this.excluded=null;let g=defaultAttrs(this.attrs);this.instance=g?new Mark(this,g):null}create(l=null){return!l&&this.instance?this.instance:new Mark(this,computeAttrs(this.attrs,l))}static compile(l,u){let p=Object.create(null),h=0;return l.forEach((l,g)=>p[l]=new MarkType(l,h++,u,g)),p}removeFromSet(l){for(var u=0;u<l.length;u++)l[u].type==this&&(l=l.slice(0,u).concat(l.slice(u+1)),u--);return l}isInSet(l){for(let u=0;u<l.length;u++)if(l[u].type==this)return l[u]}excludes(l){return this.excluded.indexOf(l)>-1}};let Schema=class Schema{constructor(l){this.linebreakReplacement=null,this.cached=Object.create(null);let u=this.spec={};for(let p in l)u[p]=l[p];u.nodes=OrderedMap.from(l.nodes),u.marks=OrderedMap.from(l.marks||{}),this.nodes=NodeType.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let p=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw RangeError(l+" can not be both a node and a mark");let u=this.nodes[l],h=u.spec.content||"",g=u.spec.marks;if(u.contentMatch=p[h]||(p[h]=ContentMatch.parse(h,this.nodes)),u.inlineContent=u.contentMatch.inlineContent,u.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!u.isInline||!u.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=u}u.markSet="_"==g?null:g?gatherMarks(this,g.split(" ")):""!=g&&u.inlineContent?null:[]}for(let l in this.marks){let u=this.marks[l],p=u.spec.excludes;u.excluded=null==p?[u]:""==p?[]:gatherMarks(this,p.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(l,u=null,p,h){if("string"==typeof l)l=this.nodeType(l);else if(l instanceof NodeType){if(l.schema!=this)throw RangeError("Node type from different schema used ("+l.name+")")}else throw RangeError("Invalid node type: "+l);return l.createChecked(u,p,h)}text(l,u){let p=this.nodes.text;return new TextNode(p,p.defaultAttrs,l,Mark.setFrom(u))}mark(l,u){return"string"==typeof l&&(l=this.marks[l]),l.create(u)}nodeFromJSON(l){return Node.fromJSON(this,l)}markFromJSON(l){return Mark.fromJSON(this,l)}nodeType(l){let u=this.nodes[l];if(!u)throw RangeError("Unknown node type: "+l);return u}};function gatherMarks(l,u){let p=[];for(let h=0;h<u.length;h++){let g=u[h],T=l.marks[g],E=T;if(T)p.push(T);else for(let u in l.marks){let h=l.marks[u];("_"==g||h.spec.group&&h.spec.group.split(" ").indexOf(g)>-1)&&p.push(E=h)}if(!E)throw SyntaxError("Unknown mark type: '"+u[h]+"'")}return p}let DOMParser=class DOMParser{constructor(l,u){this.schema=l,this.rules=u,this.tags=[],this.styles=[],u.forEach(l=>{null!=l.tag?this.tags.push(l):null!=l.style&&this.styles.push(l)}),this.normalizeLists=!this.tags.some(u=>{if(!/^(ul|ol)\b/.test(u.tag)||!u.node)return!1;let p=l.nodes[u.node];return p.contentMatch.matchType(p)})}parse(l,u={}){let p=new ParseContext(this,u,!1);return p.addAll(l,u.from,u.to),p.finish()}parseSlice(l,u={}){let p=new ParseContext(this,u,!0);return p.addAll(l,u.from,u.to),Slice.maxOpen(p.finish())}matchTag(l,u,p){for(let g=p?this.tags.indexOf(p)+1:0;g<this.tags.length;g++){var h;let p=this.tags[g];if(h=p.tag,(l.matches||l.msMatchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector).call(l,h)&&(void 0===p.namespace||l.namespaceURI==p.namespace)&&(!p.context||u.matchesContext(p.context))){if(p.getAttrs){let u=p.getAttrs(l);if(!1===u)continue;p.attrs=u||void 0}return p}}}matchStyle(l,u,p,h){for(let g=h?this.styles.indexOf(h)+1:0;g<this.styles.length;g++){let h=this.styles[g],T=h.style;if(0==T.indexOf(l)&&(!h.context||p.matchesContext(h.context))&&(!(T.length>l.length)||61==T.charCodeAt(l.length)&&T.slice(l.length+1)==u)){if(h.getAttrs){let l=h.getAttrs(u);if(!1===l)continue;h.attrs=l||void 0}return h}}}static schemaRules(l){let u=[];function insert(l){let p=null==l.priority?50:l.priority,h=0;for(;h<u.length;h++){let l=u[h];if((null==l.priority?50:l.priority)<p)break}u.splice(h,0,l)}for(let u in l.marks){let p=l.marks[u].spec.parseDOM;p&&p.forEach(l=>{insert(l=copy(l)),l.mark||l.ignore||l.clearMark||(l.mark=u)})}for(let u in l.nodes){let p=l.nodes[u].spec.parseDOM;p&&p.forEach(l=>{insert(l=copy(l)),l.node||l.ignore||l.mark||(l.node=u)})}return u}static fromSchema(l){return l.cached.domParser||(l.cached.domParser=new DOMParser(l,DOMParser.schemaRules(l)))}};let C={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},x={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},M={ol:!0,ul:!0};function wsOptionsFor(l,u,p){return null!=u?(u?1:0)|("full"===u?2:0):l&&"pre"==l.whitespace?3:-5&p}let NodeContext=class NodeContext{constructor(l,u,p,h,g,T,E){this.type=l,this.attrs=u,this.marks=p,this.pendingMarks=h,this.solid=g,this.options=E,this.content=[],this.activeMarks=Mark.none,this.stashMarks=[],this.match=T||(4&E?null:l.contentMatch)}findWrapping(l){if(!this.match){if(!this.type)return[];let u=this.type.contentMatch.fillBefore(Fragment.from(l));if(u)this.match=this.type.contentMatch.matchFragment(u);else{let u=this.type.contentMatch,p;return(p=u.findWrapping(l.type))?(this.match=u,p):null}}return this.match.findWrapping(l.type)}finish(l){if(!(1&this.options)){let l=this.content[this.content.length-1],u;l&&l.isText&&(u=/[ \t\r\n\u000c]+$/.exec(l.text))&&(l.text.length==u[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-u[0].length)))}let u=Fragment.from(this.content);return!l&&this.match&&(u=u.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,u,this.marks):u}popFromStashMark(l){for(let u=this.stashMarks.length-1;u>=0;u--)if(l.eq(this.stashMarks[u]))return this.stashMarks.splice(u,1)[0]}applyPending(l){for(let u=0,p=this.pendingMarks;u<p.length;u++){let h=p[u];(this.type?this.type.allowsMarkType(h.type):function(l,u){let p=u.schema.nodes;for(let h in p){let g=p[h];if(!g.allowsMarkType(l))continue;let T=[],scan=l=>{T.push(l);for(let p=0;p<l.edgeCount;p++){let{type:h,next:g}=l.edge(p);if(h==u||0>T.indexOf(g)&&scan(g))return!0}};if(scan(g.contentMatch))return!0}}(h.type,l))&&!h.isInSet(this.activeMarks)&&(this.activeMarks=h.addToSet(this.activeMarks),this.pendingMarks=h.removeFromSet(this.pendingMarks))}}inlineContext(l){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:l.parentNode&&!C.hasOwnProperty(l.parentNode.nodeName.toLowerCase())}};let ParseContext=class ParseContext{constructor(l,u,p){this.parser=l,this.options=u,this.isOpen=p,this.open=0;let h=u.topNode,g,T=wsOptionsFor(null,u.preserveWhitespace,0)|(p?4:0);g=h?new NodeContext(h.type,h.attrs,Mark.none,Mark.none,!0,u.topMatch||h.type.contentMatch,T):p?new NodeContext(null,null,Mark.none,Mark.none,!0,null,T):new NodeContext(l.schema.topNodeType,null,Mark.none,Mark.none,!0,null,T),this.nodes=[g],this.find=u.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(l){3==l.nodeType?this.addTextNode(l):1==l.nodeType&&this.addElement(l)}withStyleRules(l,u){let p=l.getAttribute("style");if(!p)return u();let h=this.readStyles(function(l){let u=/\s*([\w-]+)\s*:\s*([^;]+)/g,p,h=[];for(;p=u.exec(l);)h.push(p[1],p[2].trim());return h}(p));if(!h)return;let[g,T]=h,E=this.top;for(let l=0;l<T.length;l++)this.removePendingMark(T[l],E);for(let l=0;l<g.length;l++)this.addPendingMark(g[l]);u();for(let l=0;l<g.length;l++)this.removePendingMark(g[l],E);for(let l=0;l<T.length;l++)this.addPendingMark(T[l])}addTextNode(l){let u=l.nodeValue,p=this.top;if(2&p.options||p.inlineContext(l)||/[^ \t\r\n\u000c]/.test(u)){if(1&p.options)u=2&p.options?u.replace(/\r\n?/g,"\n"):u.replace(/\r?\n|\r/g," ");else if(u=u.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(u)&&this.open==this.nodes.length-1){let h=p.content[p.content.length-1],g=l.previousSibling;(!h||g&&"BR"==g.nodeName||h.isText&&/[ \t\r\n\u000c]$/.test(h.text))&&(u=u.slice(1))}u&&this.insertNode(this.parser.schema.text(u)),this.findInText(l)}else this.findInside(l)}addElement(l,u){let p=l.nodeName.toLowerCase(),h;M.hasOwnProperty(p)&&this.parser.normalizeLists&&function(l){for(let u=l.firstChild,p=null;u;u=u.nextSibling){let l=1==u.nodeType?u.nodeName.toLowerCase():null;l&&M.hasOwnProperty(l)&&p?(p.appendChild(u),u=p):"li"==l?p=u:l&&(p=null)}}(l);let g=this.options.ruleFromNode&&this.options.ruleFromNode(l)||(h=this.parser.matchTag(l,this,u));if(g?g.ignore:x.hasOwnProperty(p))this.findInside(l),this.ignoreFallback(l);else if(!g||g.skip||g.closeParent){g&&g.closeParent?this.open=Math.max(0,this.open-1):g&&g.skip.nodeType&&(l=g.skip);let u,h=this.top,T=this.needsBlock;if(C.hasOwnProperty(p))h.content.length&&h.content[0].isInline&&this.open&&(this.open--,h=this.top),u=!0,h.type||(this.needsBlock=!0);else if(!l.firstChild){this.leafFallback(l);return}g&&g.skip?this.addAll(l):this.withStyleRules(l,()=>this.addAll(l)),u&&this.sync(h),this.needsBlock=T}else this.withStyleRules(l,()=>{this.addElementByRule(l,g,!1===g.consuming?h:void 0)})}leafFallback(l){"BR"==l.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(l.ownerDocument.createTextNode("\n"))}ignoreFallback(l){"BR"!=l.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(l){let u=Mark.none,p=Mark.none;for(let h=0;h<l.length;h+=2)for(let g;;){let T=this.parser.matchStyle(l[h],l[h+1],this,g);if(!T)break;if(T.ignore)return null;if(T.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{T.clearMark(l)&&(p=l.addToSet(p))}):u=this.parser.schema.marks[T.mark].create(T.attrs).addToSet(u),!1===T.consuming)g=T;else break}return[u,p]}addElementByRule(l,u,p){let h,g,T;u.node?(g=this.parser.schema.nodes[u.node]).isLeaf?this.insertNode(g.create(u.attrs))||this.leafFallback(l):h=this.enter(g,u.attrs||null,u.preserveWhitespace):(T=this.parser.schema.marks[u.mark].create(u.attrs),this.addPendingMark(T));let E=this.top;if(g&&g.isLeaf)this.findInside(l);else if(p)this.addElement(l,p);else if(u.getContent)this.findInside(l),u.getContent(l,this.parser.schema).forEach(l=>this.insertNode(l));else{let p=l;"string"==typeof u.contentElement?p=l.querySelector(u.contentElement):"function"==typeof u.contentElement?p=u.contentElement(l):u.contentElement&&(p=u.contentElement),this.findAround(l,p,!0),this.addAll(p)}h&&this.sync(E)&&this.open--,T&&this.removePendingMark(T,E)}addAll(l,u,p){let h=u||0;for(let g=u?l.childNodes[u]:l.firstChild,T=null==p?null:l.childNodes[p];g!=T;g=g.nextSibling,++h)this.findAtPoint(l,h),this.addDOM(g);this.findAtPoint(l,h)}findPlace(l){let u,p;for(let h=this.open;h>=0;h--){let g=this.nodes[h],T=g.findWrapping(l);if(T&&(!u||u.length>T.length)&&(u=T,p=g,!T.length)||g.solid)break}if(!u)return!1;this.sync(p);for(let l=0;l<u.length;l++)this.enterInner(u[l],null,!1);return!0}insertNode(l){if(l.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&this.enterInner(l)}if(this.findPlace(l)){this.closeExtra();let u=this.top;u.applyPending(l.type),u.match&&(u.match=u.match.matchType(l.type));let p=u.activeMarks;for(let h=0;h<l.marks.length;h++)(!u.type||u.type.allowsMarkType(l.marks[h].type))&&(p=l.marks[h].addToSet(p));return u.content.push(l.mark(p)),!0}return!1}enter(l,u,p){let h=this.findPlace(l.create(u));return h&&this.enterInner(l,u,!0,p),h}enterInner(l,u=null,p=!1,h){this.closeExtra();let g=this.top;g.applyPending(l),g.match=g.match&&g.match.matchType(l);let T=wsOptionsFor(l,h,g.options);4&g.options&&0==g.content.length&&(T|=4),this.nodes.push(new NodeContext(l,u,g.activeMarks,g.pendingMarks,p,null,T)),this.open++}closeExtra(l=!1){let u=this.nodes.length-1;if(u>this.open){for(;u>this.open;u--)this.nodes[u-1].content.push(this.nodes[u].finish(l));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(l){for(let u=this.open;u>=0;u--)if(this.nodes[u]==l)return this.open=u,!0;return!1}get currentPos(){this.closeExtra();let l=0;for(let u=this.open;u>=0;u--){let p=this.nodes[u].content;for(let u=p.length-1;u>=0;u--)l+=p[u].nodeSize;u&&l++}return l}findAtPoint(l,u){if(this.find)for(let p=0;p<this.find.length;p++)this.find[p].node==l&&this.find[p].offset==u&&(this.find[p].pos=this.currentPos)}findInside(l){if(this.find)for(let u=0;u<this.find.length;u++)null==this.find[u].pos&&1==l.nodeType&&l.contains(this.find[u].node)&&(this.find[u].pos=this.currentPos)}findAround(l,u,p){if(l!=u&&this.find)for(let h=0;h<this.find.length;h++)null==this.find[h].pos&&1==l.nodeType&&l.contains(this.find[h].node)&&u.compareDocumentPosition(this.find[h].node)&(p?2:4)&&(this.find[h].pos=this.currentPos)}findInText(l){if(this.find)for(let u=0;u<this.find.length;u++)this.find[u].node==l&&(this.find[u].pos=this.currentPos-(l.nodeValue.length-this.find[u].offset))}matchesContext(l){if(l.indexOf("|")>-1)return l.split(/\s*\|\s*/).some(this.matchesContext,this);let u=l.split("/"),p=this.options.context,h=!this.isOpen&&(!p||p.parent.type==this.nodes[0].type),g=-(p?p.depth+1:0)+(h?0:1),match=(l,T)=>{for(;l>=0;l--){let E=u[l];if(""==E){if(l==u.length-1||0==l)continue;for(;T>=g;T--)if(match(l-1,T))return!0;return!1}{let l=T>0||0==T&&h?this.nodes[T].type:p&&T>=g?p.node(T-g).type:null;if(!l||l.name!=E&&-1==l.groups.indexOf(E))return!1;T--}}return!0};return match(u.length-1,this.open)}textblockFromContext(){let l=this.options.context;if(l)for(let u=l.depth;u>=0;u--){let p=l.node(u).contentMatchAt(l.indexAfter(u)).defaultType;if(p&&p.isTextblock&&p.defaultAttrs)return p}for(let l in this.parser.schema.nodes){let u=this.parser.schema.nodes[l];if(u.isTextblock&&u.defaultAttrs)return u}}addPendingMark(l){let u=function(l,u){for(let p=0;p<u.length;p++)if(l.eq(u[p]))return u[p]}(l,this.top.pendingMarks);u&&this.top.stashMarks.push(u),this.top.pendingMarks=l.addToSet(this.top.pendingMarks)}removePendingMark(l,u){for(let p=this.open;p>=0;p--){let h=this.nodes[p];if(h.pendingMarks.lastIndexOf(l)>-1)h.pendingMarks=l.removeFromSet(h.pendingMarks);else{h.activeMarks=l.removeFromSet(h.activeMarks);let u=h.popFromStashMark(l);u&&h.type&&h.type.allowsMarkType(u.type)&&(h.activeMarks=u.addToSet(h.activeMarks))}if(h==u)break}}};function copy(l){let u={};for(let p in l)u[p]=l[p];return u}let DOMSerializer=class DOMSerializer{constructor(l,u){this.nodes=l,this.marks=u}serializeFragment(l,u={},p){p||(p=doc(u).createDocumentFragment());let h=p,g=[];return l.forEach(l=>{if(g.length||l.marks.length){let p=0,T=0;for(;p<g.length&&T<l.marks.length;){let u=l.marks[T];if(!this.marks[u.type.name]){T++;continue}if(!u.eq(g[p][0])||!1===u.type.spec.spanning)break;p++,T++}for(;p<g.length;)h=g.pop()[1];for(;T<l.marks.length;){let p=l.marks[T++],E=this.serializeMark(p,l.isInline,u);E&&(g.push([p,h]),h.appendChild(E.dom),h=E.contentDOM||E.dom)}}h.appendChild(this.serializeNodeInner(l,u))}),p}serializeNodeInner(l,u){let{dom:p,contentDOM:h}=DOMSerializer.renderSpec(doc(u),this.nodes[l.type.name](l));if(h){if(l.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(l.content,u,h)}return p}serializeNode(l,u={}){let p=this.serializeNodeInner(l,u);for(let h=l.marks.length-1;h>=0;h--){let g=this.serializeMark(l.marks[h],l.isInline,u);g&&((g.contentDOM||g.dom).appendChild(p),p=g.dom)}return p}serializeMark(l,u,p={}){let h=this.marks[l.type.name];return h&&DOMSerializer.renderSpec(doc(p),h(l,u))}static renderSpec(l,u,p=null){let h;if("string"==typeof u)return{dom:l.createTextNode(u)};if(null!=u.nodeType)return{dom:u};if(u.dom&&null!=u.dom.nodeType)return u;let g=u[0],T=g.indexOf(" ");T>0&&(p=g.slice(0,T),g=g.slice(T+1));let E=p?l.createElementNS(p,g):l.createElement(g),v=u[1],C=1;if(v&&"object"==typeof v&&null==v.nodeType&&!Array.isArray(v)){for(let l in C=2,v)if(null!=v[l]){let u=l.indexOf(" ");u>0?E.setAttributeNS(l.slice(0,u),l.slice(u+1),v[l]):E.setAttribute(l,v[l])}}for(let g=C;g<u.length;g++){let T=u[g];if(0===T){if(g<u.length-1||g>C)throw RangeError("Content hole must be the only child of its parent node");return{dom:E,contentDOM:E}}{let{dom:u,contentDOM:g}=DOMSerializer.renderSpec(l,T,p);if(E.appendChild(u),g){if(h)throw RangeError("Multiple content holes");h=g}}}return{dom:E,contentDOM:h}}static fromSchema(l){return l.cached.domSerializer||(l.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(l),this.marksFromSchema(l)))}static nodesFromSchema(l){let u=gatherToDOM(l.nodes);return u.text||(u.text=l=>l.text),u}static marksFromSchema(l){return gatherToDOM(l.marks)}};function gatherToDOM(l){let u={};for(let p in l){let h=l[p].spec.toDOM;h&&(u[p]=h)}return u}function doc(l){return l.document||window.document}},75011:function(l,u,p){"use strict";p.d(u,{Bs:function(){return TextSelection},C1:function(){return AllSelection},H$:function(){return PluginKey},Sy:function(){return Plugin},Y1:function(){return Selection},qv:function(){return NodeSelection},xm:function(){return SelectionRange},yy:function(){return EditorState}});var h=p(87218),g=p(98647);let T=Object.create(null);let Selection=class Selection{constructor(l,u,p){this.$anchor=l,this.$head=u,this.ranges=p||[new SelectionRange(l.min(u),l.max(u))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let l=this.ranges;for(let u=0;u<l.length;u++)if(l[u].$from.pos!=l[u].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(l,u=h.p2.empty){let p=u.content.lastChild,g=null;for(let l=0;l<u.openEnd;l++)g=p,p=p.lastChild;let T=l.steps.length,E=this.ranges;for(let v=0;v<E.length;v++){let{$from:C,$to:x}=E[v],M=l.mapping.slice(T);l.replaceRange(M.map(C.pos),M.map(x.pos),v?h.p2.empty:u),0==v&&selectionToInsertionEnd(l,T,(p?p.isInline:g&&g.isTextblock)?-1:1)}}replaceWith(l,u){let p=l.steps.length,h=this.ranges;for(let g=0;g<h.length;g++){let{$from:T,$to:E}=h[g],v=l.mapping.slice(p),C=v.map(T.pos),x=v.map(E.pos);g?l.deleteRange(C,x):(l.replaceRangeWith(C,x,u),selectionToInsertionEnd(l,p,u.isInline?-1:1))}}static findFrom(l,u,p=!1){let h=l.parent.inlineContent?new TextSelection(l):findSelectionIn(l.node(0),l.parent,l.pos,l.index(),u,p);if(h)return h;for(let h=l.depth-1;h>=0;h--){let g=u<0?findSelectionIn(l.node(0),l.node(h),l.before(h+1),l.index(h),u,p):findSelectionIn(l.node(0),l.node(h),l.after(h+1),l.index(h)+1,u,p);if(g)return g}return null}static near(l,u=1){return this.findFrom(l,u)||this.findFrom(l,-u)||new AllSelection(l.node(0))}static atStart(l){return findSelectionIn(l,l,0,0,1)||new AllSelection(l)}static atEnd(l){return findSelectionIn(l,l,l.content.size,l.childCount,-1)||new AllSelection(l)}static fromJSON(l,u){if(!u||!u.type)throw RangeError("Invalid input for Selection.fromJSON");let p=T[u.type];if(!p)throw RangeError(`No selection type ${u.type} defined`);return p.fromJSON(l,u)}static jsonID(l,u){if(l in T)throw RangeError("Duplicate use of selection JSON ID "+l);return T[l]=u,u.prototype.jsonID=l,u}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}};Selection.prototype.visible=!0;let SelectionRange=class SelectionRange{constructor(l,u){this.$from=l,this.$to=u}};let E=!1;function checkTextSelection(l){E||l.parent.inlineContent||(E=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+l.parent.type.name+")"))}let TextSelection=class TextSelection extends Selection{constructor(l,u=l){checkTextSelection(l),checkTextSelection(u),super(l,u)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(l,u){let p=l.resolve(u.map(this.head));if(!p.parent.inlineContent)return Selection.near(p);let h=l.resolve(u.map(this.anchor));return new TextSelection(h.parent.inlineContent?h:p,p)}replace(l,u=h.p2.empty){if(super.replace(l,u),u==h.p2.empty){let u=this.$from.marksAcross(this.$to);u&&l.ensureMarks(u)}}eq(l){return l instanceof TextSelection&&l.anchor==this.anchor&&l.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(l,u){if("number"!=typeof u.anchor||"number"!=typeof u.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(l.resolve(u.anchor),l.resolve(u.head))}static create(l,u,p=u){let h=l.resolve(u);return new this(h,p==u?h:l.resolve(p))}static between(l,u,p){let h=l.pos-u.pos;if((!p||h)&&(p=h>=0?1:-1),!u.parent.inlineContent){let l=Selection.findFrom(u,p,!0)||Selection.findFrom(u,-p,!0);if(!l)return Selection.near(u,p);u=l.$head}return l.parent.inlineContent||(0==h?l=u:(l=(Selection.findFrom(l,-p,!0)||Selection.findFrom(l,p,!0)).$anchor).pos<u.pos==h<0||(l=u)),new TextSelection(l,u)}};Selection.jsonID("text",TextSelection);let TextBookmark=class TextBookmark{constructor(l,u){this.anchor=l,this.head=u}map(l){return new TextBookmark(l.map(this.anchor),l.map(this.head))}resolve(l){return TextSelection.between(l.resolve(this.anchor),l.resolve(this.head))}};let NodeSelection=class NodeSelection extends Selection{constructor(l){let u=l.nodeAfter;super(l,l.node(0).resolve(l.pos+u.nodeSize)),this.node=u}map(l,u){let{deleted:p,pos:h}=u.mapResult(this.anchor),g=l.resolve(h);return p?Selection.near(g):new NodeSelection(g)}content(){return new h.p2(h.HY.from(this.node),0,0)}eq(l){return l instanceof NodeSelection&&l.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(l,u){if("number"!=typeof u.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(l.resolve(u.anchor))}static create(l,u){return new NodeSelection(l.resolve(u))}static isSelectable(l){return!l.isText&&!1!==l.type.spec.selectable}};NodeSelection.prototype.visible=!1,Selection.jsonID("node",NodeSelection);let NodeBookmark=class NodeBookmark{constructor(l){this.anchor=l}map(l){let{deleted:u,pos:p}=l.mapResult(this.anchor);return u?new TextBookmark(p,p):new NodeBookmark(p)}resolve(l){let u=l.resolve(this.anchor),p=u.nodeAfter;return p&&NodeSelection.isSelectable(p)?new NodeSelection(u):Selection.near(u)}};let AllSelection=class AllSelection extends Selection{constructor(l){super(l.resolve(0),l.resolve(l.content.size))}replace(l,u=h.p2.empty){if(u==h.p2.empty){l.delete(0,l.doc.content.size);let u=Selection.atStart(l.doc);u.eq(l.selection)||l.setSelection(u)}else super.replace(l,u)}toJSON(){return{type:"all"}}static fromJSON(l){return new AllSelection(l)}map(l){return new AllSelection(l)}eq(l){return l instanceof AllSelection}getBookmark(){return v}};Selection.jsonID("all",AllSelection);let v={map(){return this},resolve:l=>new AllSelection(l)};function findSelectionIn(l,u,p,h,g,T=!1){if(u.inlineContent)return TextSelection.create(l,p);for(let E=h-(g>0?0:1);g>0?E<u.childCount:E>=0;E+=g){let h=u.child(E);if(h.isAtom){if(!T&&NodeSelection.isSelectable(h))return NodeSelection.create(l,p-(g<0?h.nodeSize:0))}else{let u=findSelectionIn(l,h,p+g,g<0?h.childCount:0,g,T);if(u)return u}p+=h.nodeSize*g}return null}function selectionToInsertionEnd(l,u,p){let h,T=l.steps.length-1;if(T<u)return;let E=l.steps[T];(E instanceof g.Pu||E instanceof g.FC)&&(l.mapping.maps[T].forEach((l,u,p,g)=>{null==h&&(h=g)}),l.setSelection(Selection.near(l.doc.resolve(h),p)))}let Transaction=class Transaction extends g.wx{constructor(l){super(l.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=l.selection,this.storedMarks=l.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(l){if(l.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=l,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(l){return this.storedMarks=l,this.updated|=2,this}ensureMarks(l){return h.vc.sameSet(this.storedMarks||this.selection.$from.marks(),l)||this.setStoredMarks(l),this}addStoredMark(l){return this.ensureMarks(l.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(l){return this.ensureMarks(l.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(l,u){super.addStep(l,u),this.updated=-3&this.updated,this.storedMarks=null}setTime(l){return this.time=l,this}replaceSelection(l){return this.selection.replace(this,l),this}replaceSelectionWith(l,u=!0){let p=this.selection;return u&&(l=l.mark(this.storedMarks||(p.empty?p.$from.marks():p.$from.marksAcross(p.$to)||h.vc.none))),p.replaceWith(this,l),this}deleteSelection(){return this.selection.replace(this),this}insertText(l,u,p){let h=this.doc.type.schema;if(null==u)return l?this.replaceSelectionWith(h.text(l),!0):this.deleteSelection();{if(null==p&&(p=u),p=null==p?u:p,!l)return this.deleteRange(u,p);let g=this.storedMarks;if(!g){let l=this.doc.resolve(u);g=p==u?l.marks():l.marksAcross(this.doc.resolve(p))}return this.replaceRangeWith(u,p,h.text(l,g)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(l,u){return this.meta["string"==typeof l?l:l.key]=u,this}getMeta(l){return this.meta["string"==typeof l?l:l.key]}get isGeneric(){for(let l in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}};function bind(l,u){return u&&l?l.bind(u):l}let FieldDesc=class FieldDesc{constructor(l,u,p){this.name=l,this.init=bind(u.init,p),this.apply=bind(u.apply,p)}};let C=[new FieldDesc("doc",{init:l=>l.doc||l.schema.topNodeType.createAndFill(),apply:l=>l.doc}),new FieldDesc("selection",{init:(l,u)=>l.selection||Selection.atStart(u.doc),apply:l=>l.selection}),new FieldDesc("storedMarks",{init:l=>l.storedMarks||null,apply:(l,u,p,h)=>h.selection.$cursor?l.storedMarks:null}),new FieldDesc("scrollToSelection",{init:()=>0,apply:(l,u)=>l.scrolledIntoView?u+1:u})];let Configuration=class Configuration{constructor(l,u){this.schema=l,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=C.slice(),u&&u.forEach(l=>{if(this.pluginsByKey[l.key])throw RangeError("Adding different instances of a keyed plugin ("+l.key+")");this.plugins.push(l),this.pluginsByKey[l.key]=l,l.spec.state&&this.fields.push(new FieldDesc(l.key,l.spec.state,l))})}};let EditorState=class EditorState{constructor(l){this.config=l}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(l){return this.applyTransaction(l).state}filterTransaction(l,u=-1){for(let p=0;p<this.config.plugins.length;p++)if(p!=u){let u=this.config.plugins[p];if(u.spec.filterTransaction&&!u.spec.filterTransaction.call(u,l,this))return!1}return!0}applyTransaction(l){if(!this.filterTransaction(l))return{state:this,transactions:[]};let u=[l],p=this.applyInner(l),h=null;for(;;){let g=!1;for(let T=0;T<this.config.plugins.length;T++){let E=this.config.plugins[T];if(E.spec.appendTransaction){let v=h?h[T].n:0,C=h?h[T].state:this,x=v<u.length&&E.spec.appendTransaction.call(E,v?u.slice(v):u,C,p);if(x&&p.filterTransaction(x,T)){if(x.setMeta("appendedTransaction",l),!h){h=[];for(let l=0;l<this.config.plugins.length;l++)h.push(l<T?{state:p,n:u.length}:{state:this,n:0})}u.push(x),p=p.applyInner(x),g=!0}h&&(h[T]={state:p,n:u.length})}}if(!g)return{state:p,transactions:u}}}applyInner(l){if(!l.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let u=new EditorState(this.config),p=this.config.fields;for(let h=0;h<p.length;h++){let g=p[h];u[g.name]=g.apply(l,this[g.name],this,u)}return u}get tr(){return new Transaction(this)}static create(l){let u=new Configuration(l.doc?l.doc.type.schema:l.schema,l.plugins),p=new EditorState(u);for(let h=0;h<u.fields.length;h++)p[u.fields[h].name]=u.fields[h].init(l,p);return p}reconfigure(l){let u=new Configuration(this.schema,l.plugins),p=u.fields,h=new EditorState(u);for(let u=0;u<p.length;u++){let g=p[u].name;h[g]=this.hasOwnProperty(g)?this[g]:p[u].init(l,h)}return h}toJSON(l){let u={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(u.storedMarks=this.storedMarks.map(l=>l.toJSON())),l&&"object"==typeof l)for(let p in l){if("doc"==p||"selection"==p)throw RangeError("The JSON fields `doc` and `selection` are reserved");let h=l[p],g=h.spec.state;g&&g.toJSON&&(u[p]=g.toJSON.call(h,this[h.key]))}return u}static fromJSON(l,u,p){if(!u)throw RangeError("Invalid input for EditorState.fromJSON");if(!l.schema)throw RangeError("Required config field 'schema' missing");let g=new Configuration(l.schema,l.plugins),T=new EditorState(g);return g.fields.forEach(g=>{if("doc"==g.name)T.doc=h.NB.fromJSON(l.schema,u.doc);else if("selection"==g.name)T.selection=Selection.fromJSON(T.doc,u.selection);else if("storedMarks"==g.name)u.storedMarks&&(T.storedMarks=u.storedMarks.map(l.schema.markFromJSON));else{if(p)for(let h in p){let E=p[h],v=E.spec.state;if(E.key==g.name&&v&&v.fromJSON&&Object.prototype.hasOwnProperty.call(u,h)){T[g.name]=v.fromJSON.call(E,l,u[h],T);return}}T[g.name]=g.init(l,T)}}),T}};let Plugin=class Plugin{constructor(l){this.spec=l,this.props={},l.props&&function bindProps(l,u,p){for(let h in l){let g=l[h];g instanceof Function?g=g.bind(u):"handleDOMEvents"==h&&(g=bindProps(g,u,{})),p[h]=g}return p}(l.props,this,this.props),this.key=l.key?l.key.key:createKey("plugin")}getState(l){return l[this.key]}};let x=Object.create(null);function createKey(l){return l in x?l+"$"+ ++x[l]:(x[l]=0,l+"$")}let PluginKey=class PluginKey{constructor(l="key"){this.key=createKey(l)}get(l){return l.config.pluginsByKey[this.key]}getState(l){return l[this.key]}}},98647:function(l,u,p){"use strict";p.d(u,{Ax:function(){return canSplit},FC:function(){return ReplaceAroundStep},GJ:function(){return joinPoint},Mn:function(){return canJoin},Pu:function(){return ReplaceStep},dR:function(){return replaceStep},k9:function(){return liftTarget},nd:function(){return findWrapping},nj:function(){return dropPoint},vs:function(){return Mapping},wx:function(){return Transform}});var h=p(87218);let MapResult=class MapResult{constructor(l,u,p){this.pos=l,this.delInfo=u,this.recover=p}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}};let StepMap=class StepMap{constructor(l,u=!1){if(this.ranges=l,this.inverted=u,!l.length&&StepMap.empty)return StepMap.empty}recover(l){let u=0,p=65535&l;if(!this.inverted)for(let l=0;l<p;l++)u+=this.ranges[3*l+2]-this.ranges[3*l+1];return this.ranges[3*p]+u+(l-(65535&l))/65536}mapResult(l,u=1){return this._map(l,u,!1)}map(l,u=1){return this._map(l,u,!0)}_map(l,u,p){let h=0,g=this.inverted?2:1,T=this.inverted?1:2;for(let E=0;E<this.ranges.length;E+=3){let v=this.ranges[E]-(this.inverted?h:0);if(v>l)break;let C=this.ranges[E+g],x=this.ranges[E+T],M=v+C;if(l<=M){let g=C?l==v?-1:l==M?1:u:u,T=v+h+(g<0?0:x);if(p)return T;let O=l==(u<0?v:M)?null:E/3+(l-v)*65536,R=l==v?2:l==M?1:4;return(u<0?l!=v:l!=M)&&(R|=8),new MapResult(T,R,O)}h+=x-C}return p?l+h:new MapResult(l+h,0,null)}touches(l,u){let p=0,h=65535&u,g=this.inverted?2:1,T=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let E=this.ranges[u]-(this.inverted?p:0);if(E>l)break;let v=this.ranges[u+g];if(l<=E+v&&u==3*h)return!0;p+=this.ranges[u+T]-v}return!1}forEach(l){let u=this.inverted?2:1,p=this.inverted?1:2;for(let h=0,g=0;h<this.ranges.length;h+=3){let T=this.ranges[h],E=T-(this.inverted?g:0),v=T+(this.inverted?0:g),C=this.ranges[h+u],x=this.ranges[h+p];l(E,E+C,v,v+x),g+=x-C}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(l){return 0==l?StepMap.empty:new StepMap(l<0?[0,-l,0]:[0,0,l])}};StepMap.empty=new StepMap([]);let Mapping=class Mapping{constructor(l=[],u,p=0,h=l.length){this.maps=l,this.mirror=u,this.from=p,this.to=h}slice(l=0,u=this.maps.length){return new Mapping(this.maps,this.mirror,l,u)}copy(){return new Mapping(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(l,u){this.to=this.maps.push(l),null!=u&&this.setMirror(this.maps.length-1,u)}appendMapping(l){for(let u=0,p=this.maps.length;u<l.maps.length;u++){let h=l.getMirror(u);this.appendMap(l.maps[u],null!=h&&h<u?p+h:void 0)}}getMirror(l){if(this.mirror){for(let u=0;u<this.mirror.length;u++)if(this.mirror[u]==l)return this.mirror[u+(u%2?-1:1)]}}setMirror(l,u){this.mirror||(this.mirror=[]),this.mirror.push(l,u)}appendMappingInverted(l){for(let u=l.maps.length-1,p=this.maps.length+l.maps.length;u>=0;u--){let h=l.getMirror(u);this.appendMap(l.maps[u].invert(),null!=h&&h>u?p-h-1:void 0)}}invert(){let l=new Mapping;return l.appendMappingInverted(this),l}map(l,u=1){if(this.mirror)return this._map(l,u,!0);for(let p=this.from;p<this.to;p++)l=this.maps[p].map(l,u);return l}mapResult(l,u=1){return this._map(l,u,!1)}_map(l,u,p){let h=0;for(let p=this.from;p<this.to;p++){let g=this.maps[p].mapResult(l,u);if(null!=g.recover){let u=this.getMirror(p);if(null!=u&&u>p&&u<this.to){p=u,l=this.maps[u].recover(g.recover);continue}}h|=g.delInfo,l=g.pos}return p?l:new MapResult(l,h,null)}};let g=Object.create(null);let Step=class Step{getMap(){return StepMap.empty}merge(l){return null}static fromJSON(l,u){if(!u||!u.stepType)throw RangeError("Invalid input for Step.fromJSON");let p=g[u.stepType];if(!p)throw RangeError(`No step type ${u.stepType} defined`);return p.fromJSON(l,u)}static jsonID(l,u){if(l in g)throw RangeError("Duplicate use of step JSON ID "+l);return g[l]=u,u.prototype.jsonID=l,u}};let StepResult=class StepResult{constructor(l,u){this.doc=l,this.failed=u}static ok(l){return new StepResult(l,null)}static fail(l){return new StepResult(null,l)}static fromReplace(l,u,p,g){try{return StepResult.ok(l.replace(u,p,g))}catch(l){if(l instanceof h.e4)return StepResult.fail(l.message);throw l}}};function mapFragment(l,u,p){let g=[];for(let h=0;h<l.childCount;h++){let T=l.child(h);T.content.size&&(T=T.copy(mapFragment(T.content,u,T))),T.isInline&&(T=u(T,p,h)),g.push(T)}return h.HY.fromArray(g)}let AddMarkStep=class AddMarkStep extends Step{constructor(l,u,p){super(),this.from=l,this.to=u,this.mark=p}apply(l){let u=l.slice(this.from,this.to),p=l.resolve(this.from),g=p.node(p.sharedDepth(this.to)),T=new h.p2(mapFragment(u.content,(l,u)=>l.isAtom&&u.type.allowsMarkType(this.mark.type)?l.mark(this.mark.addToSet(l.marks)):l,g),u.openStart,u.openEnd);return StepResult.fromReplace(l,this.from,this.to,T)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(l){let u=l.mapResult(this.from,1),p=l.mapResult(this.to,-1);return u.deleted&&p.deleted||u.pos>=p.pos?null:new AddMarkStep(u.pos,p.pos,this.mark)}merge(l){return l instanceof AddMarkStep&&l.mark.eq(this.mark)&&this.from<=l.to&&this.to>=l.from?new AddMarkStep(Math.min(this.from,l.from),Math.max(this.to,l.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(l,u){if("number"!=typeof u.from||"number"!=typeof u.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(u.from,u.to,l.markFromJSON(u.mark))}};Step.jsonID("addMark",AddMarkStep);let RemoveMarkStep=class RemoveMarkStep extends Step{constructor(l,u,p){super(),this.from=l,this.to=u,this.mark=p}apply(l){let u=l.slice(this.from,this.to),p=new h.p2(mapFragment(u.content,l=>l.mark(this.mark.removeFromSet(l.marks)),l),u.openStart,u.openEnd);return StepResult.fromReplace(l,this.from,this.to,p)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(l){let u=l.mapResult(this.from,1),p=l.mapResult(this.to,-1);return u.deleted&&p.deleted||u.pos>=p.pos?null:new RemoveMarkStep(u.pos,p.pos,this.mark)}merge(l){return l instanceof RemoveMarkStep&&l.mark.eq(this.mark)&&this.from<=l.to&&this.to>=l.from?new RemoveMarkStep(Math.min(this.from,l.from),Math.max(this.to,l.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(l,u){if("number"!=typeof u.from||"number"!=typeof u.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(u.from,u.to,l.markFromJSON(u.mark))}};Step.jsonID("removeMark",RemoveMarkStep);let AddNodeMarkStep=class AddNodeMarkStep extends Step{constructor(l,u){super(),this.pos=l,this.mark=u}apply(l){let u=l.nodeAt(this.pos);if(!u)return StepResult.fail("No node at mark step's position");let p=u.type.create(u.attrs,null,this.mark.addToSet(u.marks));return StepResult.fromReplace(l,this.pos,this.pos+1,new h.p2(h.HY.from(p),0,u.isLeaf?0:1))}invert(l){let u=l.nodeAt(this.pos);if(u){let l=this.mark.addToSet(u.marks);if(l.length==u.marks.length){for(let p=0;p<u.marks.length;p++)if(!u.marks[p].isInSet(l))return new AddNodeMarkStep(this.pos,u.marks[p]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(l){let u=l.mapResult(this.pos,1);return u.deletedAfter?null:new AddNodeMarkStep(u.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(l,u){if("number"!=typeof u.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(u.pos,l.markFromJSON(u.mark))}};Step.jsonID("addNodeMark",AddNodeMarkStep);let RemoveNodeMarkStep=class RemoveNodeMarkStep extends Step{constructor(l,u){super(),this.pos=l,this.mark=u}apply(l){let u=l.nodeAt(this.pos);if(!u)return StepResult.fail("No node at mark step's position");let p=u.type.create(u.attrs,null,this.mark.removeFromSet(u.marks));return StepResult.fromReplace(l,this.pos,this.pos+1,new h.p2(h.HY.from(p),0,u.isLeaf?0:1))}invert(l){let u=l.nodeAt(this.pos);return u&&this.mark.isInSet(u.marks)?new AddNodeMarkStep(this.pos,this.mark):this}map(l){let u=l.mapResult(this.pos,1);return u.deletedAfter?null:new RemoveNodeMarkStep(u.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(l,u){if("number"!=typeof u.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(u.pos,l.markFromJSON(u.mark))}};Step.jsonID("removeNodeMark",RemoveNodeMarkStep);let ReplaceStep=class ReplaceStep extends Step{constructor(l,u,p,h=!1){super(),this.from=l,this.to=u,this.slice=p,this.structure=h}apply(l){return this.structure&&contentBetween(l,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(l,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(l){return new ReplaceStep(this.from,this.from+this.slice.size,l.slice(this.from,this.to))}map(l){let u=l.mapResult(this.from,1),p=l.mapResult(this.to,-1);return u.deletedAcross&&p.deletedAcross?null:new ReplaceStep(u.pos,Math.max(u.pos,p.pos),this.slice)}merge(l){if(!(l instanceof ReplaceStep)||l.structure||this.structure)return null;if(this.from+this.slice.size!=l.from||this.slice.openEnd||l.slice.openStart){if(l.to!=this.from||this.slice.openStart||l.slice.openEnd)return null;{let u=this.slice.size+l.slice.size==0?h.p2.empty:new h.p2(l.slice.content.append(this.slice.content),l.slice.openStart,this.slice.openEnd);return new ReplaceStep(l.from,this.to,u,this.structure)}}{let u=this.slice.size+l.slice.size==0?h.p2.empty:new h.p2(this.slice.content.append(l.slice.content),this.slice.openStart,l.slice.openEnd);return new ReplaceStep(this.from,this.to+(l.to-l.from),u,this.structure)}}toJSON(){let l={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(l.slice=this.slice.toJSON()),this.structure&&(l.structure=!0),l}static fromJSON(l,u){if("number"!=typeof u.from||"number"!=typeof u.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(u.from,u.to,h.p2.fromJSON(l,u.slice),!!u.structure)}};Step.jsonID("replace",ReplaceStep);let ReplaceAroundStep=class ReplaceAroundStep extends Step{constructor(l,u,p,h,g,T,E=!1){super(),this.from=l,this.to=u,this.gapFrom=p,this.gapTo=h,this.slice=g,this.insert=T,this.structure=E}apply(l){if(this.structure&&(contentBetween(l,this.from,this.gapFrom)||contentBetween(l,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let u=l.slice(this.gapFrom,this.gapTo);if(u.openStart||u.openEnd)return StepResult.fail("Gap is not a flat range");let p=this.slice.insertAt(this.insert,u.content);return p?StepResult.fromReplace(l,this.from,this.to,p):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(l){let u=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+u,this.from+this.insert,this.from+this.insert+u,l.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(l){let u=l.mapResult(this.from,1),p=l.mapResult(this.to,-1),h=this.from==this.gapFrom?u.pos:l.map(this.gapFrom,-1),g=this.to==this.gapTo?p.pos:l.map(this.gapTo,1);return u.deletedAcross&&p.deletedAcross||h<u.pos||g>p.pos?null:new ReplaceAroundStep(u.pos,p.pos,h,g,this.slice,this.insert,this.structure)}toJSON(){let l={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(l.slice=this.slice.toJSON()),this.structure&&(l.structure=!0),l}static fromJSON(l,u){if("number"!=typeof u.from||"number"!=typeof u.to||"number"!=typeof u.gapFrom||"number"!=typeof u.gapTo||"number"!=typeof u.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(u.from,u.to,u.gapFrom,u.gapTo,h.p2.fromJSON(l,u.slice),u.insert,!!u.structure)}};function contentBetween(l,u,p){let h=l.resolve(u),g=p-u,T=h.depth;for(;g>0&&T>0&&h.indexAfter(T)==h.node(T).childCount;)T--,g--;if(g>0){let l=h.node(T).maybeChild(h.indexAfter(T));for(;g>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,g--}}return!1}function clearIncompatible(l,u,p,g=p.contentMatch,T=!0){let E=l.doc.nodeAt(u),v=[],C=u+1;for(let u=0;u<E.childCount;u++){let x=E.child(u),M=C+x.nodeSize,O=g.matchType(x.type);if(O){g=O;for(let u=0;u<x.marks.length;u++)p.allowsMarkType(x.marks[u].type)||l.step(new RemoveMarkStep(C,M,x.marks[u]));if(T&&x.isText&&"pre"!=p.whitespace){let l,u=/\r?\n|\r/g,g;for(;l=u.exec(x.text);)g||(g=new h.p2(h.HY.from(p.schema.text(" ",p.allowedMarks(x.marks))),0,0)),v.push(new ReplaceStep(C+l.index,C+l.index+l[0].length,g))}}else v.push(new ReplaceStep(C,M,h.p2.empty));C=M}if(!g.validEnd){let u=g.fillBefore(h.HY.empty,!0);l.replace(C,C,new h.p2(u,0,0))}for(let u=v.length-1;u>=0;u--)l.step(v[u])}function liftTarget(l){let u=l.parent.content.cutByIndex(l.startIndex,l.endIndex);for(let p=l.depth;;--p){let h=l.$from.node(p),g=l.$from.index(p),T=l.$to.indexAfter(p);if(p<l.depth&&h.canReplace(g,T,u))return p;if(0==p||h.type.spec.isolating||!((0==g||h.canReplace(g,h.childCount))&&(T==h.childCount||h.canReplace(0,T))))break}return null}function findWrapping(l,u,p=null,h=l){let g=function(l,u){let{parent:p,startIndex:h,endIndex:g}=l,T=p.contentMatchAt(h).findWrapping(u);if(!T)return null;let E=T.length?T[0]:u;return p.canReplaceWith(h,g,E)?T:null}(l,u),T=g&&function(l,u){let{parent:p,startIndex:h,endIndex:g}=l,T=p.child(h),E=u.contentMatch.findWrapping(T.type);if(!E)return null;let v=(E.length?E[E.length-1]:u).contentMatch;for(let l=h;v&&l<g;l++)v=v.matchType(p.child(l).type);return v&&v.validEnd?E:null}(h,u);return T?g.map(withAttrs).concat({type:u,attrs:p}).concat(T.map(withAttrs)):null}function withAttrs(l){return{type:l,attrs:null}}function canSplit(l,u,p=1,h){let g=l.resolve(u),T=g.depth-p,E=h&&h[h.length-1]||g.parent;if(T<0||g.parent.type.spec.isolating||!g.parent.canReplace(g.index(),g.parent.childCount)||!E.type.validContent(g.parent.content.cutByIndex(g.index(),g.parent.childCount)))return!1;for(let l=g.depth-1,u=p-2;l>T;l--,u--){let p=g.node(l),T=g.index(l);if(p.type.spec.isolating)return!1;let E=p.content.cutByIndex(T,p.childCount),v=h&&h[u+1];v&&(E=E.replaceChild(0,v.type.create(v.attrs)));let C=h&&h[u]||p;if(!p.canReplace(T+1,p.childCount)||!C.type.validContent(E))return!1}let v=g.indexAfter(T),C=h&&h[0];return g.node(T).canReplaceWith(v,v,C?C.type:g.node(T+1).type)}function canJoin(l,u){let p=l.resolve(u),h=p.index();return joinable(p.nodeBefore,p.nodeAfter)&&p.parent.canReplace(h,h+1)}function joinable(l,u){return!!(l&&u&&!l.isLeaf&&l.canAppend(u))}function joinPoint(l,u,p=-1){let h=l.resolve(u);for(let l=h.depth;;l--){let g,T,E=h.index(l);if(l==h.depth?(g=h.nodeBefore,T=h.nodeAfter):p>0?(g=h.node(l+1),E++,T=h.node(l).maybeChild(E)):(g=h.node(l).maybeChild(E-1),T=h.node(l+1)),g&&!g.isTextblock&&joinable(g,T)&&h.node(l).canReplace(E,E+1))return u;if(0==l)break;u=p<0?h.before(l):h.after(l)}}function dropPoint(l,u,p){let h=l.resolve(u);if(!p.content.size)return u;let g=p.content;for(let l=0;l<p.openStart;l++)g=g.firstChild.content;for(let l=1;l<=(0==p.openStart&&p.size?2:1);l++)for(let u=h.depth;u>=0;u--){let p=u==h.depth?0:h.pos<=(h.start(u+1)+h.end(u+1))/2?-1:1,T=h.index(u)+(p>0?1:0),E=h.node(u),v=!1;if(1==l)v=E.canReplace(T,T,g);else{let l=E.contentMatchAt(T).findWrapping(g.firstChild.type);v=l&&E.canReplaceWith(T,T,l[0])}if(v)return 0==p?h.pos:p<0?h.before(u+1):h.after(u+1)}return null}function replaceStep(l,u,p=u,g=h.p2.empty){if(u==p&&!g.size)return null;let T=l.resolve(u),E=l.resolve(p);return fitsTrivially(T,E,g)?new ReplaceStep(u,p,g):new Fitter(T,E,g).fit()}function fitsTrivially(l,u,p){return!p.openStart&&!p.openEnd&&l.start()==u.start()&&l.parent.canReplace(l.index(),u.index(),p.content)}Step.jsonID("replaceAround",ReplaceAroundStep);let Fitter=class Fitter{constructor(l,u,p){this.$from=l,this.$to=u,this.unplaced=p,this.frontier=[],this.placed=h.HY.empty;for(let u=0;u<=l.depth;u++){let p=l.node(u);this.frontier.push({type:p.type,match:p.contentMatchAt(l.indexAfter(u))})}for(let u=l.depth;u>0;u--)this.placed=h.HY.from(l.node(u).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let l=this.mustMoveInline(),u=this.placed.size-this.depth-this.$from.depth,p=this.$from,g=this.close(l<0?this.$to:p.doc.resolve(l));if(!g)return null;let T=this.placed,E=p.depth,v=g.depth;for(;E&&v&&1==T.childCount;)T=T.firstChild.content,E--,v--;let C=new h.p2(T,E,v);return l>-1?new ReplaceAroundStep(p.pos,l,this.$to.pos,this.$to.end(),C,u):C.size||p.pos!=this.$to.pos?new ReplaceStep(p.pos,g.pos,C):null}findFittable(){let l=this.unplaced.openStart;for(let u=this.unplaced.content,p=0,h=this.unplaced.openEnd;p<l;p++){let g=u.firstChild;if(u.childCount>1&&(h=0),g.type.spec.isolating&&h<=p){l=p;break}u=g.content}for(let u=1;u<=2;u++)for(let p=1==u?l:this.unplaced.openStart;p>=0;p--){let l=null,g=(p?(l=contentAt(this.unplaced.content,p-1).firstChild).content:this.unplaced.content).firstChild;for(let T=this.depth;T>=0;T--){let{type:E,match:v}=this.frontier[T],C,x=null;if(1==u&&(g?v.matchType(g.type)||(x=v.fillBefore(h.HY.from(g),!1)):l&&E.compatibleContent(l.type)))return{sliceDepth:p,frontierDepth:T,parent:l,inject:x};if(2==u&&g&&(C=v.findWrapping(g.type)))return{sliceDepth:p,frontierDepth:T,parent:l,wrap:C};if(l&&v.matchType(l.type))break}}}openMore(){let{content:l,openStart:u,openEnd:p}=this.unplaced,g=contentAt(l,u);return!!g.childCount&&!g.firstChild.isLeaf&&(this.unplaced=new h.p2(l,u+1,Math.max(p,g.size+u>=l.size-p?u+1:0)),!0)}dropNode(){let{content:l,openStart:u,openEnd:p}=this.unplaced,g=contentAt(l,u);if(g.childCount<=1&&u>0){let T=l.size-u<=u+g.size;this.unplaced=new h.p2(dropFromFragment(l,u-1,1),u-1,T?u-1:p)}else this.unplaced=new h.p2(dropFromFragment(l,u,1),u,p)}placeNodes({sliceDepth:l,frontierDepth:u,parent:p,inject:g,wrap:T}){for(;this.depth>u;)this.closeFrontierNode();if(T)for(let l=0;l<T.length;l++)this.openFrontierNode(T[l]);let E=this.unplaced,v=p?p.content:E.content,C=E.openStart-l,x=0,M=[],{match:O,type:R}=this.frontier[u];if(g){for(let l=0;l<g.childCount;l++)M.push(g.child(l));O=O.matchFragment(g)}let L=v.size+l-(E.content.size-E.openEnd);for(;x<v.childCount;){let l=v.child(x),u=O.matchType(l.type);if(!u)break;(++x>1||0==C||l.content.size)&&(O=u,M.push(function closeNodeStart(l,u,p){if(u<=0)return l;let g=l.content;return u>1&&(g=g.replaceChild(0,closeNodeStart(g.firstChild,u-1,1==g.childCount?p-1:0))),u>0&&(g=l.type.contentMatch.fillBefore(g).append(g),p<=0&&(g=g.append(l.type.contentMatch.matchFragment(g).fillBefore(h.HY.empty,!0)))),l.copy(g)}(l.mark(R.allowedMarks(l.marks)),1==x?C:0,x==v.childCount?L:-1)))}let H=x==v.childCount;H||(L=-1),this.placed=addToFragment(this.placed,u,h.HY.from(M)),this.frontier[u].match=O,H&&L<0&&p&&p.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let l=0,u=v;l<L;l++){let l=u.lastChild;this.frontier.push({type:l.type,match:l.contentMatchAt(l.childCount)}),u=l.content}this.unplaced=H?0==l?h.p2.empty:new h.p2(dropFromFragment(E.content,l-1,1),l-1,L<0?E.openEnd:l-1):new h.p2(dropFromFragment(E.content,l,x),E.openStart,E.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let l=this.frontier[this.depth],u;if(!l.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,l.type,l.match,!1)||this.$to.depth==this.depth&&(u=this.findCloseLevel(this.$to))&&u.depth==this.depth)return -1;let{depth:p}=this.$to,h=this.$to.after(p);for(;p>1&&h==this.$to.end(--p);)++h;return h}findCloseLevel(l){n:for(let u=Math.min(this.depth,l.depth);u>=0;u--){let{match:p,type:h}=this.frontier[u],g=u<l.depth&&l.end(u+1)==l.pos+(l.depth-(u+1)),T=contentAfterFits(l,u,h,p,g);if(T){for(let p=u-1;p>=0;p--){let{match:u,type:h}=this.frontier[p],g=contentAfterFits(l,p,h,u,!0);if(!g||g.childCount)continue n}return{depth:u,fit:T,move:g?l.doc.resolve(l.after(u+1)):l}}}}close(l){let u=this.findCloseLevel(l);if(!u)return null;for(;this.depth>u.depth;)this.closeFrontierNode();u.fit.childCount&&(this.placed=addToFragment(this.placed,u.depth,u.fit)),l=u.move;for(let p=u.depth+1;p<=l.depth;p++){let u=l.node(p),h=u.type.contentMatch.fillBefore(u.content,!0,l.index(p));this.openFrontierNode(u.type,u.attrs,h)}return l}openFrontierNode(l,u=null,p){let g=this.frontier[this.depth];g.match=g.match.matchType(l),this.placed=addToFragment(this.placed,this.depth,h.HY.from(l.create(u,p))),this.frontier.push({type:l,match:l.contentMatch})}closeFrontierNode(){let l=this.frontier.pop().match.fillBefore(h.HY.empty,!0);l.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,l))}};function dropFromFragment(l,u,p){return 0==u?l.cutByIndex(p,l.childCount):l.replaceChild(0,l.firstChild.copy(dropFromFragment(l.firstChild.content,u-1,p)))}function addToFragment(l,u,p){return 0==u?l.append(p):l.replaceChild(l.childCount-1,l.lastChild.copy(addToFragment(l.lastChild.content,u-1,p)))}function contentAt(l,u){for(let p=0;p<u;p++)l=l.firstChild.content;return l}function contentAfterFits(l,u,p,h,g){let T=l.node(u),E=g?l.indexAfter(u):l.index(u);if(E==T.childCount&&!p.compatibleContent(T.type))return null;let v=h.fillBefore(T.content,!0,E);return v&&!function(l,u,p){for(let h=p;h<u.childCount;h++)if(!l.allowsMarks(u.child(h).marks))return!0;return!1}(p,T.content,E)?v:null}function coveredDepths(l,u){let p=[],h=Math.min(l.depth,u.depth);for(let g=h;g>=0;g--){let h=l.start(g);if(h<l.pos-(l.depth-g)||u.end(g)>u.pos+(u.depth-g)||l.node(g).type.spec.isolating||u.node(g).type.spec.isolating)break;(h==u.start(g)||g==l.depth&&g==u.depth&&l.parent.inlineContent&&u.parent.inlineContent&&g&&u.start(g-1)==h-1)&&p.push(g)}return p}let AttrStep=class AttrStep extends Step{constructor(l,u,p){super(),this.pos=l,this.attr=u,this.value=p}apply(l){let u=l.nodeAt(this.pos);if(!u)return StepResult.fail("No node at attribute step's position");let p=Object.create(null);for(let l in u.attrs)p[l]=u.attrs[l];p[this.attr]=this.value;let g=u.type.create(p,null,u.marks);return StepResult.fromReplace(l,this.pos,this.pos+1,new h.p2(h.HY.from(g),0,u.isLeaf?0:1))}getMap(){return StepMap.empty}invert(l){return new AttrStep(this.pos,this.attr,l.nodeAt(this.pos).attrs[this.attr])}map(l){let u=l.mapResult(this.pos,1);return u.deletedAfter?null:new AttrStep(u.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(l,u){if("number"!=typeof u.pos||"string"!=typeof u.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(u.pos,u.attr,u.value)}};Step.jsonID("attr",AttrStep);let DocAttrStep=class DocAttrStep extends Step{constructor(l,u){super(),this.attr=l,this.value=u}apply(l){let u=Object.create(null);for(let p in l.attrs)u[p]=l.attrs[p];u[this.attr]=this.value;let p=l.type.create(u,l.content,l.marks);return StepResult.ok(p)}getMap(){return StepMap.empty}invert(l){return new DocAttrStep(this.attr,l.attrs[this.attr])}map(l){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(l,u){if("string"!=typeof u.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(u.attr,u.value)}};Step.jsonID("docAttr",DocAttrStep);let T=class extends Error{};(T=function TransformError(l){let u=Error.call(this,l);return u.__proto__=TransformError.prototype,u}).prototype=Object.create(Error.prototype),T.prototype.constructor=T,T.prototype.name="TransformError";let Transform=class Transform{constructor(l){this.doc=l,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(l){let u=this.maybeStep(l);if(u.failed)throw new T(u.failed);return this}maybeStep(l){let u=l.apply(this.doc);return u.failed||this.addStep(l,u.doc),u}get docChanged(){return this.steps.length>0}addStep(l,u){this.docs.push(this.doc),this.steps.push(l),this.mapping.appendMap(l.getMap()),this.doc=u}replace(l,u=l,p=h.p2.empty){let g=replaceStep(this.doc,l,u,p);return g&&this.step(g),this}replaceWith(l,u,p){return this.replace(l,u,new h.p2(h.HY.from(p),0,0))}delete(l,u){return this.replace(l,u,h.p2.empty)}insert(l,u){return this.replaceWith(l,l,u)}replaceRange(l,u,p){return!function(l,u,p,g){if(!g.size)return l.deleteRange(u,p);let T=l.doc.resolve(u),E=l.doc.resolve(p);if(fitsTrivially(T,E,g))return l.step(new ReplaceStep(u,p,g));let v=coveredDepths(T,l.doc.resolve(p));0==v[v.length-1]&&v.pop();let C=-(T.depth+1);v.unshift(C);for(let l=T.depth,u=T.pos-1;l>0;l--,u--){let p=T.node(l).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;v.indexOf(l)>-1?C=l:T.before(l)==u&&v.splice(1,0,-l)}let x=v.indexOf(C),M=[],O=g.openStart;for(let l=g.content,u=0;;u++){let p=l.firstChild;if(M.push(p),u==g.openStart)break;l=p.content}for(let l=O-1;l>=0;l--){var R;let u=M[l],p=(R=u.type).spec.defining||R.spec.definingForContent;if(p&&!u.sameMarkup(T.node(Math.abs(C)-1)))O=l;else if(p||!u.type.isTextblock)break}for(let u=g.openStart;u>=0;u--){let C=(u+O+1)%(g.openStart+1),R=M[C];if(R)for(let u=0;u<v.length;u++){let M=v[(u+x)%v.length],O=!0;M<0&&(O=!1,M=-M);let L=T.node(M-1),H=T.index(M-1);if(L.canReplaceWith(H,H,R.type,R.marks))return l.replace(T.before(M),O?E.after(M):p,new h.p2(function closeFragment(l,u,p,g,T){if(u<p){let h=l.firstChild;l=l.replaceChild(0,h.copy(closeFragment(h.content,u+1,p,g,h)))}if(u>g){let u=T.contentMatchAt(0),p=u.fillBefore(l).append(l);l=p.append(u.matchFragment(p).fillBefore(h.HY.empty,!0))}return l}(g.content,0,g.openStart,C),C,g.openEnd))}}let L=l.steps.length;for(let h=v.length-1;h>=0&&(l.replace(u,p,g),!(l.steps.length>L));h--){let l=v[h];l<0||(u=T.before(l),p=E.after(l))}}(this,l,u,p),this}replaceRangeWith(l,u,p){return!function(l,u,p,g){if(!g.isInline&&u==p&&l.doc.resolve(u).parent.content.size){let h=function(l,u,p){let h=l.resolve(u);if(h.parent.canReplaceWith(h.index(),h.index(),p))return u;if(0==h.parentOffset)for(let l=h.depth-1;l>=0;l--){let u=h.index(l);if(h.node(l).canReplaceWith(u,u,p))return h.before(l+1);if(u>0)return null}if(h.parentOffset==h.parent.content.size)for(let l=h.depth-1;l>=0;l--){let u=h.indexAfter(l);if(h.node(l).canReplaceWith(u,u,p))return h.after(l+1);if(u<h.node(l).childCount)break}return null}(l.doc,u,g.type);null!=h&&(u=p=h)}l.replaceRange(u,p,new h.p2(h.HY.from(g),0,0))}(this,l,u,p),this}deleteRange(l,u){return!function(l,u,p){let h=l.doc.resolve(u),g=l.doc.resolve(p),T=coveredDepths(h,g);for(let u=0;u<T.length;u++){let p=T[u],E=u==T.length-1;if(E&&0==p||h.node(p).type.contentMatch.validEnd)return l.delete(h.start(p),g.end(p));if(p>0&&(E||h.node(p-1).canReplace(h.index(p-1),g.indexAfter(p-1))))return l.delete(h.before(p),g.after(p))}for(let T=1;T<=h.depth&&T<=g.depth;T++)if(u-h.start(T)==h.depth-T&&p>h.end(T)&&g.end(T)-p!=g.depth-T)return l.delete(h.before(T),p);l.delete(u,p)}(this,l,u),this}lift(l,u){return!function(l,u,p){let{$from:g,$to:T,depth:E}=u,v=g.before(E+1),C=T.after(E+1),x=v,M=C,O=h.HY.empty,R=0;for(let l=E,u=!1;l>p;l--)u||g.index(l)>0?(u=!0,O=h.HY.from(g.node(l).copy(O)),R++):x--;let L=h.HY.empty,H=0;for(let l=E,u=!1;l>p;l--)u||T.after(l+1)<T.end(l)?(u=!0,L=h.HY.from(T.node(l).copy(L)),H++):M++;l.step(new ReplaceAroundStep(x,M,v,C,new h.p2(O.append(L),R,H),O.size-R,!0))}(this,l,u),this}join(l,u=1){return!function(l,u,p){let g=new ReplaceStep(u-p,u+p,h.p2.empty,!0);l.step(g)}(this,l,u),this}wrap(l,u){return!function(l,u,p){let g=h.HY.empty;for(let l=p.length-1;l>=0;l--){if(g.size){let u=p[l].type.contentMatch.matchFragment(g);if(!u||!u.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}g=h.HY.from(p[l].type.create(p[l].attrs,g))}let T=u.start,E=u.end;l.step(new ReplaceAroundStep(T,E,T,E,new h.p2(g,0,0),p.length,!0))}(this,l,u),this}setBlockType(l,u=l,p,g=null){return!function(l,u,p,g,T){if(!g.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let E=l.steps.length;l.doc.nodesBetween(u,p,(u,p)=>{var v,C;let x,M;if(u.isTextblock&&!u.hasMarkup(g,T)&&(v=l.doc,C=l.mapping.slice(E).map(p),M=(x=v.resolve(C)).index(),x.parent.canReplaceWith(M,M+1,g))){let v=null;if(g.schema.linebreakReplacement){let l="pre"==g.whitespace,u=!!g.contentMatch.matchType(g.schema.linebreakReplacement);l&&!u?v=!1:!l&&u&&(v=!0)}!1===v&&function(l,u,p,h){u.forEach((g,T)=>{if(g.type==g.type.schema.linebreakReplacement){let g=l.mapping.slice(h).map(p+1+T);l.replaceWith(g,g+1,u.type.schema.text("\n"))}})}(l,u,p,E),clearIncompatible(l,l.mapping.slice(E).map(p,1),g,void 0,null===v);let C=l.mapping.slice(E),x=C.map(p,1),M=C.map(p+u.nodeSize,1);return l.step(new ReplaceAroundStep(x,M,x+1,M-1,new h.p2(h.HY.from(g.create(T,null,u.marks)),0,0),1,!0)),!0===v&&function(l,u,p,h){u.forEach((g,T)=>{if(g.isText){let E,v=/\r?\n|\r/g;for(;E=v.exec(g.text);){let g=l.mapping.slice(h).map(p+1+T+E.index);l.replaceWith(g,g+1,u.type.schema.linebreakReplacement.create())}}})}(l,u,p,E),!1}})}(this,l,u,p,g),this}setNodeMarkup(l,u,p=null,g){return!function(l,u,p,g,T){let E=l.doc.nodeAt(u);if(!E)throw RangeError("No node at given position");p||(p=E.type);let v=p.create(g,null,T||E.marks);if(E.isLeaf)return l.replaceWith(u,u+E.nodeSize,v);if(!p.validContent(E.content))throw RangeError("Invalid content for node type "+p.name);l.step(new ReplaceAroundStep(u,u+E.nodeSize,u+1,u+E.nodeSize-1,new h.p2(h.HY.from(v),0,0),1,!0))}(this,l,u,p,g),this}setNodeAttribute(l,u,p){return this.step(new AttrStep(l,u,p)),this}setDocAttribute(l,u){return this.step(new DocAttrStep(l,u)),this}addNodeMark(l,u){return this.step(new AddNodeMarkStep(l,u)),this}removeNodeMark(l,u){if(!(u instanceof h.vc)){let p=this.doc.nodeAt(l);if(!p)throw RangeError("No node at position "+l);if(!(u=u.isInSet(p.marks)))return this}return this.step(new RemoveNodeMarkStep(l,u)),this}split(l,u=1,p){return!function(l,u,p=1,g){let T=l.doc.resolve(u),E=h.HY.empty,v=h.HY.empty;for(let l=T.depth,u=T.depth-p,C=p-1;l>u;l--,C--){E=h.HY.from(T.node(l).copy(E));let u=g&&g[C];v=h.HY.from(u?u.type.create(u.attrs,v):T.node(l).copy(v))}l.step(new ReplaceStep(u,u,new h.p2(E.append(v),p,p),!0))}(this,l,u,p),this}addMark(l,u,p){var h;let g,T,E,v;return h=this,E=[],v=[],h.doc.nodesBetween(l,u,(h,C,x)=>{if(!h.isInline)return;let M=h.marks;if(!p.isInSet(M)&&x.type.allowsMarkType(p.type)){let x=Math.max(C,l),O=Math.min(C+h.nodeSize,u),R=p.addToSet(M);for(let l=0;l<M.length;l++)M[l].isInSet(R)||(g&&g.to==x&&g.mark.eq(M[l])?g.to=O:E.push(g=new RemoveMarkStep(x,O,M[l])));T&&T.to==x?T.to=O:v.push(T=new AddMarkStep(x,O,p))}}),E.forEach(l=>h.step(l)),v.forEach(l=>h.step(l)),this}removeMark(l,u,p){var g;let T,E;return g=this,T=[],E=0,g.doc.nodesBetween(l,u,(g,v)=>{if(!g.isInline)return;E++;let C=null;if(p instanceof h.ZU){let l=g.marks,u;for(;u=p.isInSet(l);)(C||(C=[])).push(u),l=u.removeFromSet(l)}else p?p.isInSet(g.marks)&&(C=[p]):C=g.marks;if(C&&C.length){let p=Math.min(v+g.nodeSize,u);for(let u=0;u<C.length;u++){let h=C[u],g;for(let l=0;l<T.length;l++){let u=T[l];u.step==E-1&&h.eq(T[l].style)&&(g=u)}g?(g.to=p,g.step=E):T.push({style:h,from:Math.max(v,l),to:p,step:E})}}}),T.forEach(l=>g.step(new RemoveMarkStep(l.from,l.to,l.style))),this}clearIncompatible(l,u,p){return clearIncompatible(this,l,u,p),this}}},11590:function(l,u,p){"use strict";p.d(u,{ZP:function(){return er}});var h=!1,sendChunked=(l,u)=>{if(l.byteLength<=1e6){u.send(l);return}h||(console.warn("[y-partykit]","The Y.js update size exceeds 1MB, which is the maximum size for an individual update. The update will be split into chunks. This is an experimental feature.",`Message size: ${(l.byteLength/1e3/1e3).toFixed(1)}MB`),h=!0);let p=(Date.now()+Math.random()).toString(36).substring(10),g=Math.ceil(l.byteLength/1e6);u.send(serializeBatchMarker({id:p,type:"start",size:l.byteLength,count:g}));let T=0,E=0;for(let p=0;p<g;p++){let h=l.slice(1e6*p,1e6*(p+1));u.send(h),E+=1,T+=h.byteLength}u.send(serializeBatchMarker({id:p,type:"end",size:T,count:E}))};function serializeBatchMarker(l){return`y-pk-batch#${JSON.stringify(l)}`}var g=p(35423),T=p(45791),E=p(6472),v=p(47856);let C=new Map,x="undefined"==typeof BroadcastChannel?class{constructor(l){this.room=l,this.onmessage=null,this._onChange=u=>u.key===l&&null!==this.onmessage&&this.onmessage({data:E.Gh(u.newValue||"")}),v.z2(this._onChange)}postMessage(l){v.XN.setItem(this.room,E.s3(E.eh(l)))}close(){v.F(this._onChange)}}:BroadcastChannel,getChannel=l=>g.Yu(C,l,()=>{let u=T.Ue(),p=new x(l);return p.onmessage=l=>u.forEach(u=>u(l.data,"broadcastchannel")),{bc:p,subs:u}}),subscribe=(l,u)=>(getChannel(l).subs.add(u),u),unsubscribe=(l,u)=>{let p=getChannel(l),h=p.subs.delete(u);return h&&0===p.subs.size&&(p.bc.close(),C.delete(l)),h},publish=(l,u,p=null)=>{let h=getChannel(l);h.bc.postMessage(u),h.subs.forEach(l=>l(u,p))};var M=p(65275),O=p(873),R=p(73583),L=p(69506),H=p(11585),U=p(11530);let encodeQueryParams=l=>U.UI(l,(l,u)=>`${encodeURIComponent(u)}=${encodeURIComponent(l)}`).join("&"),readAuthMessage=(l,u,p)=>{0===M.yg(l)&&p(u,M.kf(l))};var j=p(83685);let Awareness=class Awareness extends L.y{constructor(l){super(),this.doc=l,this.clientID=l.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let l=H.ZG();null!==this.getLocalState()&&15e3<=l-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let u=[];this.meta.forEach((p,h)=>{h!==this.clientID&&3e4<=l-p.lastUpdated&&this.states.has(h)&&u.push(h)}),u.length>0&&removeAwarenessStates(this,u,"timeout")},R.GW(3e3)),l.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(l){let u=this.clientID,p=this.meta.get(u),h=void 0===p?0:p.clock+1,g=this.states.get(u);null===l?this.states.delete(u):this.states.set(u,l),this.meta.set(u,{clock:h,lastUpdated:H.ZG()});let T=[],E=[],v=[],C=[];null===l?C.push(u):null==g?null!=l&&T.push(u):(E.push(u),j.Hi(g,l)||v.push(u)),(T.length>0||v.length>0||C.length>0)&&this.emit("change",[{added:T,updated:v,removed:C},"local"]),this.emit("update",[{added:T,updated:E,removed:C},"local"])}setLocalStateField(l,u){let p=this.getLocalState();null!==p&&this.setLocalState({...p,[l]:u})}getStates(){return this.states}};let removeAwarenessStates=(l,u,p)=>{let h=[];for(let p=0;p<u.length;p++){let g=u[p];if(l.states.has(g)){if(l.states.delete(g),g===l.clientID){let u=l.meta.get(g);l.meta.set(g,{clock:u.clock+1,lastUpdated:H.ZG()})}h.push(g)}}h.length>0&&(l.emit("change",[{added:[],updated:[],removed:h},p]),l.emit("update",[{added:[],updated:[],removed:h},p]))},encodeAwarenessUpdate=(l,u,p=l.states)=>{let h=u.length,g=O.Mf();O.uE(g,h);for(let T=0;T<h;T++){let h=u[T],E=p.get(h)||null,v=l.meta.get(h).clock;O.uE(g,h),O.uE(g,v),O.uw(g,JSON.stringify(E))}return O._f(g)},applyAwarenessUpdate=(l,u,p)=>{let h=M.l1(u),g=H.ZG(),T=[],E=[],v=[],C=[],x=M.yg(h);for(let u=0;u<x;u++){let u=M.yg(h),p=M.yg(h),x=JSON.parse(M.kf(h)),O=l.meta.get(u),R=l.states.get(u),L=void 0===O?0:O.clock;(L<p||L===p&&null===x&&l.states.has(u))&&(null===x?u===l.clientID&&null!=l.getLocalState()?p++:l.states.delete(u):l.states.set(u,x),l.meta.set(u,{clock:p,lastUpdated:g}),void 0===O&&null!==x?T.push(u):void 0!==O&&null===x?C.push(u):null!==x&&(j.Hi(x,R)||v.push(u),E.push(u)))}(T.length>0||v.length>0||C.length>0)&&l.emit("change",[{added:T,updated:v,removed:C},p]),(T.length>0||E.length>0||C.length>0)&&l.emit("update",[{added:T,updated:E,removed:C},p])};var G=p(87930);let writeSyncStep1=(l,u)=>{O.uE(l,0);let p=G.gJ(u);O.mP(l,p)},writeSyncStep2=(l,u,p)=>{O.uE(l,1),O.mP(l,G.D$(u,p))},readSyncStep1=(l,u,p)=>writeSyncStep2(u,p,M.HN(l)),readSyncStep2=(l,u,p)=>{try{G.NG(u,M.HN(l),p)}catch(l){console.error("Caught error while handling a Yjs update",l)}},writeUpdate=(l,u)=>{O.uE(l,2),O.mP(l,u)},readSyncMessage=(l,u,p,h)=>{let g=M.yg(l);switch(g){case 0:readSyncStep1(l,u,p);break;case 1:case 2:readSyncStep2(l,p,h);break;default:throw Error("Unknown message type")}return g};var W=p(48497),q="undefined"==typeof window,Y=[];function readMessage(l,u,p){let h=M.l1(u),g=O.Mf(),T=M.yg(h),E=l.messageHandlers[T];return E?E(g,h,l,p,T):console.error("Unable to compute message"),g}function broadcastMessage(l,u){let p=l.ws;l.wsconnected&&p&&p.readyState===p.OPEN&&sendChunked(u,p),l.bcconnected&&publish(l.bcChannel,u,l)}Y[0]=(l,u,p,h,g)=>{O.uE(l,0);let T=readSyncMessage(u,l,p.doc,p);h&&1===T&&!p.synced&&(p.synced=!0)},Y[3]=(l,u,p,h,g)=>{O.uE(l,1),O.mP(l,encodeAwarenessUpdate(p.awareness,Array.from(p.awareness.getStates().keys())))},Y[1]=(l,u,p,h,g)=>{applyAwarenessUpdate(p.awareness,M.HN(u),p)},Y[2]=(l,u,p,h,g)=>{readAuthMessage(u,p.doc,(l,u)=>{console.warn(`Permission denied to access ${p.url}.
${u}`)})};var X="undefined"==typeof WebSocket?null:WebSocket,Z=class extends L.y{maxBackoffTime;bcChannel;url;roomname;doc;_WS;awareness;wsconnected;wsconnecting;bcconnected;disableBc;wsUnsuccessfulReconnects;messageHandlers;_synced;ws;wsLastMessageReceived;shouldConnect;_resyncInterval;_bcSubscriber;_updateHandler;_awarenessUpdateHandler;_unloadHandler;_checkInterval;constructor(l,u,p,{connect:h=!0,awareness:g=new Awareness(p),params:T={},WebSocketPolyfill:E=X,resyncInterval:v=-1,maxBackoffTime:C=2500,disableBc:x=q}={}){for(super();"/"===l[l.length-1];)l=l.slice(0,l.length-1);let M=encodeQueryParams(T);this.maxBackoffTime=C,this.bcChannel=l+"/"+u,this.url=l+"/"+u+(0===M.length?"":"?"+M),this.roomname=u,this.doc=p,this._WS=E,this.awareness=g,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=x,this.wsUnsuccessfulReconnects=0,this.messageHandlers=Y.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=h,this._resyncInterval=0,v>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){let l=O.Mf();O.uE(l,0),writeSyncStep1(l,p),sendChunked(O._f(l),this.ws)}},v)),this._bcSubscriber=(l,u)=>{if(u!==this){let u=readMessage(this,new Uint8Array(l),!1);O.kE(u)>1&&publish(this.bcChannel,O._f(u),this)}},this._updateHandler=(l,u)=>{if(u!==this){let u=O.Mf();O.uE(u,0),writeUpdate(u,l),broadcastMessage(this,O._f(u))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:l,updated:u,removed:p},h)=>{let T=l.concat(u).concat(p),E=O.Mf();O.uE(E,1),O.mP(E,encodeAwarenessUpdate(g,T)),broadcastMessage(this,O._f(E))},this._unloadHandler=()=>{removeAwarenessStates(this.awareness,[p.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("unload",this._unloadHandler):void 0!==W&&"function"==typeof W.on&&W.on("exit",this._unloadHandler),g.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&3e4<H.ZG()-this.wsLastMessageReceived&&(function(l,u){if(!l)throw Error(u)}(null!==this.ws,"ws must not be null"),this.ws.close())},3e3),h&&this.connect()}get synced(){return this._synced}set synced(l){this._synced!==l&&(this._synced=l,this.emit("synced",[l]),this.emit("sync",[l]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("unload",this._unloadHandler):void 0!==W&&"function"==typeof W.off&&W.off("exit",this._unloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(subscribe(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);let l=O.Mf();O.uE(l,0),writeSyncStep1(l,this.doc),publish(this.bcChannel,O._f(l),this);let u=O.Mf();O.uE(u,0),writeSyncStep2(u,this.doc),publish(this.bcChannel,O._f(u),this);let p=O.Mf();O.uE(p,3),publish(this.bcChannel,O._f(p),this);let h=O.Mf();O.uE(h,1),O.mP(h,encodeAwarenessUpdate(this.awareness,[this.doc.clientID])),publish(this.bcChannel,O._f(h),this)}disconnectBc(){let l=O.Mf();O.uE(l,1),O.mP(l,encodeAwarenessUpdate(this.awareness,[this.doc.clientID],new Map)),broadcastMessage(this,O._f(l)),this.bcconnected&&(unsubscribe(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(function setupWS(l){if(l.shouldConnect&&null===l.ws){if(!l._WS)throw Error("No WebSocket implementation available, did you forget to pass options.WebSocketPolyfill?");let u=new l._WS(l.url);u.binaryType="arraybuffer",l.ws=u,l.wsconnecting=!0,l.wsconnected=!1,l.synced=!1,u.addEventListener("message",p=>{if("string"==typeof p.data)return;l.wsLastMessageReceived=H.ZG();let h=readMessage(l,new Uint8Array(p.data),!0);O.kE(h)>1&&sendChunked(O._f(h),u)}),u.addEventListener("error",u=>{l.emit("connection-error",[u,l])}),u.addEventListener("close",u=>{l.emit("connection-close",[u,l]),l.ws=null,l.wsconnecting=!1,l.wsconnected?(l.wsconnected=!1,l.synced=!1,removeAwarenessStates(l.awareness,Array.from(l.awareness.getStates().keys()).filter(u=>u!==l.doc.clientID),l),l.emit("status",[{status:"disconnected"}])):l.wsUnsuccessfulReconnects++,setTimeout(setupWS,R.VV(100*R.sQ(2,l.wsUnsuccessfulReconnects),l.maxBackoffTime),l)}),u.addEventListener("open",()=>{l.wsLastMessageReceived=H.ZG(),l.wsconnecting=!1,l.wsconnected=!0,l.wsUnsuccessfulReconnects=0,l.emit("status",[{status:"connected"}]);let p=O.Mf();if(O.uE(p,0),writeSyncStep1(p,l.doc),sendChunked(O._f(p),u),null!==l.awareness.getLocalState()){let p=O.Mf();O.uE(p,1),O.mP(p,encodeAwarenessUpdate(l.awareness,[l.doc.clientID])),sendChunked(O._f(p),u)}}),l.emit("status",[{status:"connecting"}])}}(this),this.connectBc())}};function assertType(l,u,p){if(typeof l!==p)throw Error(`Invalid "${u}" parameter provided to YPartyKitProvider. Expected: ${p}, received: ${l}`)}var er=class extends Z{id;#e;constructor(l,u,p,h={}){assertType(l,"host","string"),assertType(u,"room","string"),(l=l.replace(/^(http|https|ws|wss):\/\//,"")).endsWith("/")&&l.slice(0,-1);let g=`${h.protocol||(l.startsWith("localhost:")||l.startsWith("127.0.0.1:")||l.startsWith("192.168.")||l.startsWith("10.")||l.startsWith("172.")&&l.split(".")[1]>="16"&&l.split(".")[1]<="31"?"ws":"wss")}://${l}${h.party?`/parties/${h.party}`:"/party"}`,T=h.connectionId??function(){if(crypto.randomUUID)return crypto.randomUUID();let l=new Date().getTime(),u="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){let h=16*Math.random();return l>0?(h=(l+h)%16|0,l=Math.floor(l/16)):(h=(u+h)%16|0,u=Math.floor(u/16)),("x"===p?h:3&h|8).toString(16)})}(),{params:E,connect:v=!0,...C}=h,x={...C,connect:!1};super(g,u,p??new G.QW,x),this.id=T,this.#e=E,v&&this.connect()}connect(){Promise.resolve("function"==typeof this.#e?this.#e():this.#e).then(l=>{let u=new URLSearchParams([["_pk",this.id]]);if(l)for(let[p,h]of Object.entries(l))null!=h&&u.append(p,h);let p=new URL(this.url);p.search=u.toString(),this.url=p.toString(),super.connect()}).catch(l=>{throw console.error("Failed to open connecton to PartyKit",l),Error(l)})}}}}]);