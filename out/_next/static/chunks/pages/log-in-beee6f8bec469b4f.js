(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{13831:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/log-in",function(){return s(76794)}])},26335:function(e,t,s){"use strict";var a=s(28598),l=s(1887),r=s.n(l);t.Z=()=>(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,a.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},82067:function(e,t,s){"use strict";var a=s(28598),l=s(82684),r=s(97574),n=s(79869),i=s(34376);s(12691);var o=s(26978),c=s(47663),m=s(56572);t.Z=e=>{let{id:t,userType:s,children:u,rootClassNames:d="",contentClassNames:g=""}=e,{Content:f,Sider:h}=n.Layout,[x,y]=(0,l.useState)([]),[p,b]=(0,l.useContext)(r.S),j=(0,i.useRouter)(),redirect=e=>{j.push(e)},logout=()=>{localStorage.removeItem("defogUser"),localStorage.removeItem("defogToken"),localStorage.removeItem("defogUserType"),b({user:null,token:null,userType:null}),redirect("/static/log-in.html")},w=(0,c.usePathname)();(0,l.useEffect)(()=>{y(("admin"==s?[{key:"manage-database",title:"Manage Database",href:"/static/extract-metadata.html"},{key:"manage-users",title:"Manage Users",href:"/static/manage-users.html"},{key:"manage-tools",title:"Manage tools",href:"/static/manage-tools.html"},{key:"check-readiness",title:"Check Readiness",href:"/static/check-readiness.html"},{key:"align-model",title:"Align Model",href:"/static/align-model.html"},{key:"view-feedback",title:"View Feedback",href:"/static/view-feedback.html"},{key:"query-data",title:"Query Data",href:"/static/query-data.html"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:logout}]:s?[{key:"query-data",title:"Query Data",href:"/static/query-data.html"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:logout}]:[]).map(e=>(e.current=e.href==w,e)))},[s]);let[k,v]=(0,l.useState)("flex flex-col md:min-h-screen relative container mx-auto");return(0,l.useEffect)(()=>{"/query-data"===w&&v("flex flex-col md:min-h-screen relative")},[w]),(0,a.jsxs)("div",{className:(0,m.m6)(k,d),children:[x.length?(0,a.jsx)(o.l2,{rootClassNames:"border-b",items:x}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:(0,m.m6)("grow",g),children:u})]})}},76794:function(e,t,s){"use strict";s.r(t);var a=s(28598),l=s(82684),r=s(34376),n=s(18953),i=s(26335),o=s(97574),c=s(82067),m=s(48497);t.default=()=>{let[e,t]=(0,l.useContext)(o.S),s=(0,r.useRouter)(),handleLogin=async e=>{e.preventDefault();let a=new FormData(e.target),l=Object.fromEntries(a),r=(m.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"")+"/login",i=await fetch(r,{method:"POST",body:JSON.stringify(l)}),o=await i.json();"success"===o.status?(t({user:l.username,token:o.token,userType:o.user_type}),localStorage.setItem("defogUser",l.username),localStorage.setItem("defogToken",o.token),localStorage.setItem("defogUserType",o.user_type),"admin"===o.user_type?s.push("/static/extract-metadata.html"):s.push("/static/query-data.html")):n.default.error("Login failed. Please contact your administrator.")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)(c.Z,{children:(0,a.jsxs)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8 mt-16",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsx)("img",{alt:"Defog.ai",src:"/static/logo512.png",className:"mx-auto h-10 w-auto"}),(0,a.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign in to Defog"})]}),(0,a.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsxs)("form",{onSubmit:handleLogin,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900",children:"Username"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{id:"username",name:"username",type:"text",required:!0,autoComplete:"username",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-blue-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:"Sign in"})})]}),(0,a.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Don't have an API key?"," ",(0,a.jsx)("a",{href:"https://defog.ai/signup",className:"font-semibold leading-6 text-blue-600 hover:text-blue-500",children:"Get Started Free"})]})]})]})})]})}}},function(e){e.O(0,[435,774,888,179],function(){return e(e.s=13831)}),_N_E=e.O()}]);